var Xne=Object.defineProperty;var xV=n=>{throw TypeError(n)};var Jne=(n,e,t)=>e in n?Xne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var we=(n,e,t)=>Jne(n,typeof e!="symbol"?e+"":e,t),jM=(n,e,t)=>e.has(n)||xV("Cannot "+t);var f=(n,e,t)=>(jM(n,e,"read from private field"),t?t.call(n):e.get(n)),M=(n,e,t)=>e.has(n)?xV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>(jM(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),U=(n,e,t)=>(jM(n,e,"access private method"),t);var gi=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function Zne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function qA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WM={exports:{}},F0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V;function eie(){if(_V)return F0;_V=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return F0.Fragment=e,F0.jsx=t,F0.jsxs=t,F0}var TV;function tie(){return TV||(TV=1,WM.exports=eie()),WM.exports}var L=tie(),YM={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function nie(){if(IV)return ct;IV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function x(z,X,oe){this.props=z,this.context=X,this.refs=E,this.updater=oe||C}x.prototype.isReactComponent={},x.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=x.prototype;function T(z,X,oe){this.props=z,this.context=X,this.refs=E,this.updater=oe||C}var R=T.prototype=new I;R.constructor=T,b(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function D(){}var Q={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(z,X,oe){var me=oe.ref;return{$$typeof:n,type:z,key:X,ref:me!==void 0?me:null,props:oe}}function K(z,X){return k(z.type,X,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function q(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(oe){return X[oe]})}var J=/\/+/g;function te(z,X){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):X.toString(36)}function he(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,X,oe,me,Se){var _e=typeof z;(_e==="undefined"||_e==="boolean")&&(z=null);var Be=!1;if(z===null)Be=!0;else switch(_e){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(z.$$typeof){case n:case e:Be=!0;break;case d:return Be=z._init,G(Be(z._payload),X,oe,me,Se)}}if(Be)return Se=Se(z),Be=me===""?"."+te(z,0):me,P(Se)?(oe="",Be!=null&&(oe=Be.replace(J,"$&/")+"/"),G(Se,X,oe,"",function(Pe){return Pe})):Se!=null&&(V(Se)&&(Se=K(Se,oe+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(J,"$&/")+"/")+Be)),X.push(Se)),1;Be=0;var Je=me===""?".":me+":";if(P(z))for(var ie=0;ie<z.length;ie++)me=z[ie],_e=Je+te(me,ie),Be+=G(me,X,oe,_e,Se);else if(ie=v(z),typeof ie=="function")for(z=ie.call(z),ie=0;!(me=z.next()).done;)me=me.value,_e=Je+te(me,ie++),Be+=G(me,X,oe,_e,Se);else if(_e==="object"){if(typeof z.then=="function")return G(he(z),X,oe,me,Se);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Be}function $(z,X,oe){if(z==null)return z;var me=[],Se=0;return G(z,me,"","",function(_e){return X.call(oe,_e,Se++)}),me}function re(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(oe){(z._status===0||z._status===-1)&&(z._status=1,z._result=oe)},function(oe){(z._status===0||z._status===-1)&&(z._status=2,z._result=oe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ce={map:$,forEach:function(z,X,oe){$(z,function(){X.apply(this,arguments)},oe)},count:function(z){var X=0;return $(z,function(){X++}),X},toArray:function(z){return $(z,function(X){return X})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ct.Activity=h,ct.Children=Ce,ct.Component=x,ct.Fragment=t,ct.Profiler=r,ct.PureComponent=T,ct.StrictMode=i,ct.Suspense=l,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Q.H.useMemoCache(z)}},ct.cache=function(z){return function(){return z.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function(z,X,oe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var me=b({},z.props),Se=z.key;if(X!=null)for(_e in X.key!==void 0&&(Se=""+X.key),X)!H.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(me[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)me.children=oe;else if(1<_e){for(var Be=Array(_e),Je=0;Je<_e;Je++)Be[Je]=arguments[Je+2];me.children=Be}return k(z.type,Se,me)},ct.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},ct.createElement=function(z,X,oe){var me,Se={},_e=null;if(X!=null)for(me in X.key!==void 0&&(_e=""+X.key),X)H.call(X,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=X[me]);var Be=arguments.length-2;if(Be===1)Se.children=oe;else if(1<Be){for(var Je=Array(Be),ie=0;ie<Be;ie++)Je[ie]=arguments[ie+2];Se.children=Je}if(z&&z.defaultProps)for(me in Be=z.defaultProps,Be)Se[me]===void 0&&(Se[me]=Be[me]);return k(z,_e,Se)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:o,render:z}},ct.isValidElement=V,ct.lazy=function(z){return{$$typeof:d,_payload:{_status:-1,_result:z},_init:re}},ct.memo=function(z,X){return{$$typeof:u,type:z,compare:X===void 0?null:X}},ct.startTransition=function(z){var X=Q.T,oe={};Q.T=oe;try{var me=z(),Se=Q.S;Se!==null&&Se(oe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(D,de)}catch(_e){de(_e)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),Q.T=X}},ct.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ct.use=function(z){return Q.H.use(z)},ct.useActionState=function(z,X,oe){return Q.H.useActionState(z,X,oe)},ct.useCallback=function(z,X){return Q.H.useCallback(z,X)},ct.useContext=function(z){return Q.H.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z,X){return Q.H.useDeferredValue(z,X)},ct.useEffect=function(z,X){return Q.H.useEffect(z,X)},ct.useEffectEvent=function(z){return Q.H.useEffectEvent(z)},ct.useId=function(){return Q.H.useId()},ct.useImperativeHandle=function(z,X,oe){return Q.H.useImperativeHandle(z,X,oe)},ct.useInsertionEffect=function(z,X){return Q.H.useInsertionEffect(z,X)},ct.useLayoutEffect=function(z,X){return Q.H.useLayoutEffect(z,X)},ct.useMemo=function(z,X){return Q.H.useMemo(z,X)},ct.useOptimistic=function(z,X){return Q.H.useOptimistic(z,X)},ct.useReducer=function(z,X,oe){return Q.H.useReducer(z,X,oe)},ct.useRef=function(z){return Q.H.useRef(z)},ct.useState=function(z){return Q.H.useState(z)},ct.useSyncExternalStore=function(z,X,oe){return Q.H.useSyncExternalStore(z,X,oe)},ct.useTransition=function(){return Q.H.useTransition()},ct.version="19.2.1",ct}var FV;function xy(){return FV||(FV=1,YM.exports=nie()),YM.exports}var F=xy();const Nw=qA(F),iie=Zne({__proto__:null,default:Nw},[F]);var XM={exports:{}},M0={},JM={exports:{}},ZM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function rie(){return MV||(MV=1,(function(n){function e(G,$){var re=G.length;G.push($);e:for(;0<re;){var de=re-1>>>1,Ce=G[de];if(0<r(Ce,$))G[de]=$,G[re]=Ce,re=de;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],re=G.pop();if(re!==$){G[0]=re;e:for(var de=0,Ce=G.length,z=Ce>>>1;de<z;){var X=2*(de+1)-1,oe=G[X],me=X+1,Se=G[me];if(0>r(oe,re))me<Ce&&0>r(Se,oe)?(G[de]=Se,G[me]=re,de=me):(G[de]=oe,G[X]=re,de=X);else if(me<Ce&&0>r(Se,re))G[de]=Se,G[me]=re,de=me;else break e}}return $}function r(G,$){var re=G.sortIndex-$.sortIndex;return re!==0?re:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,C=!1,b=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=G)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function P(G){if(b=!1,R(G),!C)if(t(l)!==null)C=!0,D||(D=!0,q());else{var $=t(u);$!==null&&he(P,$.startTime-G)}}var D=!1,Q=-1,H=5,k=-1;function K(){return E?!0:!(n.unstable_now()-k<H)}function V(){if(E=!1,D){var G=n.unstable_now();k=G;var $=!0;try{e:{C=!1,b&&(b=!1,I(Q),Q=-1),v=!0;var re=g;try{t:{for(R(G),h=t(l);h!==null&&!(h.expirationTime>G&&K());){var de=h.callback;if(typeof de=="function"){h.callback=null,g=h.priorityLevel;var Ce=de(h.expirationTime<=G);if(G=n.unstable_now(),typeof Ce=="function"){h.callback=Ce,R(G),$=!0;break t}h===t(l)&&i(l),R(G)}else i(l);h=t(l)}if(h!==null)$=!0;else{var z=t(u);z!==null&&he(P,z.startTime-G),$=!1}}break e}finally{h=null,g=re,v=!1}$=void 0}}finally{$?q():D=!1}}}var q;if(typeof T=="function")q=function(){T(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=V,q=function(){te.postMessage(null)}}else q=function(){x(V,0)};function he(G,$){Q=x(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var re=g;g=$;try{return G()}finally{g=re}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=g;g=G;try{return $()}finally{g=re}},n.unstable_scheduleCallback=function(G,$,re){var de=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,G){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=re+Ce,G={id:d++,callback:$,priorityLevel:G,startTime:re,expirationTime:Ce,sortIndex:-1},re>de?(G.sortIndex=re,e(u,G),t(l)===null&&G===t(u)&&(b?(I(Q),Q=-1):b=!0,he(P,re-de))):(G.sortIndex=Ce,e(l,G),C||v||(C=!0,D||(D=!0,q()))),G},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(G){var $=g;return function(){var re=g;g=$;try{return G.apply(this,arguments)}finally{g=re}}}})(ZM)),ZM}var UV;function sie(){return UV||(UV=1,JM.exports=rie()),JM.exports}var eU={exports:{}},Nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV;function aie(){if(PV)return Nr;PV=1;var n=xy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nr.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Nr.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},Nr.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Nr.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Nr.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Nr.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Nr.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Nr.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Nr.requestFormReset=function(l){i.d.r(l)},Nr.unstable_batchedUpdates=function(l,u){return l(u)},Nr.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Nr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Nr.version="19.2.1",Nr}var RV;function Q$(){if(RV)return eU.exports;RV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eU.exports=aie(),eU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function oie(){if(DV)return M0;DV=1;var n=sie(),e=xy(),t=Q$();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var S=B.alternate;if(S===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===S.child){for(S=B.child;S;){if(S===p)return l(B),A;if(S===m)return l(B),c;S=S.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=S;else{for(var N=!1,O=B.child;O;){if(O===p){N=!0,p=B,m=S;break}if(O===m){N=!0,m=B,p=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===p){N=!0,p=S,m=B;break}if(O===m){N=!0,m=S,p=B;break}O=O.sibling}if(!N)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var J=Symbol.for("react.client.reference");function te(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===J?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case b:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case C:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Q:return c=A.displayName||null,c!==null?c:te(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return te(A(c))}catch{}}return null}var he=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],Ce=-1;function z(A){return{current:A}}function X(A){0>Ce||(A.current=de[Ce],de[Ce]=null,Ce--)}function oe(A,c){Ce++,de[Ce]=A.current,A.current=c}var me=z(null),Se=z(null),_e=z(null),Be=z(null);function Je(A,c){switch(oe(_e,c),oe(Se,A),oe(me,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?W4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=W4(c),A=Y4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}X(me),oe(me,A)}function ie(){X(me),X(Se),X(_e)}function Pe(A){A.memoizedState!==null&&oe(Be,A);var c=me.current,p=Y4(c,A.type);c!==p&&(oe(Se,A),oe(me,p))}function Ge(A){Se.current===A&&(X(me),X(Se)),Be.current===A&&(X(Be),x0._currentValue=re)}var ye,Nt;function Ze(A){if(ye===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ye=c&&c[1]||"",Nt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+A+Nt}var Zt=!1;function Lt(A,c){if(!A||Zt)return"";Zt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ae){var ne=ae}Reflect.construct(A,[],ve)}else{try{ve.call()}catch(ae){ne=ae}A.call(ve.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ve=A())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],O=S[1];if(N&&O){var j=N.split(`
`),ee=O.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<ee.length&&!ee[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===ee.length)for(m=j.length-1,B=ee.length-1;1<=m&&0<=B&&j[m]!==ee[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==ee[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==ee[B]){var fe=`
`+j[m].replace(" at new "," at ");return A.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",A.displayName)),fe}while(1<=m&&0<=B);break}}}finally{Zt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?Ze(p):""}function On(A,c){switch(A.tag){case 26:case 27:case 5:return Ze(A.type);case 16:return Ze("Lazy");case 13:return A.child!==c&&c!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Lt(A.type,!1);case 11:return Lt(A.type.render,!1);case 1:return Lt(A.type,!0);case 31:return Ze("Activity");default:return""}}function ut(A){try{var c="",p=null;do c+=On(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ei=Object.prototype.hasOwnProperty,fs=n.unstable_scheduleCallback,vn=n.unstable_cancelCallback,hs=n.unstable_shouldYield,xe=n.unstable_requestPaint,Te=n.unstable_now,le=n.unstable_getCurrentPriorityLevel,be=n.unstable_ImmediatePriority,We=n.unstable_UserBlockingPriority,Ye=n.unstable_NormalPriority,Qt=n.unstable_LowPriority,jt=n.unstable_IdlePriority,ti=n.log,Yr=n.unstable_setDisableYieldValue,Rr=null,Wn=null;function ks(A){if(typeof ti=="function"&&Yr(A),Wn&&typeof Wn.setStrictMode=="function")try{Wn.setStrictMode(Rr,A)}catch{}}var Hn=Math.clz32?Math.clz32:Oy,vo=Math.log,Vp=Math.LN2;function Oy(A){return A>>>=0,A===0?32:31-(vo(A)/Vp|0)|0}var Jo=256,WA=262144,Ju=4194304;function yo(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Dr(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,S=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~S,m!==0?B=yo(m):(N&=O,N!==0?B=yo(N):p||(p=O&~A,p!==0&&(B=yo(p))))):(O=m&~S,O!==0?B=yo(O):N!==0?B=yo(N):p||(p=m&~A,p!==0&&(B=yo(p)))),B===0?0:c!==0&&c!==B&&(c&S)===0&&(S=B&-B,p=c&-c,S>=p||S===32&&(p&4194048)!==0)?c:B}function Zo(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function Kp(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var A=Ju;return Ju<<=1,(Ju&62914560)===0&&(Ju=4194304),A}function se(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function ce(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function Ee(A,c,p,m,B,S){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,ee=A.hiddenUpdates;for(p=N&~p;0<p;){var fe=31-Hn(p),ve=1<<fe;O[fe]=0,j[fe]=-1;var ne=ee[fe];if(ne!==null)for(ee[fe]=null,fe=0;fe<ne.length;fe++){var ae=ne[fe];ae!==null&&(ae.lane&=-536870913)}p&=~ve}m!==0&&Fe(A,m,0),S!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=S&~(N&~c))}function Fe(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-Hn(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function ze(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-Hn(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function Xe(A,c){var p=c&-c;return p=(p&42)!==0?1:At(p),(p&(A.suspendedLanes|c))!==0?0:p}function At(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Et(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function xn(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:yV(A.type))}function Me(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var ot=Math.random().toString(36).slice(2),it="__reactFiber$"+ot,Bt="__reactProps$"+ot,_n="__reactContainer$"+ot,dr="__reactEvents$"+ot,fr="__reactListeners$"+ot,Ei="__reactHandles$"+ot,eA="__reactResources$"+ot,ni="__reactMarker$"+ot;function Hy(A){delete A[it],delete A[Bt],delete A[dr],delete A[fr],delete A[Ei]}function ec(A){var c=A[it];if(c)return c;for(var p=A.parentNode;p;){if(c=p[_n]||p[it]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=iV(A);A!==null;){if(p=A[it])return p;A=iV(A)}return c}A=p,p=A.parentNode}return null}function tA(A){if(A=A[it]||A[_n]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function hf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function tc(A){var c=A[eA];return c||(c=A[eA]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ii(A){A[ni]=!0}var _E=new Set,TE={};function YA(A,c){pe(A,c),pe(A+"Capture",c)}function pe(A,c){for(TE[A]=c,A=0;A<c.length;A++)_E.add(c[A])}var Ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ne={},ke={};function Ut(A){return ei.call(ke,A)?!0:ei.call(Ne,A)?!1:Ie.test(A)?ke[A]=!0:(Ne[A]=!0,!1)}function Vn(A,c,p){if(Ut(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function Tn(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function Vt(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function Si(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Vy(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,S=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function HI(A){if(!A._valueTracker){var c=Vy(A)?"checked":"value";A._valueTracker=Gee(A,c,""+A[c])}}function VO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Vy(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function IE(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var zee=/[\n"\\]/g;function xa(A){return A.replace(zee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function VI(A,c,p,m,B,S,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+Si(c)):A.value!==""+Si(c)&&(A.value=""+Si(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?KI(A,N,Si(c)):p!=null?KI(A,N,Si(p)):m!=null&&A.removeAttribute("value"),B==null&&S!=null&&(A.defaultChecked=!!S),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+Si(O):A.removeAttribute("name")}function KO(A,c,p,m,B,S,N,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(A.type=S),c!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){HI(A);return}p=p!=null?""+Si(p):"",c=c!=null?""+Si(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),HI(A)}function KI(A,c,p){c==="number"&&IE(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Gp(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+Si(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function GO(A,c,p){if(c!=null&&(c=""+Si(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+Si(p):""}function zO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(he(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=Si(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),HI(A)}function zp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var qee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||qee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function $O(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&qO(A,B,m)}else for(var S in c)c.hasOwnProperty(S)&&qO(A,S,c[S])}function GI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function FE(A){return jee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function XA(){}var zI=null;function qI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var qp=null,$p=null;function jO(A){var c=tA(A);if(c&&(A=c.stateNode)){var p=A[Bt]||null;e:switch(A=c.stateNode,c.type){case"input":if(VI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+xa(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[Bt]||null;if(!B)throw Error(i(90));VI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&VO(m)}break e;case"textarea":GO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Gp(A,!!p.multiple,c,!1)}}}var $I=!1;function WO(A,c,p){if($I)return A(c,p);$I=!0;try{var m=A(c);return m}finally{if($I=!1,(qp!==null||$p!==null)&&(mS(),qp&&(c=qp,A=$p,$p=qp=null,jO(c),A)))for(c=0;c<A.length;c++)jO(A[c])}}function Ky(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Bt]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var JA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jI=!1;if(JA)try{var Gy={};Object.defineProperty(Gy,"passive",{get:function(){jI=!0}}),window.addEventListener("test",Gy,Gy),window.removeEventListener("test",Gy,Gy)}catch{jI=!1}var nc=null,WI=null,ME=null;function YO(){if(ME)return ME;var A,c=WI,p=c.length,m,B="value"in nc?nc.value:nc.textContent,S=B.length;for(A=0;A<p&&c[A]===B[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===B[S-m];m++);return ME=B.slice(A,1<m?1-m:void 0)}function UE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function PE(){return!0}function XO(){return!1}function ps(A){function c(p,m,B,S,N){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?PE:XO,this.isPropagationStopped=XO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=PE)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=PE)},persist:function(){},isPersistent:PE}),c}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RE=ps(pf),zy=h({},pf,{view:0,detail:0}),Wee=ps(zy),YI,XI,qy,DE=h({},zy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==qy&&(qy&&A.type==="mousemove"?(YI=A.screenX-qy.screenX,XI=A.screenY-qy.screenY):XI=YI=0,qy=A),YI)},movementY:function(A){return"movementY"in A?A.movementY:XI}}),JO=ps(DE),Yee=h({},DE,{dataTransfer:0}),Xee=ps(Yee),Jee=h({},zy,{relatedTarget:0}),JI=ps(Jee),Zee=h({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),ete=ps(Zee),tte=h({},pf,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),nte=ps(tte),ite=h({},pf,{data:0}),ZO=ps(ite),rte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ste={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ate={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ote(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=ate[A])?!!c[A]:!1}function ZI(){return ote}var Ate=h({},zy,{key:function(A){if(A.key){var c=rte[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=UE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ste[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZI,charCode:function(A){return A.type==="keypress"?UE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?UE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),lte=ps(Ate),ute=h({},DE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=ps(ute),cte=h({},zy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZI}),dte=ps(cte),fte=h({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),hte=ps(fte),pte=h({},DE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),gte=ps(pte),mte=h({},pf,{newState:0,oldState:0}),vte=ps(mte),yte=[9,13,27,32],eF=JA&&"CompositionEvent"in window,$y=null;JA&&"documentMode"in document&&($y=document.documentMode);var wte=JA&&"TextEvent"in window&&!$y,t2=JA&&(!eF||$y&&8<$y&&11>=$y),n2=" ",i2=!1;function r2(A,c){switch(A){case"keyup":return yte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var jp=!1;function bte(A,c){switch(A){case"compositionend":return s2(c);case"keypress":return c.which!==32?null:(i2=!0,n2);case"textInput":return A=c.data,A===n2&&i2?null:A;default:return null}}function Cte(A,c){if(jp)return A==="compositionend"||!eF&&r2(A,c)?(A=YO(),ME=WI=nc=null,jp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return t2&&c.locale!=="ko"?null:c.data;default:return null}}var Bte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!Bte[A.type]:c==="textarea"}function o2(A,c,p,m){qp?$p?$p.push(m):$p=[m]:qp=m,c=ES(c,"onChange"),0<c.length&&(p=new RE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var jy=null,Wy=null;function Ete(A){K4(A,0)}function NE(A){var c=hf(A);if(VO(c))return A}function A2(A,c){if(A==="change")return c}var l2=!1;if(JA){var tF;if(JA){var nF="oninput"in document;if(!nF){var u2=document.createElement("div");u2.setAttribute("oninput","return;"),nF=typeof u2.oninput=="function"}tF=nF}else tF=!1;l2=tF&&(!document.documentMode||9<document.documentMode)}function c2(){jy&&(jy.detachEvent("onpropertychange",d2),Wy=jy=null)}function d2(A){if(A.propertyName==="value"&&NE(Wy)){var c=[];o2(c,Wy,A,qI(A)),WO(Ete,c)}}function Ste(A,c,p){A==="focusin"?(c2(),jy=c,Wy=p,jy.attachEvent("onpropertychange",d2)):A==="focusout"&&c2()}function xte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return NE(Wy)}function _te(A,c){if(A==="click")return NE(c)}function Tte(A,c){if(A==="input"||A==="change")return NE(c)}function Ite(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Os=typeof Object.is=="function"?Object.is:Ite;function Yy(A,c){if(Os(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!ei.call(c,B)||!Os(A[B],c[B]))return!1}return!0}function f2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function h2(A,c){var p=f2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=f2(p)}}function p2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?p2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function g2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=IE(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=IE(A.document)}return c}function iF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Fte=JA&&"documentMode"in document&&11>=document.documentMode,Wp=null,rF=null,Xy=null,sF=!1;function m2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sF||Wp==null||Wp!==IE(m)||(m=Wp,"selectionStart"in m&&iF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xy&&Yy(Xy,m)||(Xy=m,m=ES(rF,"onSelect"),0<m.length&&(c=new RE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Wp)))}function gf(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Yp={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionrun:gf("Transition","TransitionRun"),transitionstart:gf("Transition","TransitionStart"),transitioncancel:gf("Transition","TransitionCancel"),transitionend:gf("Transition","TransitionEnd")},aF={},v2={};JA&&(v2=document.createElement("div").style,"AnimationEvent"in window||(delete Yp.animationend.animation,delete Yp.animationiteration.animation,delete Yp.animationstart.animation),"TransitionEvent"in window||delete Yp.transitionend.transition);function mf(A){if(aF[A])return aF[A];if(!Yp[A])return A;var c=Yp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in v2)return aF[A]=c[p];return A}var y2=mf("animationend"),w2=mf("animationiteration"),b2=mf("animationstart"),Mte=mf("transitionrun"),Ute=mf("transitionstart"),Pte=mf("transitioncancel"),C2=mf("transitionend"),B2=new Map,oF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oF.push("scrollEnd");function wo(A,c){B2.set(A,c),YA(c,[A])}var LE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},_a=[],Xp=0,AF=0;function QE(){for(var A=Xp,c=AF=Xp=0;c<A;){var p=_a[c];_a[c++]=null;var m=_a[c];_a[c++]=null;var B=_a[c];_a[c++]=null;var S=_a[c];if(_a[c++]=null,m!==null&&B!==null){var N=m.pending;N===null?B.next=B:(B.next=N.next,N.next=B),m.pending=B}S!==0&&E2(p,B,S)}}function kE(A,c,p,m){_a[Xp++]=A,_a[Xp++]=c,_a[Xp++]=p,_a[Xp++]=m,AF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function lF(A,c,p,m){return kE(A,c,p,m),OE(A)}function vf(A,c){return kE(A,null,null,c),OE(A)}function E2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,S=A.return;S!==null;)S.childLanes|=p,m=S.alternate,m!==null&&(m.childLanes|=p),S.tag===22&&(A=S.stateNode,A===null||A._visibility&1||(B=!0)),A=S,S=S.return;return A.tag===3?(S=A.stateNode,B&&c!==null&&(B=31-Hn(p),A=S.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),S):null}function OE(A){if(50<y0)throw y0=0,vM=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Jp={};function Rte(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(A,c,p,m){return new Rte(A,c,p,m)}function uF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function ZA(A,c){var p=A.alternate;return p===null?(p=Hs(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function S2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function HE(A,c,p,m,B,S){var N=0;if(m=A,typeof A=="function")uF(A)&&(N=1);else if(typeof A=="string")N=kne(A,p,me.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Hs(31,p,c,B),A.elementType=k,A.lanes=S,A;case b:return yf(p.children,B,S,c);case E:N=8,B|=24;break;case x:return A=Hs(12,p,c,B|2),A.elementType=x,A.lanes=S,A;case P:return A=Hs(13,p,c,B),A.elementType=P,A.lanes=S,A;case D:return A=Hs(19,p,c,B),A.elementType=D,A.lanes=S,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case Q:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=Hs(N,p,c,B),c.elementType=A,c.type=m,c.lanes=S,c}function yf(A,c,p,m){return A=Hs(7,A,m,c),A.lanes=p,A}function cF(A,c,p){return A=Hs(6,A,null,c),A.lanes=p,A}function x2(A){var c=Hs(18,null,null,0);return c.stateNode=A,c}function dF(A,c,p){return c=Hs(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var _2=new WeakMap;function Ta(A,c){if(typeof A=="object"&&A!==null){var p=_2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:ut(c)},_2.set(A,c),c)}return{value:A,source:c,stack:ut(c)}}var Zp=[],eg=0,VE=null,Jy=0,Ia=[],Fa=0,ic=null,nA=1,iA="";function el(A,c){Zp[eg++]=Jy,Zp[eg++]=VE,VE=A,Jy=c}function T2(A,c,p){Ia[Fa++]=nA,Ia[Fa++]=iA,Ia[Fa++]=ic,ic=A;var m=nA;A=iA;var B=32-Hn(m)-1;m&=~(1<<B),p+=1;var S=32-Hn(c)+B;if(30<S){var N=B-B%5;S=(m&(1<<N)-1).toString(32),m>>=N,B-=N,nA=1<<32-Hn(c)+B|p<<B|m,iA=S+A}else nA=1<<S|p<<B|m,iA=A}function fF(A){A.return!==null&&(el(A,1),T2(A,1,0))}function hF(A){for(;A===VE;)VE=Zp[--eg],Zp[eg]=null,Jy=Zp[--eg],Zp[eg]=null;for(;A===ic;)ic=Ia[--Fa],Ia[Fa]=null,iA=Ia[--Fa],Ia[Fa]=null,nA=Ia[--Fa],Ia[Fa]=null}function I2(A,c){Ia[Fa++]=nA,Ia[Fa++]=iA,Ia[Fa++]=ic,nA=c.id,iA=c.overflow,ic=A}var hr=null,Rn=null,Pt=!1,rc=null,Ma=!1,pF=Error(i(519));function sc(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zy(Ta(c,A)),pF}function F2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[it]=A,c[Bt]=m,p){case"dialog":_t("cancel",c),_t("close",c);break;case"iframe":case"object":case"embed":_t("load",c);break;case"video":case"audio":for(p=0;p<b0.length;p++)_t(b0[p],c);break;case"source":_t("error",c);break;case"img":case"image":case"link":_t("error",c),_t("load",c);break;case"details":_t("toggle",c);break;case"input":_t("invalid",c),KO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":_t("invalid",c);break;case"textarea":_t("invalid",c),zO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||$4(c.textContent,p)?(m.popover!=null&&(_t("beforetoggle",c),_t("toggle",c)),m.onScroll!=null&&_t("scroll",c),m.onScrollEnd!=null&&_t("scrollend",c),m.onClick!=null&&(c.onclick=XA),c=!0):c=!1,c||sc(A,!0)}function M2(A){for(hr=A.return;hr;)switch(hr.tag){case 5:case 31:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:hr=hr.return}}function tg(A){if(A!==hr)return!1;if(!Pt)return M2(A),Pt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||PM(A.type,A.memoizedProps)),p=!p),p&&Rn&&sc(A),M2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));Rn=nV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));Rn=nV(A)}else c===27?(c=Rn,yc(A.type)?(A=QM,QM=null,Rn=A):Rn=c):Rn=hr?Pa(A.stateNode.nextSibling):null;return!0}function wf(){Rn=hr=null,Pt=!1}function gF(){var A=rc;return A!==null&&(ys===null?ys=A:ys.push.apply(ys,A),rc=null),A}function Zy(A){rc===null?rc=[A]:rc.push(A)}var mF=z(null),bf=null,tl=null;function ac(A,c,p){oe(mF,c._currentValue),c._currentValue=p}function nl(A){A._currentValue=mF.current,X(mF)}function vF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function yF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var S=B.dependencies;if(S!==null){var N=B.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=B;for(var j=0;j<c.length;j++)if(O.context===c[j]){S.lanes|=p,O=S.alternate,O!==null&&(O.lanes|=p),vF(S.return,p,A),m||(N=null);break e}S=O.next}}else if(B.tag===18){if(N=B.return,N===null)throw Error(i(341));N.lanes|=p,S=N.alternate,S!==null&&(S.lanes|=p),vF(N,p,A),N=null}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===A){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}}function ng(A,c,p,m){A=null;for(var B=c,S=!1;B!==null;){if(!S){if((B.flags&524288)!==0)S=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var N=B.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var O=B.type;Os(B.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(B===Be.current){if(N=B.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(x0):A=[x0])}B=B.return}A!==null&&yF(c,A,p,m),c.flags|=262144}function KE(A){for(A=A.firstContext;A!==null;){if(!Os(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Cf(A){bf=A,tl=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function pr(A){return U2(bf,A)}function GE(A,c){return bf===null&&Cf(A),U2(A,c)}function U2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},tl===null){if(A===null)throw Error(i(308));tl=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else tl=tl.next=c;return p}var Dte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Nte=n.unstable_scheduleCallback,Lte=n.unstable_NormalPriority,xi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wF(){return{controller:new Dte,data:new Map,refCount:0}}function e0(A){A.refCount--,A.refCount===0&&Nte(Lte,function(){A.controller.abort()})}var t0=null,bF=0,ig=0,rg=null;function Qte(A,c){if(t0===null){var p=t0=[];bF=0,ig=EM(),rg={status:"pending",value:void 0,then:function(m){p.push(m)}}}return bF++,c.then(P2,P2),c}function P2(){if(--bF===0&&t0!==null){rg!==null&&(rg.status="fulfilled");var A=t0;t0=null,ig=0,rg=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function kte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var R2=G.S;G.S=function(A,c){m4=Te(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Qte(A,c),R2!==null&&R2(A,c)};var Bf=z(null);function CF(){var A=Bf.current;return A!==null?A:yn.pooledCache}function zE(A,c){c===null?oe(Bf,Bf.current):oe(Bf,c.pool)}function D2(){var A=CF();return A===null?null:{parent:xi._currentValue,pool:A}}var sg=Error(i(460)),BF=Error(i(474)),qE=Error(i(542)),$E={then:function(){}};function N2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function L2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(XA,XA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A;default:if(typeof c.status=="string")c.then(XA,XA);else{if(A=yn,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A}throw Sf=c,sg}}function Ef(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Sf=p,sg):p}}var Sf=null;function Q2(){if(Sf===null)throw Error(i(459));var A=Sf;return Sf=null,A}function k2(A){if(A===sg||A===qE)throw Error(i(483))}var ag=null,n0=0;function jE(A){var c=n0;return n0+=1,ag===null&&(ag=[]),L2(ag,A,c)}function i0(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function WE(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function O2(A){function c(Y,W){if(A){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function p(Y,W){if(!A)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function B(Y,W){return Y=ZA(Y,W),Y.index=0,Y.sibling=null,Y}function S(Y,W,Z){return Y.index=Z,A?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return A&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,Z,ge){return W===null||W.tag!==6?(W=cF(Z,Y.mode,ge),W.return=Y,W):(W=B(W,Z),W.return=Y,W)}function j(Y,W,Z,ge){var tt=Z.type;return tt===b?fe(Y,W,Z.props.children,ge,Z.key):W!==null&&(W.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&Ef(tt)===W.type)?(W=B(W,Z.props),i0(W,Z),W.return=Y,W):(W=HE(Z.type,Z.key,Z.props,null,Y.mode,ge),i0(W,Z),W.return=Y,W)}function ee(Y,W,Z,ge){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=dF(Z,Y.mode,ge),W.return=Y,W):(W=B(W,Z.children||[]),W.return=Y,W)}function fe(Y,W,Z,ge,tt){return W===null||W.tag!==7?(W=yf(Z,Y.mode,ge,tt),W.return=Y,W):(W=B(W,Z),W.return=Y,W)}function ve(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=cF(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return Z=HE(W.type,W.key,W.props,null,Y.mode,Z),i0(Z,W),Z.return=Y,Z;case C:return W=dF(W,Y.mode,Z),W.return=Y,W;case H:return W=Ef(W),ve(Y,W,Z)}if(he(W)||q(W))return W=yf(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ve(Y,jE(W),Z);if(W.$$typeof===T)return ve(Y,GE(Y,W),Z);WE(Y,W)}return null}function ne(Y,W,Z,ge){var tt=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return tt!==null?null:O(Y,W,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===tt?j(Y,W,Z,ge):null;case C:return Z.key===tt?ee(Y,W,Z,ge):null;case H:return Z=Ef(Z),ne(Y,W,Z,ge)}if(he(Z)||q(Z))return tt!==null?null:fe(Y,W,Z,ge,null);if(typeof Z.then=="function")return ne(Y,W,jE(Z),ge);if(Z.$$typeof===T)return ne(Y,W,GE(Y,Z),ge);WE(Y,Z)}return null}function ae(Y,W,Z,ge,tt){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Y=Y.get(Z)||null,O(W,Y,""+ge,tt);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return Y=Y.get(ge.key===null?Z:ge.key)||null,j(W,Y,ge,tt);case C:return Y=Y.get(ge.key===null?Z:ge.key)||null,ee(W,Y,ge,tt);case H:return ge=Ef(ge),ae(Y,W,Z,ge,tt)}if(he(ge)||q(ge))return Y=Y.get(Z)||null,fe(W,Y,ge,tt,null);if(typeof ge.then=="function")return ae(Y,W,Z,jE(ge),tt);if(ge.$$typeof===T)return ae(Y,W,Z,GE(W,ge),tt);WE(W,ge)}return null}function Ve(Y,W,Z,ge){for(var tt=null,Kt=null,qe=W,yt=W=0,It=null;qe!==null&&yt<Z.length;yt++){qe.index>yt?(It=qe,qe=null):It=qe.sibling;var Gt=ne(Y,qe,Z[yt],ge);if(Gt===null){qe===null&&(qe=It);break}A&&qe&&Gt.alternate===null&&c(Y,qe),W=S(Gt,W,yt),Kt===null?tt=Gt:Kt.sibling=Gt,Kt=Gt,qe=It}if(yt===Z.length)return p(Y,qe),Pt&&el(Y,yt),tt;if(qe===null){for(;yt<Z.length;yt++)qe=ve(Y,Z[yt],ge),qe!==null&&(W=S(qe,W,yt),Kt===null?tt=qe:Kt.sibling=qe,Kt=qe);return Pt&&el(Y,yt),tt}for(qe=m(qe);yt<Z.length;yt++)It=ae(qe,Y,yt,Z[yt],ge),It!==null&&(A&&It.alternate!==null&&qe.delete(It.key===null?yt:It.key),W=S(It,W,yt),Kt===null?tt=It:Kt.sibling=It,Kt=It);return A&&qe.forEach(function(Ec){return c(Y,Ec)}),Pt&&el(Y,yt),tt}function rt(Y,W,Z,ge){if(Z==null)throw Error(i(151));for(var tt=null,Kt=null,qe=W,yt=W=0,It=null,Gt=Z.next();qe!==null&&!Gt.done;yt++,Gt=Z.next()){qe.index>yt?(It=qe,qe=null):It=qe.sibling;var Ec=ne(Y,qe,Gt.value,ge);if(Ec===null){qe===null&&(qe=It);break}A&&qe&&Ec.alternate===null&&c(Y,qe),W=S(Ec,W,yt),Kt===null?tt=Ec:Kt.sibling=Ec,Kt=Ec,qe=It}if(Gt.done)return p(Y,qe),Pt&&el(Y,yt),tt;if(qe===null){for(;!Gt.done;yt++,Gt=Z.next())Gt=ve(Y,Gt.value,ge),Gt!==null&&(W=S(Gt,W,yt),Kt===null?tt=Gt:Kt.sibling=Gt,Kt=Gt);return Pt&&el(Y,yt),tt}for(qe=m(qe);!Gt.done;yt++,Gt=Z.next())Gt=ae(qe,Y,yt,Gt.value,ge),Gt!==null&&(A&&Gt.alternate!==null&&qe.delete(Gt.key===null?yt:Gt.key),W=S(Gt,W,yt),Kt===null?tt=Gt:Kt.sibling=Gt,Kt=Gt);return A&&qe.forEach(function(Yne){return c(Y,Yne)}),Pt&&el(Y,yt),tt}function ln(Y,W,Z,ge){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var tt=Z.key;W!==null;){if(W.key===tt){if(tt=Z.type,tt===b){if(W.tag===7){p(Y,W.sibling),ge=B(W,Z.props.children),ge.return=Y,Y=ge;break e}}else if(W.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&Ef(tt)===W.type){p(Y,W.sibling),ge=B(W,Z.props),i0(ge,Z),ge.return=Y,Y=ge;break e}p(Y,W);break}else c(Y,W);W=W.sibling}Z.type===b?(ge=yf(Z.props.children,Y.mode,ge,Z.key),ge.return=Y,Y=ge):(ge=HE(Z.type,Z.key,Z.props,null,Y.mode,ge),i0(ge,Z),ge.return=Y,Y=ge)}return N(Y);case C:e:{for(tt=Z.key;W!==null;){if(W.key===tt)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){p(Y,W.sibling),ge=B(W,Z.children||[]),ge.return=Y,Y=ge;break e}else{p(Y,W);break}else c(Y,W);W=W.sibling}ge=dF(Z,Y.mode,ge),ge.return=Y,Y=ge}return N(Y);case H:return Z=Ef(Z),ln(Y,W,Z,ge)}if(he(Z))return Ve(Y,W,Z,ge);if(q(Z)){if(tt=q(Z),typeof tt!="function")throw Error(i(150));return Z=tt.call(Z),rt(Y,W,Z,ge)}if(typeof Z.then=="function")return ln(Y,W,jE(Z),ge);if(Z.$$typeof===T)return ln(Y,W,GE(Y,Z),ge);WE(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(p(Y,W.sibling),ge=B(W,Z),ge.return=Y,Y=ge):(p(Y,W),ge=cF(Z,Y.mode,ge),ge.return=Y,Y=ge),N(Y)):p(Y,W)}return function(Y,W,Z,ge){try{n0=0;var tt=ln(Y,W,Z,ge);return ag=null,tt}catch(qe){if(qe===sg||qe===qE)throw qe;var Kt=Hs(29,qe,null,Y.mode);return Kt.lanes=ge,Kt.return=Y,Kt}finally{}}}var xf=O2(!0),H2=O2(!1),oc=!1;function EF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function SF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Ac(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function lc(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Wt&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=OE(A),E2(A,null,p),c}return kE(A,m,c,p),OE(A)}function r0(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,ze(A,p)}}function xF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?B=S=N:S=S.next=N,p=p.next}while(p!==null);S===null?B=S=c:S=S.next=c}else B=S=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var _F=!1;function s0(){if(_F){var A=rg;if(A!==null)throw A}}function a0(A,c,p,m){_F=!1;var B=A.updateQueue;oc=!1;var S=B.firstBaseUpdate,N=B.lastBaseUpdate,O=B.shared.pending;if(O!==null){B.shared.pending=null;var j=O,ee=j.next;j.next=null,N===null?S=ee:N.next=ee,N=j;var fe=A.alternate;fe!==null&&(fe=fe.updateQueue,O=fe.lastBaseUpdate,O!==N&&(O===null?fe.firstBaseUpdate=ee:O.next=ee,fe.lastBaseUpdate=j))}if(S!==null){var ve=B.baseState;N=0,fe=ee=j=null,O=S;do{var ne=O.lane&-536870913,ae=ne!==O.lane;if(ae?(Tt&ne)===ne:(m&ne)===ne){ne!==0&&ne===ig&&(_F=!0),fe!==null&&(fe=fe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ve=A,rt=O;ne=c;var ln=p;switch(rt.tag){case 1:if(Ve=rt.payload,typeof Ve=="function"){ve=Ve.call(ln,ve,ne);break e}ve=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=rt.payload,ne=typeof Ve=="function"?Ve.call(ln,ve,ne):Ve,ne==null)break e;ve=h({},ve,ne);break e;case 2:oc=!0}}ne=O.callback,ne!==null&&(A.flags|=64,ae&&(A.flags|=8192),ae=B.callbacks,ae===null?B.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},fe===null?(ee=fe=ae,j=ve):fe=fe.next=ae,N|=ne;if(O=O.next,O===null){if(O=B.shared.pending,O===null)break;ae=O,O=ae.next,ae.next=null,B.lastBaseUpdate=ae,B.shared.pending=null}}while(!0);fe===null&&(j=ve),B.baseState=j,B.firstBaseUpdate=ee,B.lastBaseUpdate=fe,S===null&&(B.shared.lanes=0),hc|=N,A.lanes=N,A.memoizedState=ve}}function V2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function K2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)V2(p[A],c)}var og=z(null),YE=z(0);function G2(A,c){A=cl,oe(YE,A),oe(og,c),cl=A|c.baseLanes}function TF(){oe(YE,cl),oe(og,og.current)}function IF(){cl=YE.current,X(og),X(YE)}var Vs=z(null),Ua=null;function uc(A){var c=A.alternate;oe(hi,hi.current&1),oe(Vs,A),Ua===null&&(c===null||og.current!==null||c.memoizedState!==null)&&(Ua=A)}function FF(A){oe(hi,hi.current),oe(Vs,A),Ua===null&&(Ua=A)}function z2(A){A.tag===22?(oe(hi,hi.current),oe(Vs,A),Ua===null&&(Ua=A)):cc()}function cc(){oe(hi,hi.current),oe(Vs,Vs.current)}function Ks(A){X(Vs),Ua===A&&(Ua=null),X(hi)}var hi=z(0);function XE(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||NM(p)||LM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var il=0,gt=null,on=null,_i=null,JE=!1,Ag=!1,_f=!1,ZE=0,o0=0,lg=null,Ote=0;function ri(){throw Error(i(321))}function MF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Os(A[p],c[p]))return!1;return!0}function UF(A,c,p,m,B,S){return il=S,gt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=A===null||A.memoizedState===null?TH:$F,_f=!1,S=p(m,B),_f=!1,Ag&&(S=$2(c,p,m,B)),q2(A),S}function q2(A){G.H=u0;var c=on!==null&&on.next!==null;if(il=0,_i=on=gt=null,JE=!1,o0=0,lg=null,c)throw Error(i(300));A===null||Ti||(A=A.dependencies,A!==null&&KE(A)&&(Ti=!0))}function $2(A,c,p,m){gt=A;var B=0;do{if(Ag&&(lg=null),o0=0,Ag=!1,25<=B)throw Error(i(301));if(B+=1,_i=on=null,A.updateQueue!=null){var S=A.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=IH,S=c(p,m)}while(Ag);return S}function Hte(){var A=G.H,c=A.useState()[0];return c=typeof c.then=="function"?A0(c):c,A=A.useState()[0],(on!==null?on.memoizedState:null)!==A&&(gt.flags|=1024),c}function PF(){var A=ZE!==0;return ZE=0,A}function RF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function DF(A){if(JE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}JE=!1}il=0,_i=on=gt=null,Ag=!1,o0=ZE=0,lg=null}function Xr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?gt.memoizedState=_i=A:_i=_i.next=A,_i}function pi(){if(on===null){var A=gt.alternate;A=A!==null?A.memoizedState:null}else A=on.next;var c=_i===null?gt.memoizedState:_i.next;if(c!==null)_i=c,on=A;else{if(A===null)throw gt.alternate===null?Error(i(467)):Error(i(310));on=A,A={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},_i===null?gt.memoizedState=_i=A:_i=_i.next=A}return _i}function eS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function A0(A){var c=o0;return o0+=1,lg===null&&(lg=[]),A=L2(lg,A,c),c=gt,(_i===null?c.memoizedState:_i.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?TH:$F),A}function tS(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return A0(A);if(A.$$typeof===T)return pr(A)}throw Error(i(438,String(A)))}function NF(A){var c=null,p=gt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=gt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=eS(),gt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function rl(A,c){return typeof c=="function"?c(A):c}function nS(A){var c=pi();return LF(c,on,A)}function LF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,S=m.pending;if(S!==null){if(B!==null){var N=B.next;B.next=S.next,S.next=N}c.baseQueue=B=S,m.pending=null}if(S=A.baseState,B===null)A.memoizedState=S;else{c=B.next;var O=N=null,j=null,ee=c,fe=!1;do{var ve=ee.lane&-536870913;if(ve!==ee.lane?(Tt&ve)===ve:(il&ve)===ve){var ne=ee.revertLane;if(ne===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ve===ig&&(fe=!0);else if((il&ne)===ne){ee=ee.next,ne===ig&&(fe=!0);continue}else ve={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(O=j=ve,N=S):j=j.next=ve,gt.lanes|=ne,hc|=ne;ve=ee.action,_f&&p(S,ve),S=ee.hasEagerState?ee.eagerState:p(S,ve)}else ne={lane:ve,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(O=j=ne,N=S):j=j.next=ne,gt.lanes|=ve,hc|=ve;ee=ee.next}while(ee!==null&&ee!==c);if(j===null?N=S:j.next=O,!Os(S,A.memoizedState)&&(Ti=!0,fe&&(p=rg,p!==null)))throw p;A.memoizedState=S,A.baseState=N,A.baseQueue=j,m.lastRenderedState=S}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function QF(A){var c=pi(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,S=c.memoizedState;if(B!==null){p.pending=null;var N=B=B.next;do S=A(S,N.action),N=N.next;while(N!==B);Os(S,c.memoizedState)||(Ti=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),p.lastRenderedState=S}return[S,m]}function j2(A,c,p){var m=gt,B=pi(),S=Pt;if(S){if(p===void 0)throw Error(i(407));p=p()}else p=c();var N=!Os((on||B).memoizedState,p);if(N&&(B.memoizedState=p,Ti=!0),B=B.queue,HF(X2.bind(null,m,B,A),[A]),B.getSnapshot!==c||N||_i!==null&&_i.memoizedState.tag&1){if(m.flags|=2048,ug(9,{destroy:void 0},Y2.bind(null,m,B,p,c),null),yn===null)throw Error(i(349));S||(il&127)!==0||W2(m,c,p)}return p}function W2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=gt.updateQueue,c===null?(c=eS(),gt.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function Y2(A,c,p,m){c.value=p,c.getSnapshot=m,J2(c)&&Z2(A)}function X2(A,c,p){return p(function(){J2(c)&&Z2(A)})}function J2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Os(A,p)}catch{return!0}}function Z2(A){var c=vf(A,2);c!==null&&ws(c,A,2)}function kF(A){var c=Xr();if(typeof A=="function"){var p=A;if(A=p(),_f){ks(!0);try{p()}finally{ks(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:A},c}function eH(A,c,p,m){return A.baseState=p,LF(A,on,typeof m=="function"?m:rl)}function Vte(A,c,p,m,B){if(sS(A))throw Error(i(485));if(A=c.action,A!==null){var S={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?p(!0):S.isTransition=!1,m(S),p=c.pending,p===null?(S.next=c.pending=S,tH(c,S)):(S.next=p.next,c.pending=p.next=S)}}function tH(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var S=G.T,N={};G.T=N;try{var O=p(B,m),j=G.S;j!==null&&j(N,O),nH(A,c,O)}catch(ee){OF(A,c,ee)}finally{S!==null&&N.types!==null&&(S.types=N.types),G.T=S}}else try{S=p(B,m),nH(A,c,S)}catch(ee){OF(A,c,ee)}}function nH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){iH(A,c,m)},function(m){return OF(A,c,m)}):iH(A,c,p)}function iH(A,c,p){c.status="fulfilled",c.value=p,rH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,tH(A,p)))}function OF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,rH(c),c=c.next;while(c!==m)}A.action=null}function rH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function sH(A,c){return c}function aH(A,c){if(Pt){var p=yn.formState;if(p!==null){e:{var m=gt;if(Pt){if(Rn){t:{for(var B=Rn,S=Ma;B.nodeType!==8;){if(!S){B=null;break t}if(B=Pa(B.nextSibling),B===null){B=null;break t}}S=B.data,B=S==="F!"||S==="F"?B:null}if(B){Rn=Pa(B.nextSibling),m=B.data==="F!";break e}}sc(m)}m=!1}m&&(c=p[0])}}return p=Xr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sH,lastRenderedState:c},p.queue=m,p=SH.bind(null,gt,m),m.dispatch=p,m=kF(!1),S=qF.bind(null,gt,!1,m.queue),m=Xr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Vte.bind(null,gt,B,S,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function oH(A){var c=pi();return AH(c,on,A)}function AH(A,c,p){if(c=LF(A,c,sH)[0],A=nS(rl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=A0(c)}catch(N){throw N===sg?qE:N}else m=c;c=pi();var B=c.queue,S=B.dispatch;return p!==c.memoizedState&&(gt.flags|=2048,ug(9,{destroy:void 0},Kte.bind(null,B,p),null)),[m,S,A]}function Kte(A,c){A.action=c}function lH(A){var c=pi(),p=on;if(p!==null)return AH(c,p,A);pi(),c=c.memoizedState,p=pi();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function ug(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=gt.updateQueue,c===null&&(c=eS(),gt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function uH(){return pi().memoizedState}function iS(A,c,p,m){var B=Xr();gt.flags|=A,B.memoizedState=ug(1|c,{destroy:void 0},p,m===void 0?null:m)}function rS(A,c,p,m){var B=pi();m=m===void 0?null:m;var S=B.memoizedState.inst;on!==null&&m!==null&&MF(m,on.memoizedState.deps)?B.memoizedState=ug(c,S,p,m):(gt.flags|=A,B.memoizedState=ug(1|c,S,p,m))}function cH(A,c){iS(8390656,8,A,c)}function HF(A,c){rS(2048,8,A,c)}function Gte(A){gt.flags|=4;var c=gt.updateQueue;if(c===null)c=eS(),gt.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function dH(A){var c=pi().memoizedState;return Gte({ref:c,nextImpl:A}),function(){if((Wt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function fH(A,c){return rS(4,2,A,c)}function hH(A,c){return rS(4,4,A,c)}function pH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function gH(A,c,p){p=p!=null?p.concat([A]):null,rS(4,4,pH.bind(null,c,A),p)}function VF(){}function mH(A,c){var p=pi();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&MF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function vH(A,c){var p=pi();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&MF(c,m[1]))return m[0];if(m=A(),_f){ks(!0);try{A()}finally{ks(!1)}}return p.memoizedState=[m,c],m}function KF(A,c,p){return p===void 0||(il&1073741824)!==0&&(Tt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=y4(),gt.lanes|=A,hc|=A,p)}function yH(A,c,p,m){return Os(p,c)?p:og.current!==null?(A=KF(A,p,m),Os(A,c)||(Ti=!0),A):(il&42)===0||(il&1073741824)!==0&&(Tt&261930)===0?(Ti=!0,A.memoizedState=p):(A=y4(),gt.lanes|=A,hc|=A,c)}function wH(A,c,p,m,B){var S=$.p;$.p=S!==0&&8>S?S:8;var N=G.T,O={};G.T=O,qF(A,!1,c,p);try{var j=B(),ee=G.S;if(ee!==null&&ee(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var fe=kte(j,m);l0(A,c,fe,qs(A))}else l0(A,c,m,qs(A))}catch(ve){l0(A,c,{then:function(){},status:"rejected",reason:ve},qs())}finally{$.p=S,N!==null&&O.types!==null&&(N.types=O.types),G.T=N}}function zte(){}function GF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=bH(A).queue;wH(A,B,c,re,p===null?zte:function(){return CH(A),p(m)})}function bH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function CH(A){var c=bH(A);c.next===null&&(c=A.alternate.memoizedState),l0(A,c.next.queue,{},qs())}function zF(){return pr(x0)}function BH(){return pi().memoizedState}function EH(){return pi().memoizedState}function qte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=qs();A=Ac(p);var m=lc(c,A,p);m!==null&&(ws(m,c,p),r0(m,c,p)),c={cache:wF()},A.payload=c;return}c=c.return}}function $te(A,c,p){var m=qs();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},sS(A)?xH(c,p):(p=lF(A,c,p,m),p!==null&&(ws(p,A,m),_H(p,c,m)))}function SH(A,c,p){var m=qs();l0(A,c,p,m)}function l0(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(sS(A))xH(c,B);else{var S=A.alternate;if(A.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var N=c.lastRenderedState,O=S(N,p);if(B.hasEagerState=!0,B.eagerState=O,Os(O,N))return kE(A,c,B,0),yn===null&&QE(),!1}catch{}finally{}if(p=lF(A,c,B,m),p!==null)return ws(p,A,m),_H(p,c,m),!0}return!1}function qF(A,c,p,m){if(m={lane:2,revertLane:EM(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sS(A)){if(c)throw Error(i(479))}else c=lF(A,p,m,2),c!==null&&ws(c,A,2)}function sS(A){var c=A.alternate;return A===gt||c!==null&&c===gt}function xH(A,c){Ag=JE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function _H(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,ze(A,p)}}var u0={readContext:pr,use:tS,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};u0.useEffectEvent=ri;var TH={readContext:pr,use:tS,useCallback:function(A,c){return Xr().memoizedState=[A,c===void 0?null:c],A},useContext:pr,useEffect:cH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,iS(4194308,4,pH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return iS(4194308,4,A,c)},useInsertionEffect:function(A,c){iS(4,2,A,c)},useMemo:function(A,c){var p=Xr();c=c===void 0?null:c;var m=A();if(_f){ks(!0);try{A()}finally{ks(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Xr();if(p!==void 0){var B=p(c);if(_f){ks(!0);try{p(c)}finally{ks(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=$te.bind(null,gt,A),[m.memoizedState,A]},useRef:function(A){var c=Xr();return A={current:A},c.memoizedState=A},useState:function(A){A=kF(A);var c=A.queue,p=SH.bind(null,gt,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:VF,useDeferredValue:function(A,c){var p=Xr();return KF(p,A,c)},useTransition:function(){var A=kF(!1);return A=wH.bind(null,gt,A.queue,!0,!1),Xr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=gt,B=Xr();if(Pt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),yn===null)throw Error(i(349));(Tt&127)!==0||W2(m,c,p)}B.memoizedState=p;var S={value:p,getSnapshot:c};return B.queue=S,cH(X2.bind(null,m,S,A),[A]),m.flags|=2048,ug(9,{destroy:void 0},Y2.bind(null,m,S,p,c),null),p},useId:function(){var A=Xr(),c=yn.identifierPrefix;if(Pt){var p=iA,m=nA;p=(m&~(1<<32-Hn(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=ZE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Ote++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:zF,useFormState:aH,useActionState:aH,useOptimistic:function(A){var c=Xr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=qF.bind(null,gt,!0,p),p.dispatch=c,[A,c]},useMemoCache:NF,useCacheRefresh:function(){return Xr().memoizedState=qte.bind(null,gt)},useEffectEvent:function(A){var c=Xr(),p={impl:A};return c.memoizedState=p,function(){if((Wt&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},$F={readContext:pr,use:tS,useCallback:mH,useContext:pr,useEffect:HF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:nS,useRef:uH,useState:function(){return nS(rl)},useDebugValue:VF,useDeferredValue:function(A,c){var p=pi();return yH(p,on.memoizedState,A,c)},useTransition:function(){var A=nS(rl)[0],c=pi().memoizedState;return[typeof A=="boolean"?A:A0(A),c]},useSyncExternalStore:j2,useId:BH,useHostTransitionStatus:zF,useFormState:oH,useActionState:oH,useOptimistic:function(A,c){var p=pi();return eH(p,on,A,c)},useMemoCache:NF,useCacheRefresh:EH};$F.useEffectEvent=dH;var IH={readContext:pr,use:tS,useCallback:mH,useContext:pr,useEffect:HF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:QF,useRef:uH,useState:function(){return QF(rl)},useDebugValue:VF,useDeferredValue:function(A,c){var p=pi();return on===null?KF(p,A,c):yH(p,on.memoizedState,A,c)},useTransition:function(){var A=QF(rl)[0],c=pi().memoizedState;return[typeof A=="boolean"?A:A0(A),c]},useSyncExternalStore:j2,useId:BH,useHostTransitionStatus:zF,useFormState:lH,useActionState:lH,useOptimistic:function(A,c){var p=pi();return on!==null?eH(p,on,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:NF,useCacheRefresh:EH};IH.useEffectEvent=dH;function jF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var WF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=qs(),B=Ac(m);B.payload=c,p!=null&&(B.callback=p),c=lc(A,B,m),c!==null&&(ws(c,A,m),r0(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=qs(),B=Ac(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=lc(A,B,m),c!==null&&(ws(c,A,m),r0(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=qs(),m=Ac(p);m.tag=2,c!=null&&(m.callback=c),c=lc(A,m,p),c!==null&&(ws(c,A,p),r0(c,A,p))}};function FH(A,c,p,m,B,S,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,S,N):c.prototype&&c.prototype.isPureReactComponent?!Yy(p,m)||!Yy(B,S):!0}function MH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&WF.enqueueReplaceState(c,c.state,null)}function Tf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function UH(A){LE(A)}function PH(A){console.error(A)}function RH(A){LE(A)}function aS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function DH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function YF(A,c,p){return p=Ac(p),p.tag=3,p.payload={element:null},p.callback=function(){aS(A,c)},p}function NH(A){return A=Ac(A),A.tag=3,A}function LH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var S=m.value;A.payload=function(){return B(S)},A.callback=function(){DH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){DH(c,p,m),typeof B!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function jte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&ng(c,p,B,!0),p=Vs.current,p!==null){switch(p.tag){case 31:case 13:return Ua===null?vS():p.alternate===null&&si===0&&(si=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===$E?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),bM(A,m,B)),!1;case 22:return p.flags|=65536,m===$E?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),bM(A,m,B)),!1}throw Error(i(435,p.tag))}return bM(A,m,B),vS(),!1}if(Pt)return c=Vs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==pF&&(A=Error(i(422),{cause:m}),Zy(Ta(A,p)))):(m!==pF&&(c=Error(i(423),{cause:m}),Zy(Ta(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=Ta(m,p),B=YF(A.stateNode,m,B),xF(A,B),si!==4&&(si=2)),!1;var S=Error(i(520),{cause:m});if(S=Ta(S,p),v0===null?v0=[S]:v0.push(S),si!==4&&(si=2),c===null)return!0;m=Ta(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=YF(p.stateNode,m,A),xF(p,A),!1;case 1:if(c=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(pc===null||!pc.has(S))))return p.flags|=65536,B&=-B,p.lanes|=B,B=NH(B),LH(B,A,p,m),xF(p,B),!1}p=p.return}while(p!==null);return!1}var XF=Error(i(461)),Ti=!1;function gr(A,c,p,m){c.child=A===null?H2(c,null,p,m):xf(c,A.child,p,m)}function QH(A,c,p,m,B){p=p.render;var S=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return Cf(c),m=UF(A,c,p,N,S,B),O=PF(),A!==null&&!Ti?(RF(A,c,B),sl(A,c,B)):(Pt&&O&&fF(c),c.flags|=1,gr(A,c,m,B),c.child)}function kH(A,c,p,m,B){if(A===null){var S=p.type;return typeof S=="function"&&!uF(S)&&S.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=S,OH(A,c,S,m,B)):(A=HE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(S=A.child,!sM(A,B)){var N=S.memoizedProps;if(p=p.compare,p=p!==null?p:Yy,p(N,m)&&A.ref===c.ref)return sl(A,c,B)}return c.flags|=1,A=ZA(S,m),A.ref=c.ref,A.return=c,c.child=A}function OH(A,c,p,m,B){if(A!==null){var S=A.memoizedProps;if(Yy(S,m)&&A.ref===c.ref)if(Ti=!1,c.pendingProps=m=S,sM(A,B))(A.flags&131072)!==0&&(Ti=!0);else return c.lanes=A.lanes,sl(A,c,B)}return JF(A,c,p,m,B)}function HH(A,c,p,m){var B=m.children,S=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~S}else m=0,c.child=null;return VH(A,c,S,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&zE(c,S!==null?S.cachePool:null),S!==null?G2(c,S):TF(),z2(c);else return m=c.lanes=536870912,VH(A,c,S!==null?S.baseLanes|p:p,p,m)}else S!==null?(zE(c,S.cachePool),G2(c,S),cc(),c.memoizedState=null):(A!==null&&zE(c,null),TF(),cc());return gr(A,c,B,p),c.child}function c0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function VH(A,c,p,m,B){var S=CF();return S=S===null?null:{parent:xi._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},A!==null&&zE(c,null),TF(),z2(c),A!==null&&ng(A,c,m,!0),c.childLanes=B,null}function oS(A,c){return c=lS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function KH(A,c,p){return xf(c,A.child,null,p),A=oS(c,c.pendingProps),A.flags|=2,Ks(c),c.memoizedState=null,A}function Wte(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(Pt){if(m.mode==="hidden")return A=oS(c,m),c.lanes=536870912,c0(null,A);if(FF(c),(A=Rn)?(A=tV(A,Ma),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:ic!==null?{id:nA,overflow:iA}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,hr=c,Rn=null)):A=null,A===null)throw sc(c);return c.lanes=536870912,null}return oS(c,m)}var S=A.memoizedState;if(S!==null){var N=S.dehydrated;if(FF(c),B)if(c.flags&256)c.flags&=-257,c=KH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(Ti||ng(A,c,p,!1),B=(p&A.childLanes)!==0,Ti||B){if(m=yn,m!==null&&(N=Xe(m,p),N!==0&&N!==S.retryLane))throw S.retryLane=N,vf(A,N),ws(m,A,N),XF;vS(),c=KH(A,c,p)}else A=S.treeContext,Rn=Pa(N.nextSibling),hr=c,Pt=!0,rc=null,Ma=!1,A!==null&&I2(c,A),c=oS(c,m),c.flags|=4096;return c}return A=ZA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function AS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function JF(A,c,p,m,B){return Cf(c),p=UF(A,c,p,m,void 0,B),m=PF(),A!==null&&!Ti?(RF(A,c,B),sl(A,c,B)):(Pt&&m&&fF(c),c.flags|=1,gr(A,c,p,B),c.child)}function GH(A,c,p,m,B,S){return Cf(c),c.updateQueue=null,p=$2(c,m,p,B),q2(A),m=PF(),A!==null&&!Ti?(RF(A,c,S),sl(A,c,S)):(Pt&&m&&fF(c),c.flags|=1,gr(A,c,p,S),c.child)}function zH(A,c,p,m,B){if(Cf(c),c.stateNode===null){var S=Jp,N=p.contextType;typeof N=="object"&&N!==null&&(S=pr(N)),S=new p(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=WF,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},EF(c),N=p.contextType,S.context=typeof N=="object"&&N!==null?pr(N):Jp,S.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(jF(c,p,N,m),S.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&WF.enqueueReplaceState(S,S.state,null),a0(c,m,S,B),s0(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){S=c.stateNode;var O=c.memoizedProps,j=Tf(p,O);S.props=j;var ee=S.context,fe=p.contextType;N=Jp,typeof fe=="object"&&fe!==null&&(N=pr(fe));var ve=p.getDerivedStateFromProps;fe=typeof ve=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||ee!==N)&&MH(c,S,m,N),oc=!1;var ne=c.memoizedState;S.state=ne,a0(c,m,S,B),s0(),ee=c.memoizedState,O||ne!==ee||oc?(typeof ve=="function"&&(jF(c,p,ve,m),ee=c.memoizedState),(j=oc||FH(c,p,j,m,ne,ee,N))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ee),S.props=m,S.state=ee,S.context=N,m=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,SF(A,c),N=c.memoizedProps,fe=Tf(p,N),S.props=fe,ve=c.pendingProps,ne=S.context,ee=p.contextType,j=Jp,typeof ee=="object"&&ee!==null&&(j=pr(ee)),O=p.getDerivedStateFromProps,(ee=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ve||ne!==j)&&MH(c,S,m,j),oc=!1,ne=c.memoizedState,S.state=ne,a0(c,m,S,B),s0();var ae=c.memoizedState;N!==ve||ne!==ae||oc||A!==null&&A.dependencies!==null&&KE(A.dependencies)?(typeof O=="function"&&(jF(c,p,O,m),ae=c.memoizedState),(fe=oc||FH(c,p,fe,m,ne,ae,j)||A!==null&&A.dependencies!==null&&KE(A.dependencies))?(ee||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ae,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ae,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ne===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ne===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ae),S.props=m,S.state=ae,S.context=j,m=fe):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ne===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ne===A.memoizedState||(c.flags|=1024),m=!1)}return S=m,AS(A,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,A!==null&&m?(c.child=xf(c,A.child,null,B),c.child=xf(c,null,p,B)):gr(A,c,p,B),c.memoizedState=S.state,A=c.child):A=sl(A,c,B),A}function qH(A,c,p,m){return wf(),c.flags|=256,gr(A,c,p,m),c.child}var ZF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eM(A){return{baseLanes:A,cachePool:D2()}}function tM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=zs),A}function $H(A,c,p){var m=c.pendingProps,B=!1,S=(c.flags&128)!==0,N;if((N=S)||(N=A!==null&&A.memoizedState===null?!1:(hi.current&2)!==0),N&&(B=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(Pt){if(B?uc(c):cc(),(A=Rn)?(A=tV(A,Ma),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:ic!==null?{id:nA,overflow:iA}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,hr=c,Rn=null)):A=null,A===null)throw sc(c);return LM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,B?(cc(),B=c.mode,O=lS({mode:"hidden",children:O},B),m=yf(m,B,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=eM(p),m.childLanes=tM(A,N,p),c.memoizedState=ZF,c0(null,m)):(uc(c),nM(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(S)c.flags&256?(uc(c),c.flags&=-257,c=iM(A,c,p)):c.memoizedState!==null?(cc(),c.child=A.child,c.flags|=128,c=null):(cc(),O=m.fallback,B=c.mode,m=lS({mode:"visible",children:m.children},B),O=yf(O,B,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,xf(c,A.child,null,p),m=c.child,m.memoizedState=eM(p),m.childLanes=tM(A,N,p),c.memoizedState=ZF,c=c0(null,m));else if(uc(c),LM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var ee=N.dgst;N=ee,m=Error(i(419)),m.stack="",m.digest=N,Zy({value:m,source:null,stack:null}),c=iM(A,c,p)}else if(Ti||ng(A,c,p,!1),N=(p&A.childLanes)!==0,Ti||N){if(N=yn,N!==null&&(m=Xe(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,vf(A,m),ws(N,A,m),XF;NM(O)||vS(),c=iM(A,c,p)}else NM(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,Rn=Pa(O.nextSibling),hr=c,Pt=!0,rc=null,Ma=!1,A!==null&&I2(c,A),c=nM(c,m.children),c.flags|=4096);return c}return B?(cc(),O=m.fallback,B=c.mode,j=A.child,ee=j.sibling,m=ZA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,ee!==null?O=ZA(ee,O):(O=yf(O,B,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,c0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=eM(p):(B=O.cachePool,B!==null?(j=xi._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=D2(),O={baseLanes:O.baseLanes|p,cachePool:B}),m.memoizedState=O,m.childLanes=tM(A,N,p),c.memoizedState=ZF,c0(A.child,m)):(uc(c),p=A.child,A=p.sibling,p=ZA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function nM(A,c){return c=lS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function lS(A,c){return A=Hs(22,A,null,c),A.lanes=0,A}function iM(A,c,p){return xf(c,A.child,null,p),A=nM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function jH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),vF(A.return,c,p)}function rM(A,c,p,m,B,S){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:S}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=B,N.treeForkCount=S)}function WH(A,c,p){var m=c.pendingProps,B=m.revealOrder,S=m.tail;m=m.children;var N=hi.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,oe(hi,N),gr(A,c,m,p),m=Pt?Jy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&jH(A,p,c);else if(A.tag===19)jH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&XE(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),rM(c,!1,B,p,S,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&XE(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}rM(c,!0,p,null,S,m);break;case"together":rM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function sl(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),hc|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(ng(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=ZA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=ZA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function sM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&KE(A)))}function Yte(A,c,p){switch(c.tag){case 3:Je(c,c.stateNode.containerInfo),ac(c,xi,A.memoizedState.cache),wf();break;case 27:case 5:Pe(c);break;case 4:Je(c,c.stateNode.containerInfo);break;case 10:ac(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,FF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(uc(c),c.flags|=128,null):(p&c.child.childLanes)!==0?$H(A,c,p):(uc(c),A=sl(A,c,p),A!==null?A.sibling:null);uc(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(ng(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return WH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),oe(hi,hi.current),m)break;return null;case 22:return c.lanes=0,HH(A,c,p,c.pendingProps);case 24:ac(c,xi,A.memoizedState.cache)}return sl(A,c,p)}function YH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)Ti=!0;else{if(!sM(A,p)&&(c.flags&128)===0)return Ti=!1,Yte(A,c,p);Ti=(A.flags&131072)!==0}else Ti=!1,Pt&&(c.flags&1048576)!==0&&T2(c,Jy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=Ef(c.elementType),c.type=A,typeof A=="function")uF(A)?(m=Tf(A,m),c.tag=1,c=zH(null,c,A,m,p)):(c.tag=0,c=JF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=QH(null,c,A,m,p);break e}else if(B===Q){c.tag=14,c=kH(null,c,A,m,p);break e}}throw c=te(A)||A,Error(i(306,c,""))}}return c;case 0:return JF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=Tf(m,c.pendingProps),zH(A,c,m,B,p);case 3:e:{if(Je(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;B=S.element,SF(A,c),a0(c,m,null,p);var N=c.memoizedState;if(m=N.cache,ac(c,xi,m),m!==S.cache&&yF(c,[xi],p,!0),s0(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=qH(A,c,m,p);break e}else if(m!==B){B=Ta(Error(i(424)),c),Zy(B),c=qH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Rn=Pa(A.firstChild),hr=c,Pt=!0,rc=null,Ma=!0,p=H2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(wf(),m===B){c=sl(A,c,p);break e}gr(A,c,m,p)}c=c.child}return c;case 26:return AS(A,c),A===null?(p=oV(c.type,null,c.pendingProps,null))?c.memoizedState=p:Pt||(p=c.type,A=c.pendingProps,m=SS(_e.current).createElement(p),m[it]=c,m[Bt]=A,mr(m,p,A),ii(m),c.stateNode=m):c.memoizedState=oV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Pe(c),A===null&&Pt&&(m=c.stateNode=rV(c.type,c.pendingProps,_e.current),hr=c,Ma=!0,B=Rn,yc(c.type)?(QM=B,Rn=Pa(m.firstChild)):Rn=B),gr(A,c,c.pendingProps.children,p),AS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&Pt&&((B=m=Rn)&&(m=xne(m,c.type,c.pendingProps,Ma),m!==null?(c.stateNode=m,hr=c,Rn=Pa(m.firstChild),Ma=!1,B=!0):B=!1),B||sc(c)),Pe(c),B=c.type,S=c.pendingProps,N=A!==null?A.memoizedProps:null,m=S.children,PM(B,S)?m=null:N!==null&&PM(B,N)&&(c.flags|=32),c.memoizedState!==null&&(B=UF(A,c,Hte,null,null,p),x0._currentValue=B),AS(A,c),gr(A,c,m,p),c.child;case 6:return A===null&&Pt&&((A=p=Rn)&&(p=_ne(p,c.pendingProps,Ma),p!==null?(c.stateNode=p,hr=c,Rn=null,A=!0):A=!1),A||sc(c)),null;case 13:return $H(A,c,p);case 4:return Je(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=xf(c,null,m,p):gr(A,c,m,p),c.child;case 11:return QH(A,c,c.type,c.pendingProps,p);case 7:return gr(A,c,c.pendingProps,p),c.child;case 8:return gr(A,c,c.pendingProps.children,p),c.child;case 12:return gr(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,ac(c,c.type,m.value),gr(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,Cf(c),B=pr(B),m=m(B),c.flags|=1,gr(A,c,m,p),c.child;case 14:return kH(A,c,c.type,c.pendingProps,p);case 15:return OH(A,c,c.type,c.pendingProps,p);case 19:return WH(A,c,p);case 31:return Wte(A,c,p);case 22:return HH(A,c,p,c.pendingProps);case 24:return Cf(c),m=pr(xi),A===null?(B=CF(),B===null&&(B=yn,S=wF(),B.pooledCache=S,S.refCount++,S!==null&&(B.pooledCacheLanes|=p),B=S),c.memoizedState={parent:m,cache:B},EF(c),ac(c,xi,B)):((A.lanes&p)!==0&&(SF(A,c),a0(c,null,null,p),s0()),B=A.memoizedState,S=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),ac(c,xi,m)):(m=S.cache,ac(c,xi,m),m!==B.cache&&yF(c,[xi],p,!0))),gr(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function al(A){A.flags|=4}function aM(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(B4())A.flags|=8192;else throw Sf=$E,BF}else A.flags&=-16777217}function XH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!dV(c))if(B4())A.flags|=8192;else throw Sf=$E,BF}function uS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?Zu():536870912,A.lanes|=c,hg|=c)}function d0(A,c){if(!Pt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Dn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function Xte(A,c,p){var m=c.pendingProps;switch(hF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(c),null;case 1:return Dn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),nl(xi),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(tg(c)?al(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gF())),Dn(c),null;case 26:var B=c.type,S=c.memoizedState;return A===null?(al(c),S!==null?(Dn(c),XH(c,S)):(Dn(c),aM(c,B,null,m,p))):S?S!==A.memoizedState?(al(c),Dn(c),XH(c,S)):(Dn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&al(c),Dn(c),aM(c,B,A,m,p)),null;case 27:if(Ge(c),p=_e.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&al(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Dn(c),null}A=me.current,tg(c)?F2(c):(A=rV(B,m,p),c.stateNode=A,al(c))}return Dn(c),null;case 5:if(Ge(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&al(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Dn(c),null}if(S=me.current,tg(c))F2(c);else{var N=SS(_e.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(B,{is:m.is}):N.createElement(B)}}S[it]=c,S[Bt]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=S;e:switch(mr(S,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&al(c)}}return Dn(c),aM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&al(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=_e.current,tg(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=hr,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[it]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||$4(A.nodeValue,p)),A||sc(c,!0)}else A=SS(A).createTextNode(m),A[it]=c,c.stateNode=A}return Dn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=tg(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[it]=c}else wf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Dn(c),A=!1}else p=gF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Ks(c),c):(Ks(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Dn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=tg(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[it]=c}else wf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Dn(c),B=!1}else B=gF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(Ks(c),c):(Ks(c),null)}return Ks(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),uS(c,c.updateQueue),Dn(c),null);case 4:return ie(),A===null&&TM(c.stateNode.containerInfo),Dn(c),null;case 10:return nl(c.type),Dn(c),null;case 19:if(X(hi),m=c.memoizedState,m===null)return Dn(c),null;if(B=(c.flags&128)!==0,S=m.rendering,S===null)if(B)d0(m,!1);else{if(si!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(S=XE(A),S!==null){for(c.flags|=128,d0(m,!1),A=S.updateQueue,c.updateQueue=A,uS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)S2(p,A),p=p.sibling;return oe(hi,hi.current&1|2),Pt&&el(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Te()>pS&&(c.flags|=128,B=!0,d0(m,!1),c.lanes=4194304)}else{if(!B)if(A=XE(S),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,uS(c,A),d0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Pt)return Dn(c),null}else 2*Te()-m.renderingStartTime>pS&&p!==536870912&&(c.flags|=128,B=!0,d0(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(A=m.last,A!==null?A.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Te(),A.sibling=null,p=hi.current,oe(hi,B?p&1|2:p&1),Pt&&el(c,m.treeForkCount),A):(Dn(c),null);case 22:case 23:return Ks(c),IF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Dn(c),c.subtreeFlags&6&&(c.flags|=8192)):Dn(c),p=c.updateQueue,p!==null&&uS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&X(Bf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),nl(xi),Dn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Jte(A,c){switch(hF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return nl(xi),ie(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Ge(c),null;case 31:if(c.memoizedState!==null){if(Ks(c),c.alternate===null)throw Error(i(340));wf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Ks(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));wf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return X(hi),null;case 4:return ie(),null;case 10:return nl(c.type),null;case 22:case 23:return Ks(c),IF(),A!==null&&X(Bf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return nl(xi),null;case 25:return null;default:return null}}function JH(A,c){switch(hF(c),c.tag){case 3:nl(xi),ie();break;case 26:case 27:case 5:Ge(c);break;case 4:ie();break;case 31:c.memoizedState!==null&&Ks(c);break;case 13:Ks(c);break;case 19:X(hi);break;case 10:nl(c.type);break;case 22:case 23:Ks(c),IF(),A!==null&&X(Bf);break;case 24:nl(xi)}}function f0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var S=p.create,N=p.inst;m=S(),N.destroy=m}p=p.next}while(p!==B)}}catch(O){tn(c,c.return,O)}}function dc(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var S=B.next;m=S;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,B=c;var j=p,ee=O;try{ee()}catch(fe){tn(B,j,fe)}}}m=m.next}while(m!==S)}}catch(fe){tn(c,c.return,fe)}}function ZH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{K2(c,p)}catch(m){tn(A,A.return,m)}}}function e4(A,c,p){p.props=Tf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){tn(A,c,m)}}function h0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){tn(A,c,B)}}function rA(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){tn(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){tn(A,c,B)}else p.current=null}function t4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){tn(A,A.return,B)}}function oM(A,c,p){try{var m=A.stateNode;wne(m,A.type,p,c),m[Bt]=c}catch(B){tn(A,A.return,B)}}function n4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&yc(A.type)||A.tag===4}function AM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||n4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&yc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function lM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=XA));else if(m!==4&&(m===27&&yc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(lM(A,c,p),A=A.sibling;A!==null;)lM(A,c,p),A=A.sibling}function cS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&yc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(cS(A,c,p),A=A.sibling;A!==null;)cS(A,c,p),A=A.sibling}function i4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);mr(c,m,p),c[it]=A,c[Bt]=p}catch(S){tn(A,A.return,S)}}var ol=!1,Ii=!1,uM=!1,r4=typeof WeakSet=="function"?WeakSet:Set,Yi=null;function Zte(A,c){if(A=A.containerInfo,MM=US,A=g2(A),iF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,ee=0,fe=0,ve=A,ne=null;t:for(;;){for(var ae;ve!==p||B!==0&&ve.nodeType!==3||(O=N+B),ve!==S||m!==0&&ve.nodeType!==3||(j=N+m),ve.nodeType===3&&(N+=ve.nodeValue.length),(ae=ve.firstChild)!==null;)ne=ve,ve=ae;for(;;){if(ve===A)break t;if(ne===p&&++ee===B&&(O=N),ne===S&&++fe===m&&(j=N),(ae=ve.nextSibling)!==null)break;ve=ne,ne=ve.parentNode}ve=ae}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(UM={focusedElem:A,selectionRange:p},US=!1,Yi=c;Yi!==null;)if(c=Yi,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Yi=A;else for(;Yi!==null;){switch(c=Yi,S=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&S!==null){A=void 0,p=c,B=S.memoizedProps,S=S.memoizedState,m=p.stateNode;try{var Ve=Tf(p.type,B);A=m.getSnapshotBeforeUpdate(Ve,S),m.__reactInternalSnapshotBeforeUpdate=A}catch(rt){tn(p,p.return,rt)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)DM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":DM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,Yi=A;break}Yi=c.return}}function s4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:ll(A,p),m&4&&f0(5,p);break;case 1:if(ll(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){tn(p,p.return,N)}else{var B=Tf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){tn(p,p.return,N)}}m&64&&ZH(p),m&512&&h0(p,p.return);break;case 3:if(ll(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{K2(A,c)}catch(N){tn(p,p.return,N)}}break;case 27:c===null&&m&4&&i4(p);case 26:case 5:ll(A,p),c===null&&m&4&&t4(p),m&512&&h0(p,p.return);break;case 12:ll(A,p);break;case 31:ll(A,p),m&4&&A4(A,p);break;case 13:ll(A,p),m&4&&l4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=Ane.bind(null,p),Tne(A,p))));break;case 22:if(m=p.memoizedState!==null||ol,!m){c=c!==null&&c.memoizedState!==null||Ii,B=ol;var S=Ii;ol=m,(Ii=c)&&!S?ul(A,p,(p.subtreeFlags&8772)!==0):ll(A,p),ol=B,Ii=S}break;case 30:break;default:ll(A,p)}}function a4(A){var c=A.alternate;c!==null&&(A.alternate=null,a4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Hy(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Kn=null,gs=!1;function Al(A,c,p){for(p=p.child;p!==null;)o4(A,c,p),p=p.sibling}function o4(A,c,p){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Rr,p)}catch{}switch(p.tag){case 26:Ii||rA(p,c),Al(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ii||rA(p,c);var m=Kn,B=gs;yc(p.type)&&(Kn=p.stateNode,gs=!1),Al(A,c,p),B0(p.stateNode),Kn=m,gs=B;break;case 5:Ii||rA(p,c);case 6:if(m=Kn,B=gs,Kn=null,Al(A,c,p),Kn=m,gs=B,Kn!==null)if(gs)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(p.stateNode)}catch(S){tn(p,c,S)}else try{Kn.removeChild(p.stateNode)}catch(S){tn(p,c,S)}break;case 18:Kn!==null&&(gs?(A=Kn,Z4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),Cg(A)):Z4(Kn,p.stateNode));break;case 4:m=Kn,B=gs,Kn=p.stateNode.containerInfo,gs=!0,Al(A,c,p),Kn=m,gs=B;break;case 0:case 11:case 14:case 15:dc(2,p,c),Ii||dc(4,p,c),Al(A,c,p);break;case 1:Ii||(rA(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&e4(p,c,m)),Al(A,c,p);break;case 21:Al(A,c,p);break;case 22:Ii=(m=Ii)||p.memoizedState!==null,Al(A,c,p),Ii=m;break;default:Al(A,c,p)}}function A4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{Cg(A)}catch(p){tn(c,c.return,p)}}}function l4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Cg(A)}catch(p){tn(c,c.return,p)}}function ene(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new r4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new r4),c;default:throw Error(i(435,A.tag))}}function dS(A,c){var p=ene(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=lne.bind(null,A,m);m.then(B,B)}})}function ms(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],S=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(yc(O.type)){Kn=O.stateNode,gs=!1;break e}break;case 5:Kn=O.stateNode,gs=!1;break e;case 3:case 4:Kn=O.stateNode.containerInfo,gs=!0;break e}O=O.return}if(Kn===null)throw Error(i(160));o4(S,N,B),Kn=null,gs=!1,S=B.alternate,S!==null&&(S.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)u4(c,A),c=c.sibling}var bo=null;function u4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:ms(c,A),vs(A),m&4&&(dc(3,A,A.return),f0(3,A),dc(5,A,A.return));break;case 1:ms(c,A),vs(A),m&512&&(Ii||p===null||rA(p,p.return)),m&64&&ol&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=bo;if(ms(c,A),vs(A),m&512&&(Ii||p===null||rA(p,p.return)),m&4){var S=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":S=B.getElementsByTagName("title")[0],(!S||S[ni]||S[it]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=B.createElement(m),B.head.insertBefore(S,B.querySelector("head > title"))),mr(S,m,p),S[it]=A,ii(S),m=S;break e;case"link":var N=uV("link","href",B).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(S=N[O],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}S=B.createElement(m),mr(S,m,p),B.head.appendChild(S);break;case"meta":if(N=uV("meta","content",B).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(S=N[O],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}S=B.createElement(m),mr(S,m,p),B.head.appendChild(S);break;default:throw Error(i(468,m))}S[it]=A,ii(S),m=S}A.stateNode=m}else cV(B,A.type,A.stateNode);else A.stateNode=lV(B,m,A.memoizedProps);else S!==m?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,m===null?cV(B,A.type,A.stateNode):lV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&oM(A,A.memoizedProps,p.memoizedProps)}break;case 27:ms(c,A),vs(A),m&512&&(Ii||p===null||rA(p,p.return)),p!==null&&m&4&&oM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(ms(c,A),vs(A),m&512&&(Ii||p===null||rA(p,p.return)),A.flags&32){B=A.stateNode;try{zp(B,"")}catch(Ve){tn(A,A.return,Ve)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,oM(A,B,p!==null?p.memoizedProps:B)),m&1024&&(uM=!0);break;case 6:if(ms(c,A),vs(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(Ve){tn(A,A.return,Ve)}}break;case 3:if(TS=null,B=bo,bo=xS(c.containerInfo),ms(c,A),bo=B,vs(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{Cg(c.containerInfo)}catch(Ve){tn(A,A.return,Ve)}uM&&(uM=!1,c4(A));break;case 4:m=bo,bo=xS(A.stateNode.containerInfo),ms(c,A),vs(A),bo=m;break;case 12:ms(c,A),vs(A);break;case 31:ms(c,A),vs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,dS(A,m)));break;case 13:ms(c,A),vs(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(hS=Te()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,dS(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,ee=ol,fe=Ii;if(ol=ee||B,Ii=fe||j,ms(c,A),Ii=fe,ol=ee,vs(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||ol||Ii||If(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(S=j.stateNode,B)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var ve=j.memoizedProps.style,ne=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ve){tn(j,j.return,Ve)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(Ve){tn(j,j.return,Ve)}}}else if(c.tag===18){if(p===null){j=c;try{var ae=j.stateNode;B?eV(ae,!0):eV(j.stateNode,!1)}catch(Ve){tn(j,j.return,Ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,dS(A,p))));break;case 19:ms(c,A),vs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,dS(A,m)));break;case 30:break;case 21:break;default:ms(c,A),vs(A)}}function vs(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(n4(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,S=AM(A);cS(A,S,B);break;case 5:var N=p.stateNode;p.flags&32&&(zp(N,""),p.flags&=-33);var O=AM(A);cS(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,ee=AM(A);lM(A,ee,j);break;default:throw Error(i(161))}}catch(fe){tn(A,A.return,fe)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function c4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;c4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function ll(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)s4(A,c.alternate,c),c=c.sibling}function If(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:dc(4,c,c.return),If(c);break;case 1:rA(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&e4(c,c.return,p),If(c);break;case 27:B0(c.stateNode);case 26:case 5:rA(c,c.return),If(c);break;case 22:c.memoizedState===null&&If(c);break;case 30:If(c);break;default:If(c)}A=A.sibling}}function ul(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,S=c,N=S.flags;switch(S.tag){case 0:case 11:case 15:ul(B,S,p),f0(4,S);break;case 1:if(ul(B,S,p),m=S,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(ee){tn(m,m.return,ee)}if(m=S,B=m.updateQueue,B!==null){var O=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)V2(j[B],O)}catch(ee){tn(m,m.return,ee)}}p&&N&64&&ZH(S),h0(S,S.return);break;case 27:i4(S);case 26:case 5:ul(B,S,p),p&&m===null&&N&4&&t4(S),h0(S,S.return);break;case 12:ul(B,S,p);break;case 31:ul(B,S,p),p&&N&4&&A4(B,S);break;case 13:ul(B,S,p),p&&N&4&&l4(B,S);break;case 22:S.memoizedState===null&&ul(B,S,p),h0(S,S.return);break;case 30:break;default:ul(B,S,p)}c=c.sibling}}function cM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&e0(p))}function dM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&e0(A))}function Co(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)d4(A,c,p,m),c=c.sibling}function d4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:Co(A,c,p,m),B&2048&&f0(9,c);break;case 1:Co(A,c,p,m);break;case 3:Co(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&e0(A)));break;case 12:if(B&2048){Co(A,c,p,m),A=c.stateNode;try{var S=c.memoizedProps,N=S.id,O=S.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){tn(c,c.return,j)}}else Co(A,c,p,m);break;case 31:Co(A,c,p,m);break;case 13:Co(A,c,p,m);break;case 23:break;case 22:S=c.stateNode,N=c.alternate,c.memoizedState!==null?S._visibility&2?Co(A,c,p,m):p0(A,c):S._visibility&2?Co(A,c,p,m):(S._visibility|=2,cg(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&cM(N,c);break;case 24:Co(A,c,p,m),B&2048&&dM(c.alternate,c);break;default:Co(A,c,p,m)}}function cg(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=A,N=c,O=p,j=m,ee=N.flags;switch(N.tag){case 0:case 11:case 15:cg(S,N,O,j,B),f0(8,N);break;case 23:break;case 22:var fe=N.stateNode;N.memoizedState!==null?fe._visibility&2?cg(S,N,O,j,B):p0(S,N):(fe._visibility|=2,cg(S,N,O,j,B)),B&&ee&2048&&cM(N.alternate,N);break;case 24:cg(S,N,O,j,B),B&&ee&2048&&dM(N.alternate,N);break;default:cg(S,N,O,j,B)}c=c.sibling}}function p0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:p0(p,m),B&2048&&cM(m.alternate,m);break;case 24:p0(p,m),B&2048&&dM(m.alternate,m);break;default:p0(p,m)}c=c.sibling}}var g0=8192;function dg(A,c,p){if(A.subtreeFlags&g0)for(A=A.child;A!==null;)f4(A,c,p),A=A.sibling}function f4(A,c,p){switch(A.tag){case 26:dg(A,c,p),A.flags&g0&&A.memoizedState!==null&&One(p,bo,A.memoizedState,A.memoizedProps);break;case 5:dg(A,c,p);break;case 3:case 4:var m=bo;bo=xS(A.stateNode.containerInfo),dg(A,c,p),bo=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=g0,g0=16777216,dg(A,c,p),g0=m):dg(A,c,p));break;default:dg(A,c,p)}}function h4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function m0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Yi=m,g4(m,A)}h4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)p4(A),A=A.sibling}function p4(A){switch(A.tag){case 0:case 11:case 15:m0(A),A.flags&2048&&dc(9,A,A.return);break;case 3:m0(A);break;case 12:m0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,fS(A)):m0(A);break;default:m0(A)}}function fS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Yi=m,g4(m,A)}h4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:dc(8,c,c.return),fS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,fS(c));break;default:fS(c)}A=A.sibling}}function g4(A,c){for(;Yi!==null;){var p=Yi;switch(p.tag){case 0:case 11:case 15:dc(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:e0(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Yi=m;else e:for(p=A;Yi!==null;){m=Yi;var B=m.sibling,S=m.return;if(a4(m),m===p){Yi=null;break e}if(B!==null){B.return=S,Yi=B;break e}Yi=S}}}var tne={getCacheForType:function(A){var c=pr(xi),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return pr(xi).controller.signal}},nne=typeof WeakMap=="function"?WeakMap:Map,Wt=0,yn=null,xt=null,Tt=0,en=0,Gs=null,fc=!1,fg=!1,fM=!1,cl=0,si=0,hc=0,Ff=0,hM=0,zs=0,hg=0,v0=null,ys=null,pM=!1,hS=0,m4=0,pS=1/0,gS=null,pc=null,Qi=0,gc=null,pg=null,dl=0,gM=0,mM=null,v4=null,y0=0,vM=null;function qs(){return(Wt&2)!==0&&Tt!==0?Tt&-Tt:G.T!==null?EM():xn()}function y4(){if(zs===0)if((Tt&536870912)===0||Pt){var A=WA;WA<<=1,(WA&3932160)===0&&(WA=262144),zs=A}else zs=536870912;return A=Vs.current,A!==null&&(A.flags|=32),zs}function ws(A,c,p){(A===yn&&(en===2||en===9)||A.cancelPendingCommit!==null)&&(gg(A,0),mc(A,Tt,zs,!1)),ce(A,p),((Wt&2)===0||A!==yn)&&(A===yn&&((Wt&2)===0&&(Ff|=p),si===4&&mc(A,Tt,zs,!1)),sA(A))}function w4(A,c,p){if((Wt&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||Zo(A,c),B=m?sne(A,c):wM(A,c,!0),S=m;do{if(B===0){fg&&!m&&mc(A,c,0,!1);break}else{if(p=A.current.alternate,S&&!ine(p)){B=wM(A,c,!1),S=!1;continue}if(B===2){if(S=c,A.errorRecoveryDisabledLanes&S)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;B=v0;var j=O.current.memoizedState.isDehydrated;if(j&&(gg(O,N).flags|=256),N=wM(O,N,!1),N!==2){if(fM&&!j){O.errorRecoveryDisabledLanes|=S,Ff|=S,B=4;break e}S=ys,ys=B,S!==null&&(ys===null?ys=S:ys.push.apply(ys,S))}B=N}if(S=!1,B!==2)continue}}if(B===1){gg(A,0),mc(A,c,0,!0);break}e:{switch(m=A,S=B,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:mc(m,c,zs,!fc);break e;case 2:ys=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=hS+300-Te(),10<B)){if(mc(m,c,zs,!fc),Dr(m,0,!0)!==0)break e;dl=c,m.timeoutHandle=X4(b4.bind(null,m,p,ys,gS,pM,c,zs,Ff,hg,fc,S,"Throttled",-0,0),B);break e}b4(m,p,ys,gS,pM,c,zs,Ff,hg,fc,S,null,-0,0)}}break}while(!0);sA(A)}function b4(A,c,p,m,B,S,N,O,j,ee,fe,ve,ne,ae){if(A.timeoutHandle=-1,ve=c.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:XA},f4(c,S,ve);var Ve=(S&62914560)===S?hS-Te():(S&4194048)===S?m4-Te():0;if(Ve=Hne(ve,Ve),Ve!==null){dl=S,A.cancelPendingCommit=Ve(I4.bind(null,A,c,S,p,m,B,N,O,j,fe,ve,null,ne,ae)),mc(A,S,N,!ee);return}}I4(A,c,S,p,m,B,N,O,j)}function ine(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],S=B.getSnapshot;B=B.value;try{if(!Os(S(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function mc(A,c,p,m){c&=~hM,c&=~Ff,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var S=31-Hn(B),N=1<<S;m[S]=-1,B&=~N}p!==0&&Fe(A,p,c)}function mS(){return(Wt&6)===0?(w0(0),!1):!0}function yM(){if(xt!==null){if(en===0)var A=xt.return;else A=xt,tl=bf=null,DF(A),ag=null,n0=0,A=xt;for(;A!==null;)JH(A.alternate,A),A=A.return;xt=null}}function gg(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Bne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),dl=0,yM(),yn=A,xt=p=ZA(A.current,null),Tt=c,en=0,Gs=null,fc=!1,fg=Zo(A,c),fM=!1,hg=zs=hM=Ff=hc=si=0,ys=v0=null,pM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-Hn(m),S=1<<B;c|=A[B],m&=~S}return cl=c,QE(),p}function C4(A,c){gt=null,G.H=u0,c===sg||c===qE?(c=Q2(),en=3):c===BF?(c=Q2(),en=4):en=c===XF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Gs=c,xt===null&&(si=1,aS(A,Ta(c,A.current)))}function B4(){var A=Vs.current;return A===null?!0:(Tt&4194048)===Tt?Ua===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?A===Ua:!1}function E4(){var A=G.H;return G.H=u0,A===null?u0:A}function S4(){var A=G.A;return G.A=tne,A}function vS(){si=4,fc||(Tt&4194048)!==Tt&&Vs.current!==null||(fg=!0),(hc&134217727)===0&&(Ff&134217727)===0||yn===null||mc(yn,Tt,zs,!1)}function wM(A,c,p){var m=Wt;Wt|=2;var B=E4(),S=S4();(yn!==A||Tt!==c)&&(gS=null,gg(A,c)),c=!1;var N=si;e:do try{if(en!==0&&xt!==null){var O=xt,j=Gs;switch(en){case 8:yM(),N=6;break e;case 3:case 2:case 9:case 6:Vs.current===null&&(c=!0);var ee=en;if(en=0,Gs=null,mg(A,O,j,ee),p&&fg){N=0;break e}break;default:ee=en,en=0,Gs=null,mg(A,O,j,ee)}}rne(),N=si;break}catch(fe){C4(A,fe)}while(!0);return c&&A.shellSuspendCounter++,tl=bf=null,Wt=m,G.H=B,G.A=S,xt===null&&(yn=null,Tt=0,QE()),N}function rne(){for(;xt!==null;)x4(xt)}function sne(A,c){var p=Wt;Wt|=2;var m=E4(),B=S4();yn!==A||Tt!==c?(gS=null,pS=Te()+500,gg(A,c)):fg=Zo(A,c);e:do try{if(en!==0&&xt!==null){c=xt;var S=Gs;t:switch(en){case 1:en=0,Gs=null,mg(A,c,S,1);break;case 2:case 9:if(N2(S)){en=0,Gs=null,_4(c);break}c=function(){en!==2&&en!==9||yn!==A||(en=7),sA(A)},S.then(c,c);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:N2(S)?(en=0,Gs=null,_4(c)):(en=0,Gs=null,mg(A,c,S,7));break;case 5:var N=null;switch(xt.tag){case 26:N=xt.memoizedState;case 5:case 27:var O=xt;if(N?dV(N):O.stateNode.complete){en=0,Gs=null;var j=O.sibling;if(j!==null)xt=j;else{var ee=O.return;ee!==null?(xt=ee,yS(ee)):xt=null}break t}}en=0,Gs=null,mg(A,c,S,5);break;case 6:en=0,Gs=null,mg(A,c,S,6);break;case 8:yM(),si=6;break e;default:throw Error(i(462))}}ane();break}catch(fe){C4(A,fe)}while(!0);return tl=bf=null,G.H=m,G.A=B,Wt=p,xt!==null?0:(yn=null,Tt=0,QE(),si)}function ane(){for(;xt!==null&&!hs();)x4(xt)}function x4(A){var c=YH(A.alternate,A,cl);A.memoizedProps=A.pendingProps,c===null?yS(A):xt=c}function _4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=GH(p,c,c.pendingProps,c.type,void 0,Tt);break;case 11:c=GH(p,c,c.pendingProps,c.type.render,c.ref,Tt);break;case 5:DF(c);default:JH(p,c),c=xt=S2(c,cl),c=YH(p,c,cl)}A.memoizedProps=A.pendingProps,c===null?yS(A):xt=c}function mg(A,c,p,m){tl=bf=null,DF(c),ag=null,n0=0;var B=c.return;try{if(jte(A,B,c,p,Tt)){si=1,aS(A,Ta(p,A.current)),xt=null;return}}catch(S){if(B!==null)throw xt=B,S;si=1,aS(A,Ta(p,A.current)),xt=null;return}c.flags&32768?(Pt||m===1?A=!0:fg||(Tt&536870912)!==0?A=!1:(fc=A=!0,(m===2||m===9||m===3||m===6)&&(m=Vs.current,m!==null&&m.tag===13&&(m.flags|=16384))),T4(c,A)):yS(c)}function yS(A){var c=A;do{if((c.flags&32768)!==0){T4(c,fc);return}A=c.return;var p=Xte(c.alternate,c,cl);if(p!==null){xt=p;return}if(c=c.sibling,c!==null){xt=c;return}xt=c=A}while(c!==null);si===0&&(si=5)}function T4(A,c){do{var p=Jte(A.alternate,A);if(p!==null){p.flags&=32767,xt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){xt=A;return}xt=A=p}while(A!==null);si=6,xt=null}function I4(A,c,p,m,B,S,N,O,j){A.cancelPendingCommit=null;do wS();while(Qi!==0);if((Wt&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=AF,Ee(A,p,S,N,O,j),A===yn&&(xt=yn=null,Tt=0),pg=c,gc=A,dl=p,gM=S,mM=B,v4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,une(Ye,function(){return R4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,B=$.p,$.p=2,N=Wt,Wt|=4;try{Zte(A,c,p)}finally{Wt=N,$.p=B,G.T=m}}Qi=1,F4(),M4(),U4()}}function F4(){if(Qi===1){Qi=0;var A=gc,c=pg,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=Wt;Wt|=4;try{u4(c,A);var S=UM,N=g2(A.containerInfo),O=S.focusedElem,j=S.selectionRange;if(N!==O&&O&&O.ownerDocument&&p2(O.ownerDocument.documentElement,O)){if(j!==null&&iF(O)){var ee=j.start,fe=j.end;if(fe===void 0&&(fe=ee),"selectionStart"in O)O.selectionStart=ee,O.selectionEnd=Math.min(fe,O.value.length);else{var ve=O.ownerDocument||document,ne=ve&&ve.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Ve=O.textContent.length,rt=Math.min(j.start,Ve),ln=j.end===void 0?rt:Math.min(j.end,Ve);!ae.extend&&rt>ln&&(N=ln,ln=rt,rt=N);var Y=h2(O,rt),W=h2(O,ln);if(Y&&W&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var Z=ve.createRange();Z.setStart(Y.node,Y.offset),ae.removeAllRanges(),rt>ln?(ae.addRange(Z),ae.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ae.addRange(Z))}}}}for(ve=[],ae=O;ae=ae.parentNode;)ae.nodeType===1&&ve.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ve.length;O++){var ge=ve[O];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}US=!!MM,UM=MM=null}finally{Wt=B,$.p=m,G.T=p}}A.current=c,Qi=2}}function M4(){if(Qi===2){Qi=0;var A=gc,c=pg,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=Wt;Wt|=4;try{s4(A,c.alternate,c)}finally{Wt=B,$.p=m,G.T=p}}Qi=3}}function U4(){if(Qi===4||Qi===3){Qi=0,xe();var A=gc,c=pg,p=dl,m=v4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qi=5:(Qi=0,pg=gc=null,P4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(pc=null),Et(p),c=c.stateNode,Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Rr,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,B=$.p,$.p=2,G.T=null;try{for(var S=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];S(O.value,{componentStack:O.stack})}}finally{G.T=c,$.p=B}}(dl&3)!==0&&wS(),sA(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===vM?y0++:(y0=0,vM=A):y0=0,w0(0)}}function P4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,e0(c)))}function wS(){return F4(),M4(),U4(),R4()}function R4(){if(Qi!==5)return!1;var A=gc,c=gM;gM=0;var p=Et(dl),m=G.T,B=$.p;try{$.p=32>p?32:p,G.T=null,p=mM,mM=null;var S=gc,N=dl;if(Qi=0,pg=gc=null,dl=0,(Wt&6)!==0)throw Error(i(331));var O=Wt;if(Wt|=4,p4(S.current),d4(S,S.current,N,p),Wt=O,w0(0,!1),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Rr,S)}catch{}return!0}finally{$.p=B,G.T=m,P4(A,c)}}function D4(A,c,p){c=Ta(p,c),c=YF(A.stateNode,c,2),A=lc(A,c,2),A!==null&&(ce(A,2),sA(A))}function tn(A,c,p){if(A.tag===3)D4(A,A,p);else for(;c!==null;){if(c.tag===3){D4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(pc===null||!pc.has(m))){A=Ta(p,A),p=NH(2),m=lc(c,p,2),m!==null&&(LH(p,m,c,A),ce(m,2),sA(m));break}}c=c.return}}function bM(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new nne;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(fM=!0,B.add(p),A=one.bind(null,A,c,p),c.then(A,A))}function one(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,yn===A&&(Tt&p)===p&&(si===4||si===3&&(Tt&62914560)===Tt&&300>Te()-hS?(Wt&2)===0&&gg(A,0):hM|=p,hg===Tt&&(hg=0)),sA(A)}function N4(A,c){c===0&&(c=Zu()),A=vf(A,c),A!==null&&(ce(A,c),sA(A))}function Ane(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),N4(A,p)}function lne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),N4(A,p)}function une(A,c){return fs(A,c)}var bS=null,vg=null,CM=!1,CS=!1,BM=!1,vc=0;function sA(A){A!==vg&&A.next===null&&(vg===null?bS=vg=A:vg=vg.next=A),CS=!0,CM||(CM=!0,dne())}function w0(A,c){if(!BM&&CS){BM=!0;do for(var p=!1,m=bS;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var S=0;else{var N=m.suspendedLanes,O=m.pingedLanes;S=(1<<31-Hn(42|A)+1)-1,S&=B&~(N&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,O4(m,S))}else S=Tt,S=Dr(m,m===yn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Zo(m,S)||(p=!0,O4(m,S));m=m.next}while(p);BM=!1}}function cne(){L4()}function L4(){CS=CM=!1;var A=0;vc!==0&&Cne()&&(A=vc);for(var c=Te(),p=null,m=bS;m!==null;){var B=m.next,S=Q4(m,c);S===0?(m.next=null,p===null?bS=B:p.next=B,B===null&&(vg=p)):(p=m,(A!==0||(S&3)!==0)&&(CS=!0)),m=B}Qi!==0&&Qi!==5||w0(A),vc!==0&&(vc=0)}function Q4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,S=A.pendingLanes&-62914561;0<S;){var N=31-Hn(S),O=1<<N,j=B[N];j===-1?((O&p)===0||(O&m)!==0)&&(B[N]=Kp(O,c)):j<=c&&(A.expiredLanes|=O),S&=~O}if(c=yn,p=Tt,p=Dr(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(en===2||en===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&vn(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||Zo(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&vn(m),Et(p)){case 2:case 8:p=We;break;case 32:p=Ye;break;case 268435456:p=jt;break;default:p=Ye}return m=k4.bind(null,A),p=fs(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&vn(m),A.callbackPriority=2,A.callbackNode=null,2}function k4(A,c){if(Qi!==0&&Qi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(wS()&&A.callbackNode!==p)return null;var m=Tt;return m=Dr(A,A===yn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(w4(A,m,c),Q4(A,Te()),A.callbackNode!=null&&A.callbackNode===p?k4.bind(null,A):null)}function O4(A,c){if(wS())return null;w4(A,c,!0)}function dne(){Ene(function(){(Wt&6)!==0?fs(be,cne):L4()})}function EM(){if(vc===0){var A=ig;A===0&&(A=Jo,Jo<<=1,(Jo&261888)===0&&(Jo=256)),vc=A}return vc}function H4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:FE(""+A)}function V4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function fne(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var S=H4((B[Bt]||null).action),N=m.submitter;N&&(c=(c=N[Bt]||null)?H4(c.formAction):N.getAttribute("formAction"),c!==null&&(S=c,N=null));var O=new RE("action","action",null,m,B);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(vc!==0){var j=N?V4(B,N):new FormData(B);GF(p,{pending:!0,data:j,method:B.method,action:S},null,j)}}else typeof S=="function"&&(O.preventDefault(),j=N?V4(B,N):new FormData(B),GF(p,{pending:!0,data:j,method:B.method,action:S},S,j))},currentTarget:B}]})}}for(var SM=0;SM<oF.length;SM++){var xM=oF[SM],hne=xM.toLowerCase(),pne=xM[0].toUpperCase()+xM.slice(1);wo(hne,"on"+pne)}wo(y2,"onAnimationEnd"),wo(w2,"onAnimationIteration"),wo(b2,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(Mte,"onTransitionRun"),wo(Ute,"onTransitionStart"),wo(Pte,"onTransitionCancel"),wo(C2,"onTransitionEnd"),pe("onMouseEnter",["mouseout","mouseover"]),pe("onMouseLeave",["mouseout","mouseover"]),pe("onPointerEnter",["pointerout","pointerover"]),pe("onPointerLeave",["pointerout","pointerover"]),YA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),YA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),YA("onBeforeInput",["compositionend","keypress","textInput","paste"]),YA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),YA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),YA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(b0));function K4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,ee=O.currentTarget;if(O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=ee;try{S(B)}catch(fe){LE(fe)}B.currentTarget=null,S=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,ee=O.currentTarget,O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=ee;try{S(B)}catch(fe){LE(fe)}B.currentTarget=null,S=j}}}}function _t(A,c){var p=c[dr];p===void 0&&(p=c[dr]=new Set);var m=A+"__bubble";p.has(m)||(G4(c,A,2,!1),p.add(m))}function _M(A,c,p){var m=0;c&&(m|=4),G4(p,A,m,c)}var BS="_reactListening"+Math.random().toString(36).slice(2);function TM(A){if(!A[BS]){A[BS]=!0,_E.forEach(function(p){p!=="selectionchange"&&(gne.has(p)||_M(p,!1,A),_M(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[BS]||(c[BS]=!0,_M("selectionchange",!1,c))}}function G4(A,c,p,m){switch(yV(c)){case 2:var B=Gne;break;case 8:B=zne;break;default:B=KM}p=B.bind(null,c,p,A),B=void 0,!jI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function IM(A,c,p,m,B){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===B)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===B)return;N=N.return}for(;O!==null;){if(N=ec(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=S=N;continue e}O=O.parentNode}}m=m.return}WO(function(){var ee=S,fe=qI(p),ve=[];e:{var ne=B2.get(A);if(ne!==void 0){var ae=RE,Ve=A;switch(A){case"keypress":if(UE(p)===0)break e;case"keydown":case"keyup":ae=lte;break;case"focusin":Ve="focus",ae=JI;break;case"focusout":Ve="blur",ae=JI;break;case"beforeblur":case"afterblur":ae=JI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=JO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Xee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=dte;break;case y2:case w2:case b2:ae=ete;break;case C2:ae=hte;break;case"scroll":case"scrollend":ae=Wee;break;case"wheel":ae=gte;break;case"copy":case"cut":case"paste":ae=nte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=e2;break;case"toggle":case"beforetoggle":ae=vte}var rt=(c&4)!==0,ln=!rt&&(A==="scroll"||A==="scrollend"),Y=rt?ne!==null?ne+"Capture":null:ne;rt=[];for(var W=ee,Z;W!==null;){var ge=W;if(Z=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||Z===null||Y===null||(ge=Ky(W,Y),ge!=null&&rt.push(C0(W,ge,Z))),ln)break;W=W.return}0<rt.length&&(ne=new ae(ne,Ve,null,p,fe),ve.push({event:ne,listeners:rt}))}}if((c&7)===0){e:{if(ne=A==="mouseover"||A==="pointerover",ae=A==="mouseout"||A==="pointerout",ne&&p!==zI&&(Ve=p.relatedTarget||p.fromElement)&&(ec(Ve)||Ve[_n]))break e;if((ae||ne)&&(ne=fe.window===fe?fe:(ne=fe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Ve=p.relatedTarget||p.toElement,ae=ee,Ve=Ve?ec(Ve):null,Ve!==null&&(ln=s(Ve),rt=Ve.tag,Ve!==ln||rt!==5&&rt!==27&&rt!==6)&&(Ve=null)):(ae=null,Ve=ee),ae!==Ve)){if(rt=JO,ge="onMouseLeave",Y="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(rt=e2,ge="onPointerLeave",Y="onPointerEnter",W="pointer"),ln=ae==null?ne:hf(ae),Z=Ve==null?ne:hf(Ve),ne=new rt(ge,W+"leave",ae,p,fe),ne.target=ln,ne.relatedTarget=Z,ge=null,ec(fe)===ee&&(rt=new rt(Y,W+"enter",Ve,p,fe),rt.target=Z,rt.relatedTarget=ln,ge=rt),ln=ge,ae&&Ve)t:{for(rt=mne,Y=ae,W=Ve,Z=0,ge=Y;ge;ge=rt(ge))Z++;ge=0;for(var tt=W;tt;tt=rt(tt))ge++;for(;0<Z-ge;)Y=rt(Y),Z--;for(;0<ge-Z;)W=rt(W),ge--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){rt=Y;break t}Y=rt(Y),W=rt(W)}rt=null}else rt=null;ae!==null&&z4(ve,ne,ae,rt,!1),Ve!==null&&ln!==null&&z4(ve,ln,Ve,rt,!0)}}e:{if(ne=ee?hf(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Kt=A2;else if(a2(ne))if(l2)Kt=Tte;else{Kt=xte;var qe=Ste}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&GI(ee.elementType)&&(Kt=A2):Kt=_te;if(Kt&&(Kt=Kt(A,ee))){o2(ve,Kt,p,fe);break e}qe&&qe(A,ne,ee),A==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&KI(ne,"number",ne.value)}switch(qe=ee?hf(ee):window,A){case"focusin":(a2(qe)||qe.contentEditable==="true")&&(Wp=qe,rF=ee,Xy=null);break;case"focusout":Xy=rF=Wp=null;break;case"mousedown":sF=!0;break;case"contextmenu":case"mouseup":case"dragend":sF=!1,m2(ve,p,fe);break;case"selectionchange":if(Fte)break;case"keydown":case"keyup":m2(ve,p,fe)}var yt;if(eF)e:{switch(A){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else jp?r2(A,p)&&(It="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(It="onCompositionStart");It&&(t2&&p.locale!=="ko"&&(jp||It!=="onCompositionStart"?It==="onCompositionEnd"&&jp&&(yt=YO()):(nc=fe,WI="value"in nc?nc.value:nc.textContent,jp=!0)),qe=ES(ee,It),0<qe.length&&(It=new ZO(It,A,null,p,fe),ve.push({event:It,listeners:qe}),yt?It.data=yt:(yt=s2(p),yt!==null&&(It.data=yt)))),(yt=wte?bte(A,p):Cte(A,p))&&(It=ES(ee,"onBeforeInput"),0<It.length&&(qe=new ZO("onBeforeInput","beforeinput",null,p,fe),ve.push({event:qe,listeners:It}),qe.data=yt)),fne(ve,A,ee,p,fe)}K4(ve,c)})}function C0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function ES(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,S=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||S===null||(B=Ky(A,p),B!=null&&m.unshift(C0(A,B,S)),B=Ky(A,c),B!=null&&m.push(C0(A,B,S))),A.tag===3)return m;A=A.return}return[]}function mne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function z4(A,c,p,m,B){for(var S=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,ee=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||ee===null||(j=ee,B?(ee=Ky(p,S),ee!=null&&N.unshift(C0(p,ee,j))):B||(ee=Ky(p,S),ee!=null&&N.push(C0(p,ee,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var vne=/\r\n?/g,yne=/\u0000|\uFFFD/g;function q4(A){return(typeof A=="string"?A:""+A).replace(vne,`
`).replace(yne,"")}function $4(A,c){return c=q4(c),q4(A)===c}function An(A,c,p,m,B,S){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||zp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&zp(A,""+m);break;case"className":Tn(A,"class",m);break;case"tabIndex":Tn(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(A,p,m);break;case"style":$O(A,m,S);break;case"data":if(c!=="object"){Tn(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=FE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(c!=="input"&&An(A,c,"name",B.name,B,null),An(A,c,"formEncType",B.formEncType,B,null),An(A,c,"formMethod",B.formMethod,B,null),An(A,c,"formTarget",B.formTarget,B,null)):(An(A,c,"encType",B.encType,B,null),An(A,c,"method",B.method,B,null),An(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=FE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=XA);break;case"onScroll":m!=null&&_t("scroll",A);break;case"onScrollEnd":m!=null&&_t("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=FE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":_t("beforetoggle",A),_t("toggle",A),Vn(A,"popover",m);break;case"xlinkActuate":Vt(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Vt(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Vt(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Vt(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Vt(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Vt(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Vt(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Vt(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Vt(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Vn(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=$ee.get(p)||p,Vn(A,p,m))}}function FM(A,c,p,m,B,S){switch(p){case"style":$O(A,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?zp(A,m):(typeof m=="number"||typeof m=="bigint")&&zp(A,""+m);break;case"onScroll":m!=null&&_t("scroll",A);break;case"onScrollEnd":m!=null&&_t("scrollend",A);break;case"onClick":m!=null&&(A.onclick=XA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!TE.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),S=A[Bt]||null,S=S!=null?S[p]:null,typeof S=="function"&&A.removeEventListener(c,S,B),typeof m=="function")){typeof S!="function"&&S!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):Vn(A,p,m)}}}function mr(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",A),_t("load",A);var m=!1,B=!1,S;for(S in p)if(p.hasOwnProperty(S)){var N=p[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(A,c,S,N,p,null)}}B&&An(A,c,"srcSet",p.srcSet,p,null),m&&An(A,c,"src",p.src,p,null);return;case"input":_t("invalid",A);var O=S=N=B=null,j=null,ee=null;for(m in p)if(p.hasOwnProperty(m)){var fe=p[m];if(fe!=null)switch(m){case"name":B=fe;break;case"type":N=fe;break;case"checked":j=fe;break;case"defaultChecked":ee=fe;break;case"value":S=fe;break;case"defaultValue":O=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,c));break;default:An(A,c,m,fe,p,null)}}KO(A,S,O,j,ee,N,B,!1);return;case"select":_t("invalid",A),m=N=S=null;for(B in p)if(p.hasOwnProperty(B)&&(O=p[B],O!=null))switch(B){case"value":S=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:An(A,c,B,O,p,null)}c=S,p=N,A.multiple=!!m,c!=null?Gp(A,!!m,c,!1):p!=null&&Gp(A,!!m,p,!0);return;case"textarea":_t("invalid",A),S=B=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":B=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:An(A,c,N,O,p,null)}zO(A,m,B,S);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:An(A,c,j,m,p,null)}return;case"dialog":_t("beforetoggle",A),_t("toggle",A),_t("cancel",A),_t("close",A);break;case"iframe":case"object":_t("load",A);break;case"video":case"audio":for(m=0;m<b0.length;m++)_t(b0[m],A);break;case"image":_t("error",A),_t("load",A);break;case"details":_t("toggle",A);break;case"embed":case"source":case"link":_t("error",A),_t("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in p)if(p.hasOwnProperty(ee)&&(m=p[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(A,c,ee,m,p,null)}return;default:if(GI(c)){for(fe in p)p.hasOwnProperty(fe)&&(m=p[fe],m!==void 0&&FM(A,c,fe,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&An(A,c,O,m,p,null))}function wne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,S=null,N=null,O=null,j=null,ee=null,fe=null;for(ae in p){var ve=p[ae];if(p.hasOwnProperty(ae)&&ve!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":j=ve;default:m.hasOwnProperty(ae)||An(A,c,ae,null,m,ve)}}for(var ne in m){var ae=m[ne];if(ve=p[ne],m.hasOwnProperty(ne)&&(ae!=null||ve!=null))switch(ne){case"type":S=ae;break;case"name":B=ae;break;case"checked":ee=ae;break;case"defaultChecked":fe=ae;break;case"value":N=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,c));break;default:ae!==ve&&An(A,c,ne,ae,m,ve)}}VI(A,N,O,j,ee,fe,S,B);return;case"select":ae=N=O=ne=null;for(S in p)if(j=p[S],p.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":ae=j;default:m.hasOwnProperty(S)||An(A,c,S,null,m,j)}for(B in m)if(S=m[B],j=p[B],m.hasOwnProperty(B)&&(S!=null||j!=null))switch(B){case"value":ne=S;break;case"defaultValue":O=S;break;case"multiple":N=S;default:S!==j&&An(A,c,B,S,m,j)}c=O,p=N,m=ae,ne!=null?Gp(A,!!p,ne,!1):!!m!=!!p&&(c!=null?Gp(A,!!p,c,!0):Gp(A,!!p,p?[]:"",!1));return;case"textarea":ae=ne=null;for(O in p)if(B=p[O],p.hasOwnProperty(O)&&B!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:An(A,c,O,null,m,B)}for(N in m)if(B=m[N],S=p[N],m.hasOwnProperty(N)&&(B!=null||S!=null))switch(N){case"value":ne=B;break;case"defaultValue":ae=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==S&&An(A,c,N,B,m,S)}GO(A,ne,ae);return;case"option":for(var Ve in p)if(ne=p[Ve],p.hasOwnProperty(Ve)&&ne!=null&&!m.hasOwnProperty(Ve))switch(Ve){case"selected":A.selected=!1;break;default:An(A,c,Ve,null,m,ne)}for(j in m)if(ne=m[j],ae=p[j],m.hasOwnProperty(j)&&ne!==ae&&(ne!=null||ae!=null))switch(j){case"selected":A.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:An(A,c,j,ne,m,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in p)ne=p[rt],p.hasOwnProperty(rt)&&ne!=null&&!m.hasOwnProperty(rt)&&An(A,c,rt,null,m,ne);for(ee in m)if(ne=m[ee],ae=p[ee],m.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,c));break;default:An(A,c,ee,ne,m,ae)}return;default:if(GI(c)){for(var ln in p)ne=p[ln],p.hasOwnProperty(ln)&&ne!==void 0&&!m.hasOwnProperty(ln)&&FM(A,c,ln,void 0,m,ne);for(fe in m)ne=m[fe],ae=p[fe],!m.hasOwnProperty(fe)||ne===ae||ne===void 0&&ae===void 0||FM(A,c,fe,ne,m,ae);return}}for(var Y in p)ne=p[Y],p.hasOwnProperty(Y)&&ne!=null&&!m.hasOwnProperty(Y)&&An(A,c,Y,null,m,ne);for(ve in m)ne=m[ve],ae=p[ve],!m.hasOwnProperty(ve)||ne===ae||ne==null&&ae==null||An(A,c,ve,ne,m,ae)}function j4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],S=B.transferSize,N=B.initiatorType,O=B.duration;if(S&&O&&j4(N)){for(N=0,O=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],ee=j.startTime;if(ee>O)break;var fe=j.transferSize,ve=j.initiatorType;fe&&j4(ve)&&(j=j.responseEnd,N+=fe*(j<O?1:(O-ee)/(j-ee)))}if(--m,c+=8*(S+N)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var MM=null,UM=null;function SS(A){return A.nodeType===9?A:A.ownerDocument}function W4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function PM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var RM=null;function Cne(){var A=window.event;return A&&A.type==="popstate"?A===RM?!1:(RM=A,!0):(RM=null,!1)}var X4=typeof setTimeout=="function"?setTimeout:void 0,Bne=typeof clearTimeout=="function"?clearTimeout:void 0,J4=typeof Promise=="function"?Promise:void 0,Ene=typeof queueMicrotask=="function"?queueMicrotask:typeof J4<"u"?function(A){return J4.resolve(null).then(A).catch(Sne)}:X4;function Sne(A){setTimeout(function(){throw A})}function yc(A){return A==="head"}function Z4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),Cg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")B0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,B0(p);for(var S=p.firstChild;S;){var N=S.nextSibling,O=S.nodeName;S[ni]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=N}}else p==="body"&&B0(A.ownerDocument.body);p=B}while(p);Cg(c)}function eV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function DM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":DM(p),Hy(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function xne(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[ni])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(S=A.getAttribute("rel"),S==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(S!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(S=A.getAttribute("src"),(S!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&S&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var S=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===S)return A}else return A;if(A=Pa(A.nextSibling),A===null)break}return null}function _ne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Pa(A.nextSibling),A===null))return null;return A}function tV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Pa(A.nextSibling),A===null))return null;return A}function NM(A){return A.data==="$?"||A.data==="$~"}function LM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Tne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Pa(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var QM=null;function nV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Pa(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function iV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function rV(A,c,p){switch(c=SS(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function B0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Hy(A)}var Ra=new Map,sV=new Set;function xS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var fl=$.d;$.d={f:Ine,r:Fne,D:Mne,C:Une,L:Pne,m:Rne,X:Nne,S:Dne,M:Lne};function Ine(){var A=fl.f(),c=mS();return A||c}function Fne(A){var c=tA(A);c!==null&&c.tag===5&&c.type==="form"?CH(c):fl.r(A)}var yg=typeof document>"u"?null:document;function aV(A,c,p){var m=yg;if(m&&typeof c=="string"&&c){var B=xa(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),sV.has(B)||(sV.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),mr(c,"link",A),ii(c),m.head.appendChild(c)))}}function Mne(A){fl.D(A),aV("dns-prefetch",A,null)}function Une(A,c){fl.C(A,c),aV("preconnect",A,c)}function Pne(A,c,p){fl.L(A,c,p);var m=yg;if(m&&A&&c){var B='link[rel="preload"][as="'+xa(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+xa(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+xa(p.imageSizes)+'"]')):B+='[href="'+xa(A)+'"]';var S=B;switch(c){case"style":S=wg(A);break;case"script":S=bg(A)}Ra.has(S)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),Ra.set(S,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(E0(S))||c==="script"&&m.querySelector(S0(S))||(c=m.createElement("link"),mr(c,"link",A),ii(c),m.head.appendChild(c)))}}function Rne(A,c){fl.m(A,c);var p=yg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+xa(m)+'"][href="'+xa(A)+'"]',S=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=bg(A)}if(!Ra.has(S)&&(A=h({rel:"modulepreload",href:A},c),Ra.set(S,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(S0(S)))return}m=p.createElement("link"),mr(m,"link",A),ii(m),p.head.appendChild(m)}}}function Dne(A,c,p){fl.S(A,c,p);var m=yg;if(m&&A){var B=tc(m).hoistableStyles,S=wg(A);c=c||"default";var N=B.get(S);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(E0(S)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=Ra.get(S))&&kM(A,p);var j=N=m.createElement("link");ii(j),mr(j,"link",A),j._p=new Promise(function(ee,fe){j.onload=ee,j.onerror=fe}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,_S(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},B.set(S,N)}}}function Nne(A,c){fl.X(A,c);var p=yg;if(p&&A){var m=tc(p).hoistableScripts,B=bg(A),S=m.get(B);S||(S=p.querySelector(S0(B)),S||(A=h({src:A,async:!0},c),(c=Ra.get(B))&&OM(A,c),S=p.createElement("script"),ii(S),mr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function Lne(A,c){fl.M(A,c);var p=yg;if(p&&A){var m=tc(p).hoistableScripts,B=bg(A),S=m.get(B);S||(S=p.querySelector(S0(B)),S||(A=h({src:A,async:!0,type:"module"},c),(c=Ra.get(B))&&OM(A,c),S=p.createElement("script"),ii(S),mr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function oV(A,c,p,m){var B=(B=_e.current)?xS(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=wg(p.href),p=tc(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=wg(p.href);var S=tc(B).hoistableStyles,N=S.get(A);if(N||(B=B.ownerDocument||B,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(A,N),(S=B.querySelector(E0(A)))&&!S._p&&(N.instance=S,N.state.loading=5),Ra.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ra.set(A,p),S||Qne(B,A,p,N.state))),c&&m===null)throw Error(i(528,""));return N}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=bg(p),p=tc(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function wg(A){return'href="'+xa(A)+'"'}function E0(A){return'link[rel="stylesheet"]['+A+"]"}function AV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Qne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),mr(c,"link",p),ii(c),A.head.appendChild(c))}function bg(A){return'[src="'+xa(A)+'"]'}function S0(A){return"script[async]"+A}function lV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+xa(p.href)+'"]');if(m)return c.instance=m,ii(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),ii(m),mr(m,"style",B),_S(m,p.precedence,A),c.instance=m;case"stylesheet":B=wg(p.href);var S=A.querySelector(E0(B));if(S)return c.state.loading|=4,c.instance=S,ii(S),S;m=AV(p),(B=Ra.get(B))&&kM(m,B),S=(A.ownerDocument||A).createElement("link"),ii(S);var N=S;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),mr(S,"link",m),c.state.loading|=4,_S(S,p.precedence,A),c.instance=S;case"script":return S=bg(p.src),(B=A.querySelector(S0(S)))?(c.instance=B,ii(B),B):(m=p,(B=Ra.get(S))&&(m=h({},p),OM(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),ii(B),mr(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,_S(m,p.precedence,A));return c.instance}function _S(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,S=B,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)S=O;else if(S!==B)break}S?S.parentNode.insertBefore(A,S.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function kM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function OM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var TS=null;function uV(A,c,p){if(TS===null){var m=new Map,B=TS=new Map;B.set(p,m)}else B=TS,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var S=p[B];if(!(S[ni]||S[it]||A==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(S):m.set(N,[S])}}return m}function cV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function kne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function dV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function One(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=wg(m.href),S=c.querySelector(E0(B));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=IS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=S,ii(S);return}S=c.ownerDocument||c,m=AV(m),(B=Ra.get(B))&&kM(m,B),S=S.createElement("link"),ii(S);var N=S;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),mr(S,"link",m),p.instance=S}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=IS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var HM=0;function Hne(A,c){return A.stylesheets&&A.count===0&&MS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&MS(A,A.stylesheets),A.unsuspend){var S=A.unsuspend;A.unsuspend=null,S()}},6e4+c);0<A.imgBytes&&HM===0&&(HM=62500*bne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&MS(A,A.stylesheets),A.unsuspend)){var S=A.unsuspend;A.unsuspend=null,S()}},(A.imgBytes>HM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function IS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)MS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var FS=null;function MS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,FS=new Map,c.forEach(Vne,A),FS=null,IS.call(A))}function Vne(A,c){if(!(c.state.loading&4)){var p=FS.get(A);if(p)var m=p.get(null);else{p=new Map,FS.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<B.length;S++){var N=B[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}B=c.instance,N=B.getAttribute("data-precedence"),S=p.get(N)||m,S===m&&p.set(null,B),p.set(N,B),this.count++,m=IS.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),S?S.parentNode.insertBefore(B,S.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var x0={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Kne(A,c,p,m,B,S,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function fV(A,c,p,m,B,S,N,O,j,ee,fe,ve){return A=new Kne(A,c,p,N,j,ee,fe,ve,O),c=1,S===!0&&(c|=24),S=Hs(3,null,null,c),A.current=S,S.stateNode=A,c=wF(),c.refCount++,A.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:p,cache:c},EF(S),A}function hV(A){return A?(A=Jp,A):Jp}function pV(A,c,p,m,B,S){B=hV(B),m.context===null?m.context=B:m.pendingContext=B,m=Ac(c),m.payload={element:p},S=S===void 0?null:S,S!==null&&(m.callback=S),p=lc(A,m,c),p!==null&&(ws(p,A,c),r0(p,A,c))}function gV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function VM(A,c){gV(A,c),(A=A.alternate)&&gV(A,c)}function mV(A){if(A.tag===13||A.tag===31){var c=vf(A,67108864);c!==null&&ws(c,A,67108864),VM(A,67108864)}}function vV(A){if(A.tag===13||A.tag===31){var c=qs();c=At(c);var p=vf(A,c);p!==null&&ws(p,A,c),VM(A,c)}}var US=!0;function Gne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=2,KM(A,c,p,m)}finally{$.p=S,G.T=B}}function zne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=8,KM(A,c,p,m)}finally{$.p=S,G.T=B}}function KM(A,c,p,m){if(US){var B=GM(m);if(B===null)IM(A,c,m,PS,p),wV(A,m);else if($ne(B,A,c,p,m))m.stopPropagation();else if(wV(A,m),c&4&&-1<qne.indexOf(A)){for(;B!==null;){var S=tA(B);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=yo(S.pendingLanes);if(N!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-Hn(N);O.entanglements[1]|=j,N&=~j}sA(S),(Wt&6)===0&&(pS=Te()+500,w0(0))}}break;case 31:case 13:O=vf(S,2),O!==null&&ws(O,S,2),mS(),VM(S,2)}if(S=GM(m),S===null&&IM(A,c,m,PS,p),S===B)break;B=S}B!==null&&m.stopPropagation()}else IM(A,c,m,null,p)}}function GM(A){return A=qI(A),zM(A)}var PS=null;function zM(A){if(PS=null,A=ec(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return PS=A,null}function yV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case be:return 2;case We:return 8;case Ye:case Qt:return 32;case jt:return 268435456;default:return 32}default:return 32}}var qM=!1,wc=null,bc=null,Cc=null,_0=new Map,T0=new Map,Bc=[],qne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wV(A,c){switch(A){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":_0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":T0.delete(c.pointerId)}}function I0(A,c,p,m,B,S){return A===null||A.nativeEvent!==S?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:S,targetContainers:[B]},c!==null&&(c=tA(c),c!==null&&mV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function $ne(A,c,p,m,B){switch(c){case"focusin":return wc=I0(wc,A,c,p,m,B),!0;case"dragenter":return bc=I0(bc,A,c,p,m,B),!0;case"mouseover":return Cc=I0(Cc,A,c,p,m,B),!0;case"pointerover":var S=B.pointerId;return _0.set(S,I0(_0.get(S)||null,A,c,p,m,B)),!0;case"gotpointercapture":return S=B.pointerId,T0.set(S,I0(T0.get(S)||null,A,c,p,m,B)),!0}return!1}function bV(A){var c=ec(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,Me(A.priority,function(){vV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,Me(A.priority,function(){vV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function RS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=GM(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);zI=m,p.target.dispatchEvent(m),zI=null}else return c=tA(p),c!==null&&mV(c),A.blockedOn=p,!1;c.shift()}return!0}function CV(A,c,p){RS(A)&&p.delete(c)}function jne(){qM=!1,wc!==null&&RS(wc)&&(wc=null),bc!==null&&RS(bc)&&(bc=null),Cc!==null&&RS(Cc)&&(Cc=null),_0.forEach(CV),T0.forEach(CV)}function DS(A,c){A.blockedOn===c&&(A.blockedOn=null,qM||(qM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jne)))}var NS=null;function BV(A){NS!==A&&(NS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){NS===A&&(NS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(zM(m||p)===null)continue;break}var S=tA(p);S!==null&&(A.splice(c,3),c-=3,GF(S,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function Cg(A){function c(j){return DS(j,A)}wc!==null&&DS(wc,A),bc!==null&&DS(bc,A),Cc!==null&&DS(Cc,A),_0.forEach(c),T0.forEach(c);for(var p=0;p<Bc.length;p++){var m=Bc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<Bc.length&&(p=Bc[0],p.blockedOn===null);)bV(p),p.blockedOn===null&&Bc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],S=p[m+1],N=B[Bt]||null;if(typeof S=="function")N||BV(p);else if(N){var O=null;if(S&&S.hasAttribute("formAction")){if(B=S,N=S[Bt]||null)O=N.formAction;else if(zM(B)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),BV(p)}}}function EV(){function A(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return B=N})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function $M(A){this._internalRoot=A}LS.prototype.render=$M.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=qs();pV(p,m,A,c,null,null)},LS.prototype.unmount=$M.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;pV(A.current,2,null,A,null,null),mS(),c[_n]=null}};function LS(A){this._internalRoot=A}LS.prototype.unstable_scheduleHydration=function(A){if(A){var c=xn();A={blockedOn:null,target:A,priority:c};for(var p=0;p<Bc.length&&c!==0&&c<Bc[p].priority;p++);Bc.splice(p,0,A),p===0&&bV(A)}};var SV=e.version;if(SV!=="19.2.1")throw Error(i(527,SV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Wne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QS.isDisabled&&QS.supportsFiber)try{Rr=QS.inject(Wne),Wn=QS}catch{}}return M0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=UH,S=PH,N=RH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=fV(A,1,!1,null,null,p,m,null,B,S,N,EV),A[_n]=c.current,TM(A),new $M(c)},M0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",S=UH,N=PH,O=RH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=fV(A,1,!0,c,p??null,m,B,j,S,N,O,EV),c.context=hV(null),p=c.current,m=qs(),m=At(m),B=Ac(m),B.callback=null,lc(p,B,m),p=m,c.current.lanes=p,ce(c,p),sA(c),A[_n]=c.current,TM(A),new LS(c)},M0.version="19.2.1",M0}var NV;function Aie(){if(NV)return XM.exports;NV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),XM.exports=oie(),XM.exports}var lie=Aie();const uie=qA(lie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LV="popstate";function cie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=Dp(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),ER("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:jw(s))}function i(r,s){uo(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return fie(e,t,i,n)}function Jn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function die(){return Math.random().toString(36).substring(2,10)}function QV(n,e){return{usr:n.state,key:n.key,idx:e}}function ER(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dp(e):e,state:t,key:e&&e.key||i||die()}}function jw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),x=E==null?null:E-u;u=E,l&&l({action:o,location:b.location,delta:x})}function g(E,x){o="PUSH";let I=ER(b.location,E,x);t&&t(I,E),u=d()+1;let T=QV(I,u),R=b.createHref(I);try{a.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(R)}s&&l&&l({action:o,location:b.location,delta:1})}function v(E,x){o="REPLACE";let I=ER(b.location,E,x);t&&t(I,E),u=d();let T=QV(I,u),R=b.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:b.location,delta:0})}function C(E){return hie(E)}let b={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(LV,h),l=E,()=>{r.removeEventListener(LV,h),l=null}},createHref(E){return e(r,E)},createURL:C,encodeLocation(E){let x=C(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(E){return a.go(E)}};return b}function hie(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Jn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:jw(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function k$(n,e,t="/"){return pie(n,e,t,!1)}function pie(n,e,t,i){let r=typeof e=="string"?Dp(e):e,s=Iu(r.pathname||"/",t);if(s==null)return null;let a=O$(n);gie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=_ie(s);o=Sie(a[l],u,i)}return o}function O$(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Jn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=Cu([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),O$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Bie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of H$(a.path))s(a,o,!0,u)}),e}function H$(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=H$(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function gie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Eie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var mie=/^:[\w-]+$/,vie=3,yie=2,wie=1,bie=10,Cie=-2,kV=n=>n==="*";function Bie(n,e){let t=n.split("/"),i=t.length;return t.some(kV)&&(i+=Cie),e&&(i+=yie),t.filter(r=>!kV(r)).reduce((r,s)=>r+(mie.test(s)?vie:s===""?wie:bie),i)}function Eie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Sie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Cu([s,h.pathname]),pathnameBase:Uie(Cu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Cu([s,h.pathnameBase]))}return a}function j_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let C=o[g]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function xie(n,e=!1,t=!0){uo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function _ie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Iu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Tie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iie=n=>Tie.test(n);function Fie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Dp(n):n,s;if(t)if(Iie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),uo(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=OV(t.substring(1),"/"):s=OV(t,e)}else s=e;return{pathname:s,search:Pie(i),hash:Rie(r)}}function OV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function tU(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function V$(n){let e=Mie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function K$(n,e,t,i=!1){let r;typeof n=="string"?r=Dp(n):(r={...n},Jn(!r.pathname||!r.pathname.includes("?"),tU("?","pathname","search",r)),Jn(!r.pathname||!r.pathname.includes("#"),tU("#","pathname","hash",r)),Jn(!r.search||!r.search.includes("#"),tU("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Fie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Cu=n=>n.join("/").replace(/\/\/+/g,"/"),Uie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Pie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Rie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Die(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Nie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G$=["POST","PUT","PATCH","DELETE"];new Set(G$);var Lie=["GET",...G$];new Set(Lie);var _y=F.createContext(null);_y.displayName="DataRouter";var R1=F.createContext(null);R1.displayName="DataRouterState";F.createContext(!1);var z$=F.createContext({isTransitioning:!1});z$.displayName="ViewTransition";var Qie=F.createContext(new Map);Qie.displayName="Fetchers";var kie=F.createContext(null);kie.displayName="Await";var jo=F.createContext(null);jo.displayName="Navigation";var $B=F.createContext(null);$B.displayName="Location";var Ku=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ku.displayName="Route";var BQ=F.createContext(null);BQ.displayName="RouteError";function Oie(n,{relative:e}={}){Jn(jB(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(jo),{hash:r,pathname:s,search:a}=WB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Cu([t,s])),i.createHref({pathname:o,search:a,hash:r})}function jB(){return F.useContext($B)!=null}function of(){return Jn(jB(),"useLocation() may be used only in the context of a <Router> component."),F.useContext($B).location}var q$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $$(n){F.useContext(jo).static||F.useLayoutEffect(n)}function j$(){let{isDataRoute:n}=F.useContext(Ku);return n?Zie():Hie()}function Hie(){Jn(jB(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(_y),{basename:e,navigator:t}=F.useContext(jo),{matches:i}=F.useContext(Ku),{pathname:r}=of(),s=JSON.stringify(V$(i)),a=F.useRef(!1);return $$(()=>{a.current=!0}),F.useCallback((l,u={})=>{if(uo(a.current,q$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=K$(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}F.createContext(null);function WB(n,{relative:e}={}){let{matches:t}=F.useContext(Ku),{pathname:i}=of(),r=JSON.stringify(V$(t));return F.useMemo(()=>K$(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Vie(n,e){return W$(n,e)}function W$(n,e,t,i,r){var I;Jn(jB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(jo),{matches:a}=F.useContext(Ku),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";Y$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=of(),v;if(e){let T=typeof e=="string"?Dp(e):e;Jn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let C=v.pathname||"/",b=C;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=k$(n,{pathname:b});uo(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),uo(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=$ie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Cu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Cu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&x?F.createElement($B.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Kie(){let n=Jie(),e=Die(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,a)}var Gie=F.createElement(Kie,null),zie=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Ku.Provider,{value:this.props.routeContext},F.createElement(BQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qie({routeContext:n,match:e,children:t}){let i=F.useContext(_y);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ku.Provider,{value:n},t)}function $ie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Jn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,C=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||C){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Nie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,C=!1,b=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||Gie,o&&(l<0&&g===0?(Y$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):l===g&&(C=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=b:C?T=E:h.route.Component?T=F.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,F.createElement(qie,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?F.createElement(zie,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):I()},null)}function EQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jie(n){let e=F.useContext(_y);return Jn(e,EQ(n)),e}function Wie(n){let e=F.useContext(R1);return Jn(e,EQ(n)),e}function Yie(n){let e=F.useContext(Ku);return Jn(e,EQ(n)),e}function SQ(n){let e=Yie(n),t=e.matches[e.matches.length-1];return Jn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Xie(){return SQ("useRouteId")}function Jie(){var i;let n=F.useContext(BQ),e=Wie("useRouteError"),t=SQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Zie(){let{router:n}=jie("useNavigate"),e=SQ("useNavigate"),t=F.useRef(!1);return $$(()=>{t.current=!0}),F.useCallback(async(r,s={})=>{uo(t.current,q$),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var HV={};function Y$(n,e,t){!e&&!HV[n]&&(HV[n]=!0,uo(!1,t))}F.memo(ere);function ere({routes:n,future:e,state:t,unstable_onError:i}){return W$(n,void 0,t,i,e)}function SR(n){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tre({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Jn(!jB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=Dp(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,C=F.useMemo(()=>{let b=Iu(u,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return uo(C!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement(jo.Provider,{value:l},F.createElement($B.Provider,{children:e,value:C}))}function nre({children:n,location:e}){return Vie(xR(n),e)}function xR(n,e=[]){let t=[];return F.Children.forEach(n,(i,r)=>{if(!F.isValidElement(i))return;let s=[...e,r];if(i.type===F.Fragment){t.push.apply(t,xR(i.props.children,s));return}Jn(i.type===SR,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=xR(i.props.children,s)),t.push(a)}),t}var Vx="get",Kx="application/x-www-form-urlencoded";function D1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ire(n){return D1(n)&&n.tagName.toLowerCase()==="button"}function rre(n){return D1(n)&&n.tagName.toLowerCase()==="form"}function sre(n){return D1(n)&&n.tagName.toLowerCase()==="input"}function are(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ore(n,e){return n.button===0&&(!e||e==="_self")&&!are(n)}var kS=null;function Are(){if(kS===null)try{new FormData(document.createElement("form"),0),kS=!1}catch{kS=!0}return kS}var lre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nU(n){return n!=null&&!lre.has(n)?(uo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kx}"`),null):n}function ure(n,e){let t,i,r,s,a;if(rre(n)){let o=n.getAttribute("action");i=o?Iu(o,e):null,t=n.getAttribute("method")||Vx,r=nU(n.getAttribute("enctype"))||Kx,s=new FormData(n)}else if(ire(n)||sre(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Iu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Vx,r=nU(n.getAttribute("formenctype"))||nU(o.getAttribute("enctype"))||Kx,s=new FormData(o,n),!Are()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(D1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vx,i=null,r=Kx,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cre(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Iu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function dre(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fre(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await dre(s,t);return a.links?a.links():[]}return[]}));return vre(i.flat(1).filter(fre).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function VV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function pre(n,e,{includeHydrateFallback:t}={}){return gre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function gre(n){return[...new Set(n)]}function mre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(mre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function X$(){let n=F.useContext(_y);return xQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yre(){let n=F.useContext(R1);return xQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _Q=F.createContext(void 0);_Q.displayName="FrameworkContext";function J$(){let n=F.useContext(_Q);return xQ(n,"You must render this element inside a <HydratedRouter> element"),n}function wre(n,e){let t=F.useContext(_Q),[i,r]=F.useState(!1),[s,a]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=x=>{x.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),F.useEffect(()=>{if(i){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},C=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:U0(o,v),onBlur:U0(l,C),onMouseEnter:U0(u,v),onMouseLeave:U0(d,C),onTouchStart:U0(h,v)}]:[!1,g,{}]}function U0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bre({page:n,...e}){let{router:t}=X$(),i=F.useMemo(()=>k$(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(Bre,{page:n,matches:i,...e}):null}function Cre(n){let{manifest:e,routeModules:t}=J$(),[i,r]=F.useState([]);return F.useEffect(()=>{let s=!1;return hre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function Bre({page:n,matches:e,...t}){let i=of(),{manifest:r,routeModules:s}=J$(),{basename:a}=X$(),{loaderData:o,matches:l}=yre(),u=F.useMemo(()=>VV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=F.useMemo(()=>VV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,b=!1;if(e.forEach(x=>{var T;let I=r.routes[x.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===x.route.id)&&x.route.id in o&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?b=!0:C.add(x.route.id))}),C.size===0)return[];let E=cre(n,a,"data");return b&&C.size>0&&E.searchParams.set("_routes",e.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=F.useMemo(()=>pre(d,r),[d,r]),v=Cre(d);return F.createElement(F.Fragment,null,h.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),g.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:b})=>F.createElement("link",{key:C,nonce:t.nonce,...b})))}function Ere(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z$&&(window.__reactRouterVersion="7.10.1")}catch{}function Sre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=F.useRef();r.current==null&&(r.current=cie({window:i,v5Compat:!0}));let s=r.current,[a,o]=F.useState({action:s.action,location:s.location}),l=F.useCallback(u=>{t===!1?o(u):F.startTransition(()=>o(u))},[t]);return F.useLayoutEffect(()=>s.listen(l),[s,l]),F.createElement(tre,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var e6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:C,unstable_useTransitions:b}=F.useContext(jo),E=typeof u=="string"&&e6.test(u),x,I=!1;if(typeof u=="string"&&E&&(x=u,Z$))try{let K=new URL(window.location.href),V=u.startsWith("//")?new URL(K.protocol+u):new URL(u),q=Iu(V.pathname,C);V.origin===K.origin&&q!=null?u=q+V.search+V.hash:I=!0}catch{uo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Oie(u,{relative:r}),[R,P,D]=wre(i,g),Q=Ire(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:b});function H(K){e&&e(K),K.defaultPrevented||Q(K)}let k=F.createElement("a",{...g,...D,href:x||T,onClick:I||s?e:H,ref:Ere(v,P),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?F.createElement(F.Fragment,null,k,F.createElement(bre,{page:T})):k});W_.displayName="Link";var xre=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=WB(a,{relative:u.relative}),g=of(),v=F.useContext(R1),{navigator:C,basename:b}=F.useContext(jo),E=v!=null&&Rre(h)&&o===!0,x=C.encodeLocation?C.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&b&&(T=Iu(T,b)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=I===x||!r&&I.startsWith(x)&&I.charAt(R)==="/",D=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),Q={isActive:P,isPending:D,isTransitioning:E},H=P?e:void 0,k;typeof i=="function"?k=i(Q):k=[i,P?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(Q):s;return F.createElement(W_,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(Q):l)});xre.displayName="NavLink";var _re=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Vx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:C}=F.useContext(jo),b=Ure(),E=Pre(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&e6.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||a,Q=()=>b(P||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});C&&t!==!1?F.startTransition(()=>Q()):Q()};return F.createElement("form",{ref:v,method:x,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});_re.displayName="Form";function Tre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t6(n){let e=F.useContext(_y);return Jn(e,Tre(n)),e}function Ire(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=j$(),u=of(),d=WB(n,{relative:s});return F.useCallback(h=>{if(ore(h,e)){h.preventDefault();let g=t!==void 0?t:jw(u)===jw(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?F.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var Fre=0,Mre=()=>`__${String(++Fre)}__`;function Ure(){let{router:n}=t6("useSubmit"),{basename:e}=F.useContext(jo),t=Xie(),i=n.fetch,r=n.navigate;return F.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=ure(s,e);if(a.navigate===!1){let g=a.fetcherKey||Mre();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Pre(n,{relative:e}={}){let{basename:t}=F.useContext(jo),i=F.useContext(Ku);Jn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...WB(n||".",{relative:e})},a=of();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Cu([t,s.pathname])),jw(s)}function Rre(n,{relative:e}={}){let t=F.useContext(z$);Jn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=t6("useViewTransitionState"),r=WB(n,{relative:e});if(!t.isTransitioning)return!1;let s=Iu(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Iu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return j_(r.pathname,a)!=null||j_(r.pathname,s)!=null}var n6=Q$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dre,Nre;function Lre(){return{geminiUrl:Dre,vertexUrl:Nre}}function Qre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Lre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gu{}function Re(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function kre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}_R(n,r,s,0,a)}}function _R(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])_R(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&_R(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ore(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function Hre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Kre(a)),e}function Vre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Gre(a)),e}function Kre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>zre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Gre(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>qre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function zre(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],Jre(t)),e}function qre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],Zre(t)),e}function $re(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function jre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Wre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Yre(a)),e}function Yre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function i6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Xre(a)),e}function Xre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function Jre(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],TQ(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function Zre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],TQ(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KV||(KV={}));var GV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(GV||(GV={}));var zV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zV||(zV={}));var qd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(qd||(qd={}));var qV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qV||(qV={}));var $V;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($V||($V={}));var jV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(jV||(jV={}));var WV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(WV||(WV={}));var YV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(YV||(YV={}));var XV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(XV||(XV={}));var JV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JV||(JV={}));var ZV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ZV||(ZV={}));var e3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(e3||(e3={}));var t3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(t3||(t3={}));var n3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(n3||(n3={}));var i3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(i3||(i3={}));var r3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(r3||(r3={}));var s3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(s3||(s3={}));var a3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(a3||(a3={}));var Y_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Y_||(Y_={}));var o3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(o3||(o3={}));var A3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A3||(A3={}));var l3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(l3||(l3={}));var TR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(TR||(TR={}));var u3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(u3||(u3={}));var c3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c3||(c3={}));var d3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(d3||(d3={}));var f3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(f3||(f3={}));var h3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(h3||(h3={}));var p3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(p3||(p3={}));var g3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(g3||(g3={}));var m3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(m3||(m3={}));var v3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(v3||(v3={}));var y3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(y3||(y3={}));var w3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w3||(w3={}));var b3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b3||(b3={}));var C3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(C3||(C3={}));var B3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(B3||(B3={}));var E3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(E3||(E3={}));var S3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(S3||(S3={}));var x3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(x3||(x3={}));var _3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(_3||(_3={}));var T3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(T3||(T3={}));var I3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(I3||(I3={}));var F3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(F3||(F3={}));var M3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(M3||(M3={}));var U3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U3||(U3={}));var P3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(P3||(P3={}));var R3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(R3||(R3={}));var D3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(D3||(D3={}));var N3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(N3||(N3={}));var L3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(L3||(L3={}));var Q3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q3||(Q3={}));var k3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(k3||(k3={}));var jg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(jg||(jg={}));class IR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class P0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,C]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class O3{}class H3{}class ese{}class tse{}class nse{}class ise{}class V3{}class K3{}class G3{}class rse{}class X_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new X_;let r;const s=e;return t?r=Vre(s):r=Hre(s),Object.assign(i,r),i}}class z3{}class q3{}class $3{}class j3{}class sse{}class ase{}class ose{}class IQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new IQ,s=Wre(e);return Object.assign(i,s),i}}class Ase{}class lse{}class use{}class W3{}class cse{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class FQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new FQ,s=i6(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function r6(n,e){const t=qt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function s6(n){return Array.isArray(n)?n.map(e=>J_(e)):[J_(n)]}function J_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function a6(n){const e=J_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function o6(n){const e=J_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Y3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function A6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Y3(e)):[Y3(n)]}function FR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function X3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function J3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function jr(n){if(n==null)throw new Error("ContentUnion is required");return FR(n)?n:{role:"user",parts:A6(n)}}function MQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=jr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=jr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>jr(t)):[jr(e)]}function Ao(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(X3(n)||J3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jr(n)]}const e=[],t=[],i=FR(n[0]);for(const r of n){const s=FR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(X3(r)||J3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:A6(t)}),e}function fse(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(qd).includes(t[0].toUpperCase())?t[0].toUpperCase():qd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(qd).includes(i.toUpperCase())?i.toUpperCase():qd.TYPE_UNSPECIFIED})}}function rm(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&fse(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(qd).includes(o.toUpperCase())?o.toUpperCase():qd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=rm(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(rm(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=rm(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function UQ(n){return rm(n)}function PQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function RQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ty(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=rm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=rm(e.response));return n}function Iy(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function hse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function zu(n,e){if(typeof e!="string")throw new Error("name must be a string");return hse(n,e,"cachedContents")}function l6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Af(n){return TQ(n)}function pse(n){return n!=null&&typeof n=="object"&&"name"in n}function gse(n){return n!=null&&typeof n=="object"&&"video"in n}function mse(n){return n!=null&&typeof n=="object"&&"uri"in n}function u6(n){var e;let t;if(pse(n)&&(t=n.name),!(mse(n)&&(t=n.uri,t===void 0))&&!(gse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function c6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function d6(n){for(const e of["models","tunedModels","publisherModels"])if(vse(n,e))return n[e];return[]}function vse(n,e){return n!==null&&typeof n=="object"&&e in n}function yse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function wse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=yse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function f6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function bse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function h6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Fy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function p6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>nae(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function Bse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function Ese(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Gx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],p6(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],Cse(h6(u))),e}function MR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],p6(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],Sse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],Bse(h6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function Sse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function xse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>tae(n,a))),w(t,["requests","requests"],s)}return t}function _se(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ise(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function Fse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function Mse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Use(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Use(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function g6(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Pse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Rse(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],Ese(bse(r))),t}function Z3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],xse(n,f6(n,r)));const s=y(e,["config"]);return s!=null&&Pse(s,t),t}function Dse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],qt(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],_se(f6(n,r)));const s=y(e,["config"]);return s!=null&&Rse(s,t),t}function Nse(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Lse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],Gse(n,r));const s=y(e,["config"]);return s!=null&&Nse(s,t),t}function Qse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function kse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function Ose(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Hse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Vse(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=MQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Kse(r,t)),kre(t,{"requests[].*":"requests[].request.*"})),t}function Kse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Gse(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Vse(n,r)),t}function zse(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function qse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $se(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],g6(jr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],UQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(J=>uae(J))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=Iy(R);Array.isArray(q)&&(q=q.map(J=>dae(Ty(J)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],cae(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],zu(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],PQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],eae(V)),i}function Wse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Mse(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function Yse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function Xse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Fy(n,i)),t}function Jse(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Zse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function eae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let o=Ao(r);Array.isArray(o)&&(o=o.map(l=>g6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],jse(n,a,y(t,["request"],{}))),t}function nae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Wse(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function iae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function rae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function sae(n){const e={},t=y(n,["config"]);return t!=null&&iae(t,e),e}function aae(n){const e={},t=y(n,["config"]);return t!=null&&rae(t,e),e}function oae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Gx(a))),w(e,["batchJobs"],s)}return e}function Aae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>MR(a))),w(e,["batchJobs"],s)}return e}function lae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],zse(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],qse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Tse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function cae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],$se(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Jse(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Zse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Fu||(Fu={}));class Np{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fae extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Np(Fu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=Z3(this.apiClient,e),i=t._url,r=Re("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Dse(this.apiClient,e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=Z3(this.apiClient,e);return o=Re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Gx(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lse(this.apiClient,e);return s=Re("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Gx(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Xse(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=Yse(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Gx(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Fse(this.apiClient,e);a=Re("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Ise(this.apiClient,e);a=Re("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=aae(e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Aae(d),g=new W3;return Object.assign(g,h),g})}else{const u=sae(e);return o=Re("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=oae(d),g=new W3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kse(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Hse(d))}else{const u=Qse(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Ose(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eK(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Lae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function pae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=Ao(a);Array.isArray(d)&&(d=d.map(h=>eK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],eK(jr(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>kae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Qae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function gae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=Ao(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],jr(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Oae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function mae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],r6(n,i));const r=y(e,["config"]);return r!=null&&pae(r,t),t}function vae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],r6(n,i));const r=y(e,["config"]);return r!=null&&gae(r,t),t}function yae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],zu(n,i)),t}function wae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],zu(n,i)),t}function bae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Cae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Bae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Eae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function _ae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],zu(n,i)),t}function Tae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],zu(n,i)),t}function Iae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Fae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Mae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Uae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Pae(n){const e={},t=y(n,["config"]);return t!=null&&Mae(t,e),e}function Rae(n){const e={},t=y(n,["config"]);return t!=null&&Uae(t,e),e}function Dae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Lae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Bae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Eae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],hae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Qae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Sae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function kae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Iae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Fae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>xae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Hae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Vae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Kae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],zu(n,i));const r=y(e,["config"]);return r!=null&&Hae(r,t),t}function Gae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],zu(n,i));const r=y(e,["config"]);return r!=null&&Vae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zae extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Np(Fu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=vae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=mae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Tae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=_ae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=wae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Cae(d),g=new $3;return Object.assign(g,h),g})}else{const u=yae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=bae(d),g=new $3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Gae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Kae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Nae(d),g=new j3;return Object.assign(g,h),g})}else{const u=Pae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Dae(d),g=new j3;return Object.assign(g,h),g})}}}function tK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(n){return this instanceof Ln?(this.v=n,this):new Ln(n)}function sm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(C){return Promise.resolve(C).then(v,h)}}function o(v,C){i[v]&&(r[v]=function(b){return new Promise(function(E,x){s.push([v,b,E,x])>1||l(v,b)})},C&&(r[v]=C(r[v])))}function l(v,C){try{u(i[v](C))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof Ln?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Lw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tK=="function"?tK(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:m6(t)}function m6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $ae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!m6(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class jae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Wae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),$ae(s)}async sendMessage(e){var t;await this.sendPromise;const i=jr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=jr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?nK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return sm(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Lw(e),v;v=yield Ln(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const C=u;if(qae(C)){const b=(r=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;b!==void 0&&d.push(b)}yield yield Ln(C)}}catch(C){o={error:C}}finally{try{!h&&!a&&(l=g.return)&&(yield Ln(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...nK(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,N1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function Xae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Jae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],u6(t)),e}function Zae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function eoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],u6(t)),e}function toe(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function noe(n){const e={},t=y(n,["config"]);return t!=null&&toe(t,e),e}function ioe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class roe extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Np(Fu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=noe(e);return s=Re("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=ioe(l),d=new Ase;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yae(e);return s=Re("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Xae(l),d=new lse;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eoe(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jae(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Zae(l),d=new use;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function soe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>boe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function aoe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function ooe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aoe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function loe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],v6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uoe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function coe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function doe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],RQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],soe(jr(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=Iy(b);Array.isArray(D)&&(D=D.map(Q=>Boe(Ty(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],Coe(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function foe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],loe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],v6(RQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],jr(C));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=Iy(b);Array.isArray(D)&&(D=D.map(Q=>Eoe(Ty(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function hoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],qt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],doe(r,t)),t}function poe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],qt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],foe(r,t)),t}function goe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function moe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function voe(n){const e={},t=y(n,["media"]);if(t!=null){let u=s6(t);Array.isArray(u)&&(u=u.map(d=>zx(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],zx(o6(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],zx(a6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function yoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=s6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],o6(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],a6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function woe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Soe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function boe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],aoe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],ooe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],zx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Coe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function v6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Boe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],uoe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],coe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Eoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Aoe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Soe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xoe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function _oe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Toe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Toe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function Ioe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let s=Ao(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Foe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function Moe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],Uoe(i)),e}function Uoe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function L1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>HAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Poe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Roe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Doe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],jr(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>B6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],xAe(s)),t}function Noe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Ao(r);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Roe(s),t}function Loe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Ao(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Doe(s,t),t}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function koe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Ooe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],qt(n,i)),t}function Hoe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],qt(n,i)),t}function Voe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Koe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Goe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function zoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>$Ae(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Goe(a,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Q1(s))),w(e,["generatedImages"],r)}return e}function $oe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function joe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Woe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let o=MQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&$oe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],qt(n,a)),t}function Yoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let a=MQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&joe(s,t),t}function Xoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function Joe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Moe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function Zoe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function eAe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function tAe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function rAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],L1(jr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],UQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(J=>jAe(J))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=Iy(R);Array.isArray(q)&&(q=q.map(J=>tle(Ty(J)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],ele(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],zu(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],PQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],MAe(V)),i}function sAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],jr(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],UQ(x));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map($=>$)),w(t,["safetySettings"],G)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let G=Iy(D);Array.isArray(G)&&(G=G.map($=>B6(Ty($)))),w(t,["tools"],G)}const Q=y(e,["toolConfig"]);t!==void 0&&Q!=null&&w(t,["toolConfig"],Q);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],zu(n,k));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const V=y(e,["mediaResolution"]);V!=null&&w(i,["mediaResolution"],V);const q=y(e,["speechConfig"]);q!=null&&w(i,["speechConfig"],C6(PQ(q)));const J=y(e,["audioTimestamp"]);J!=null&&w(i,["audioTimestamp"],J);const te=y(e,["thinkingConfig"]);te!=null&&w(i,["thinkingConfig"],te);const he=y(e,["imageConfig"]);return he!=null&&w(i,["imageConfig"],UAe(he)),i}function iK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Ao(r);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],rAe(n,s,t)),t}function rK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Ao(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],sAe(n,s,t)),t}function sK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>_oe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function aK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function aAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function oAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function AAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&aAe(s,t),t}function lAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&oAe(s,t),t}function uAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>CAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],w6(r)),e}function cAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Q1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],b6(r)),e}function dAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],k1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>hle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function fAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const C=y(n,["generateAudio"]);e!==void 0&&C!=null&&w(e,["parameters","generateAudio"],C);const b=y(n,["lastFrame"]);e!==void 0&&b!=null&&w(e,["instances[0]","lastFrame"],Wo(b));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>ple(R))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],fle(x));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function hAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],vAe(a)),e}function pAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yAe(a)),e}function gAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],k1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],E6(a));const o=y(e,["source"]);o!=null&&wAe(o,t);const l=y(e,["config"]);return l!=null&&dAe(l,t),t}function mAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Wo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],S6(a));const o=y(e,["source"]);o!=null&&bAe(o,t);const l=y(e,["config"]);return l!=null&&fAe(l,t),t}function vAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>EAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function yAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>SAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function wAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],k1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],E6(s)),t}function bAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Wo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],S6(s)),t}function CAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],PAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],w6(r)),e}function Q1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],y6(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],b6(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function BAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],y6(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function EAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],cle(t)),e}function SAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],dle(t)),e}function xAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],C6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _Ae(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],qt(n,i)),t}function TAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],qt(n,i)),t}function IAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function FAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function MAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function UAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function PAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Af(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function y6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],Af(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function k1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Af(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Wo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Af(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function RAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],c6(n,o)),i}function DAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],c6(n,o)),i}function NAe(n,e){const t={},i=y(e,["config"]);return i!=null&&RAe(n,i,t),t}function LAe(n,e){const t={},i=y(e,["config"]);return i!=null&&DAe(n,i,t),t}function QAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=d6(r);Array.isArray(s)&&(s=s.map(a=>UR(a))),w(e,["models"],s)}return e}function kAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=d6(r);Array.isArray(s)&&(s=s.map(a=>PR(a))),w(e,["models"],s)}return e}function OAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function UR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],nle(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const C=y(n,["thinking"]);return C!=null&&w(e,["thinking"],C),e}function PR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>Zoe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],ile(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function HAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],eAe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],tAe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],xoe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function VAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Wo(t)),e}function KAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function GAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["source"]);r!=null&&qAe(r,t);const s=y(e,["config"]);return s!=null&&KAe(s,t),t}function zAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>Q1(r))),w(e,["generatedImages"],i)}return e}function qAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Wo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>VAe(o))),w(e,["instances[0]","productImages"],a)}return t}function $Ae(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Wo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],OAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Poe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function w6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function b6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function jAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function WAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Wo(t)),e}function YAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function XAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["source"]);r!=null&&ZAe(r,t);const s=y(e,["config"]);return s!=null&&YAe(s,t),t}function JAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>BAe(r))),w(e,["generatedMasks"],i)}return e}function ZAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Wo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],WAe(s)),t}function C6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ele(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],nAe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function tle(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],IAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],FAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function B6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>iAe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function nle(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function ile(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function rle(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function sle(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ale(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],qt(n,i));const r=y(e,["config"]);return r!=null&&rle(r,t),t}function ole(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["config"]);return r!=null&&sle(r,t),t}function Ale(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function lle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],qt(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Wo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&Ale(a,t),t}function ule(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Q1(s))),w(e,["generatedImages"],r)}return e}function cle(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],Af(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function dle(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],Af(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function fle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Wo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function hle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],k1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function ple(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Wo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function E6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],Af(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function S6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Af(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function mle(n){const e={},t=y(n,["config"]);return t!=null&&gle(t,e),e}function vle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function yle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&vle(i,e),e}function wle(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function ble(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function Cle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Ele(a)),e}function Ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&ble(r,e),e}function Ele(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function Sle(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function xle(n){const e={},t=y(n,["config"]);return t!=null&&Sle(t,e),e}function _le(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function x6(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Tle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&x6(i,e),e}function Ile(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fle="Content-Type",Mle="X-Server-Timeout",Ule="User-Agent",RR="x-goog-api-client",Ple="1.31.0",Rle=`google-genai-sdk/${Ple}`,Dle="v1beta1",Nle="v1beta",oK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Lle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Dle,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Nle,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Qle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await AK(r),new IR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await AK(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return sm(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield Ln(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,C=g.code,b=`got status: ${v}. ${JSON.stringify(h)}`;if(C>=400&&C<600)throw new N1({message:b,status:C})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(oK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ln(new IR(g)),a=a.slice(d[0].length),d=a.match(oK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Rle+" "+this.clientOptions.userAgentExtra;return e[Ule]=t,e[RR]=t,e[Fle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(Mle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=Re("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&x6(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function AK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new N1({message:r,status:t}):new Error(r)}}function Qle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kle="mcp_used/unknown";let Ole=!1;function _6(n){for(const e of n)if(Hle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ole}function T6(n){var e;const t=(e=n[RR])!==null&&e!==void 0?e:"";n[RR]=(t+` ${kle}`).trimStart()}function Hle(n){return n!==null&&typeof n=="object"&&n instanceof DQ}function Vle(n,e=100){return sm(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Ln(n.listTools({cursor:i}));for(const a of s.tools)yield yield Ln(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class DQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new DQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Lw(Vle(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),wse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Kle(n,e,t){const i=new dse;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class Gle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=$le(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,C={onopen:g,onmessage:T=>{Kle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},b=this.webSocketFactory.create(l,qle(a),C);b.connect(),await d;const I={setup:{model:qt(this.apiClient,e.model)}};return b.send(JSON.stringify(I)),new zle(b,this.apiClient)}}class zle{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=moe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=goe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(jg.PLAY)}pause(){this.sendPlaybackControl(jg.PAUSE)}stop(){this.sendPlaybackControl(jg.STOP)}resetContext(){this.sendPlaybackControl(jg.RESET_CONTEXT)}close(){this.conn.close()}}function qle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function $le(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wle(n,e,t){const i=new cse;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=woe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class Yle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Gle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&_6(e.config.tools)&&T6(h);const g=eue(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",V="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",V="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${V}=${k}`}let v=()=>{};const C=new Promise(k=>{v=k}),b=e.callbacks,E=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),v({})},x=this.apiClient,I={onopen:E,onmessage:k=>{Wle(x,b.onmessage,k)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(k){}},T=this.webSocketFactory.create(d,Zle(g),I);T.connect(),await C;let R=qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let P={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Y_.AUDIO]}:e.config.responseModalities=[Y_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],Q=[];for(const k of D)if(this.isCallableTool(k)){const K=k;Q.push(await K.tool())}else Q.push(k);Q.length>0&&(e.config.tools=Q);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=poe(this.apiClient,H):P=hoe(this.apiClient,H),delete P.config,T.send(JSON.stringify(P)),new Jle(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Xle={turnComplete:!0};class Jle{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Ao(t.turns),e.isVertexAI()||(i=i.map(r=>L1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(jle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Xle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:yoe(e)}:t={realtimeInput:voe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Zle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function eue(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lK=10;function uK(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(am(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function am(n){return"callTool"in n&&typeof n.callTool=="function"}function tue(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>am(r)))!==null&&i!==void 0?i:!1}function cK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(am(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function dK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nue extends Gu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!tue(t)||uK(t.config))return await this.generateContentInternal(l);const u=cK(t);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,h;const g=Ao(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:lK;let C=0;for(;C<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const x of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(am(x)){const T=await x.callTool(d.functionCalls);E.push(...T)}C++,h={role:"user",parts:E},l.contents=Ao(l.contents),l.contents.push(b),l.contents.push(h),dK(l.config)&&(g.push(b),g.push(h))}return dK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),uK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=cK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Np(Fu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>am(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&_6(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),T6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(am(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:lK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return sm(this,arguments,function*(){for(var C,b,E,x;o<s;){a&&(o++,a=!1);const P=yield Ln(u.processParamsMaybeAddMcpUsage(h)),D=yield Ln(u.generateContentStreamInternal(P)),Q=[],H=[];try{for(var I=!0,T=(b=void 0,Lw(D)),R;R=yield Ln(T.next()),C=R.done,!C;I=!0){x=R.value,I=!1;const k=x;if(yield yield Ln(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const V=yield Ln(d.get(K.functionCall.name).callTool([K.functionCall]));Q.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){b={error:k}}finally{try{!I&&!C&&(E=T.return)&&(yield Ln(E.call(T)))}finally{if(b)throw b.error}}if(Q.length>0){a=!0;const k=new P0;k.candidates=[{content:{role:"user",parts:Q}}],yield yield Ln(k);const K=[];K.push(...H),K.push({role:"user",parts:Q});const V=Ao(h.contents).concat(K);h.contents=V}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aK(d),g=new P0;return Object.assign(g,h),g})}else{const u=iK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sK(d),g=new P0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return sm(this,arguments,function*(){var g,v,C,b;try{for(var E=!0,x=Lw(h),I;I=yield Ln(x.next()),g=I.done,!g;E=!0){b=I.value,E=!1;const T=b,R=aK(yield Ln(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new P0;Object.assign(P,R),yield yield Ln(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(C=x.return)&&(yield Ln(C.call(x)))}finally{if(v)throw v.error}}})})}else{const u=iK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return sm(this,arguments,function*(){var g,v,C,b;try{for(var E=!0,x=Lw(h),I;I=yield Ln(x.next()),g=I.done,!g;E=!0){b=I.value,E=!1;const T=b,R=sK(yield Ln(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new P0;Object.assign(P,R),yield yield Ln(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(C=x.return)&&(yield Ln(C.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Yoe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Joe(d),g=new O3;return Object.assign(g,h),g})}else{const u=Woe(this.apiClient,e);return o=Re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Xoe(d),g=new O3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=lAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=cAe(d),g=new H3;return Object.assign(g,h),g})}else{const u=AAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=uAe(d),g=new H3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=zoe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=qoe(l),d=new ese;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=lle(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=ule(l),d=new tse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=GAe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=zAe(l),d=new nse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=XAe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=JAe(l),d=new ise;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=TAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=_Ae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=LAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=kAe(d),g=new V3;return Object.assign(g,h),g})}else{const u=NAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=QAe(d),g=new V3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ole(this.apiClient,e);return o=Re("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=ale(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Hoe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Koe(d),g=new K3;return Object.assign(g,h),g})}else{const u=Ooe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Voe(d),g=new K3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Loe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=koe(d),g=new G3;return Object.assign(g,h),g})}else{const u=Noe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new G3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Ioe(this.apiClient,e);return s=Re("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Foe(l),d=new rse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=mAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=pAe(d),g=new X_;return Object.assign(g,h),g})}else{const u=gAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=hAe(d),g=new X_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iue extends Gu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=jre(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=$re(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Ore(e);return s=Re("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rue(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function sue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>hue(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function aue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],fue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function oue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],aue(n,i,t)),t}function Aue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function lue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function cue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function due(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],RQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],sue(jr(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=Iy(b);Array.isArray(D)&&(D=D.map(Q=>gue(Ty(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],pue(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function fue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],qt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],due(r,t)),t}function hue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Aue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],lue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],rue(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function pue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],uue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],cue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function vue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=mue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class yue extends Gu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=oue(this.apiClient,e);s=Re("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=vue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function bue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&wue(i,e),e}function Cue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Bue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Eue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&Bue(i,e),e}function Sue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xue extends Gu{constructor(e){super(),this.apiClient=e,this.list=async t=>new Np(Fu.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cue(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bue(e);r=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eue(e);return s=Re("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Sue(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ue extends Gu{constructor(e,t=new xue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Np(Fu.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mle(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wle(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yle(e);r=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xle(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=_le(l),d=new ase;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tle(e);return s=Re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Ile(l),d=new ose;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ble(e);return s=Re("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Cle(l),d=new IQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Iue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Fue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function Mue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function Uue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Pue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],fK(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],fK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Rue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&zue(s);const a=y(n,["config"]);return a!=null&&Uue(a,t),t}function Due(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&que(s,t,e);const a=y(n,["config"]);return a!=null&&Pue(a,t,e),t}function Nue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Lue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Que(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function kue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Oue(n,e){const t={},i=y(n,["config"]);return i!=null&&Que(i,t),t}function Hue(n,e){const t={},i=y(n,["config"]);return i!=null&&kue(i,t),t}function Vue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>I6(o))),w(t,["tuningJobs"],a)}return t}function Kue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>DR(o))),w(t,["tuningJobs"],a)}return t}function Gue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function zue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function que(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function I6(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],l6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Gue(g)),t}function DR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],l6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const C=y(n,["preTunedModel"]);C!=null&&w(t,["preTunedModel"],C);const b=y(n,["supervisedTuningSpec"]);b!=null&&w(t,["supervisedTuningSpec"],b);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const P=y(n,["experiment"]);P!=null&&w(t,["experiment"],P);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const Q=y(n,["outputUri"]);Q!=null&&w(t,["outputUri"],Q);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const V=y(n,["veoTuningSpec"]);return V!=null&&w(t,["veoTuningSpec"],V),t}function $ue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function fK(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jue extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Np(Fu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:TR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Lue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>DR(d))}else{const u=Nue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>I6(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Hue(e);return o=Re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Kue(d),g=new z3;return Object.assign(g,h),g})}else{const u=Oue(e);return o=Re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Vue(d),g=new z3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Mue(d),g=new q3;return Object.assign(g,h),g})}else{const u=Tue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fue(d),g=new q3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Due(e,e);return s=Re("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>DR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rue(e);return s=Re("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>$ue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Yue=1024*1024*8,Xue=3,Jue=1e3,Zue=2,Z_="x-goog-upload-status";async function ece(n,e,t){var i;const r=await F6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Z_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function tce(n,e,t){var i;const r=await F6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Z_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=i6(s),o=new FQ;return Object.assign(o,a),o}async function F6(n,e,t){var i,r;let s=0,a=0,o=new IR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(Yue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=Jue;for(;h<Xue&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[Z_]));)h++,await ice(g),g=g*Zue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Z_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function nce(n){return{size:n.size,type:n.type}}function ice(n){return new Promise(e=>setTimeout(e,n))}class rce{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ece(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tce(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sce{create(e,t,i){return new ace(e,t,i)}}class ace{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hK="x-goog-api-key";class oce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(hK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ace="gl-node/";class lce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Qre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new oce(this.apiKey);this.apiClient=new Lle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ace+"web",uploader:new rce,downloader:new Wue}),this.models=new nue(this.apiClient),this.live=new Yle(this.apiClient,r,new sce),this.batches=new fae(this.apiClient),this.chats=new jae(this.models,this.apiClient),this.caches=new zae(this.apiClient),this.files=new roe(this.apiClient),this.operations=new iue(this.apiClient),this.authTokens=new yue(this.apiClient),this.tunings=new jue(this.apiClient),this.fileSearchStores=new _ue(this.apiClient)}}const uce="AIzaSyCsuOQli4AjSdQxo1VCTf5d_0JO5EW_ecQ",cce=new lce({apiKey:uce}),dce="gemini-2.5-flash",M6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await cce.models.generateContent({model:dce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},ss=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),NR=[.001,0,0,.001,0,0],iU=1.35,ha={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Rc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ww="pdfjs_internal_editor_",pt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},fce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},LR={TRIANGLES:1,LATTICE:2},vr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},qx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Rg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},O1={ERRORS:0,WARNINGS:1,INFOS:5},Yw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},R0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},hce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H1=O1.WARNINGS;function pce(n){Number.isInteger(n)&&(H1=n)}function gce(){return H1}function V1(n){H1>=O1.INFOS&&console.info(`Info: ${n}`)}function dt(n){H1>=O1.WARNINGS&&console.warn(`Warning: ${n}`)}function En(n){throw new Error(n)}function Dt(n,e){n||En(e)}function mce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function U6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Cce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return mce(i)?i:null}function P6(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&U6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ft(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Lp=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class pK extends Lp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class rU extends Lp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let QR=class extends Lp{constructor(e){super(e,"InvalidPDFException")}},eT=class extends Lp{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class vce extends Lp{constructor(e){super(e,"FormatError")}}let Zd=class extends Lp{constructor(e){super(e,"AbortException")}};function R6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&En("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function YB(n){typeof n!="string"&&En("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function yce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function wce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function bce(){try{return new Function(""),!0}catch{return!1}}class Pr{static get isLittleEndian(){return ft(this,"isLittleEndian",wce())}static get isEvalSupported(){return ft(this,"isEvalSupported",bce())}static get isOffscreenCanvasSupported(){return ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ft(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return ft(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return ft(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ft(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ft(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const sU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var xu,CR,$x,kR;let Ke=(CR=class{static makeHexColor(e,t,i){return`#${sU[e]}${sU[t]}${sU[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let C=r*d+l,b=C,E=r*g+l,x=E,I=o*h+u,T=I,R=o*v+u,P=R;if(s!==0||a!==0){const D=s*d,Q=s*g,H=a*h,k=a*v;C+=H,x+=H,E+=k,b+=k,I+=D,P+=D,R+=Q,T+=Q}i[0]=Math.min(i[0],C,E,b,x),i[1]=Math.min(i[1],I,R,T,P),i[2]=Math.max(i[2],C,E,b,x),i[3]=Math.max(i[3],I,R,T,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),U(this,xu,kR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),U(this,xu,kR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},xu=new WeakSet,$x=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,C=h*(h*(h*e+3*u*t)+3*g*i)+v*r,b=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],C),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],C),d[3]=Math.max(d[3],b)},kR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&U(this,xu,$x).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const C=Math.sqrt(v),b=2*u;U(this,xu,$x).call(this,e,t,i,r,s,a,o,l,(-d+C)/b,g),U(this,xu,$x).call(this,e,t,i,r,s,a,o,l,(-d-C)/b,g)},M(CR,xu),CR);function Cce(n){return decodeURIComponent(escape(n))}let aU=null,gK=null;function Bce(n){return aU||(aU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gK=new Map([["","t"]])),n.replaceAll(aU,(e,t,i)=>t?t.normalize("NFKC"):gK.get(i))}function D6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),R6(n)}const Wg="pdfjs_internal_id_";function Ece(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function as(n,e,t){return Math.min(Math.max(n,e),t)}function N6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(R6(n))}function Sce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):YB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Xw{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Xw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let L6=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&Xw.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,C,b]=d.at(-1);if(C+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);u.push(T),b.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(b.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&Xw.shouldBuildText(x)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const gl="http://www.w3.org/2000/svg";var LA;let ly=(LA=class{},we(LA,"CSS",96),we(LA,"PDF",72),we(LA,"PDF_TO_CSS_UNITS",LA.CSS/LA.PDF),LA);async function XB(n,e="text"){if(ew(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class JB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let C,b,E,x;d===0?(C=Math.abs(u-e[1])*i+s,b=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(C=Math.abs(l-e[0])*i+s,b=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,C-d*i*l-g*i*u,b-h*i*l-v*i*u],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return ft(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new JB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return Ke.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Ke.applyTransform(t,this.transform);const i=[e[2],e[3]];return Ke.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Ke.applyInverseTransform(i,this.transform),i}}let NQ=class extends Lp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function K1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function LQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function xce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function _ce(n,e="document.pdf"){if(typeof n!="string")return e;if(K1(n))return dt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class mK{constructor(){we(this,"started",Object.create(null));we(this,"times",[])}time(e){e in this.started&&dt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||dt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function ew(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function co(n){n.preventDefault()}function fi(n){n.preventDefault(),n.stopPropagation()}function Tce(n){console.log("Deprecated API usage: "+n)}var BR,yb;let OR=(BR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,yb)||_(this,yb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,yb).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},yb=new WeakMap,M(BR,yb),BR);function Ice(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new JB({viewBox:s,userUnit:1,scale:e,rotation:t})}function ZB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(dt(`Not a valid color format: "${n}"`),[0,0,0])}function Fce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,ZB(i))}e.remove()}function Xn(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function aA(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function _p(n,e,t=!1,i=!0){if(e instanceof JB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=Pr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let Tp=class HR{constructor(){const{pixelRatio:e}=HR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=HR.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const VR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Mce{static get isDarkMode(){var e;return ft(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let Uce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),ft(this,"commentForegroundColor",ZB(i))}};function Pce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function vK(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function KR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function yK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function wK(n,e,t){KR(n,t),t.map(yK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];KR(e,t),t.map(yK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const bK=new Map;function Rce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=bK.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);vK(n,a);const o=r.subarray(6,9);vK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),wK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===wK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return KR(a,s),i=Ke.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),bK.set(t,i),i}function Q6({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else L6.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function k6(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case R0.moveTo:e.moveTo(n[t++],n[t++]);break;case R0.lineTo:e.lineTo(n[t++],n[t++]);break;case R0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case R0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case R0.closePath:e.closePath();break;default:dt(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Nc,Lc,Ha,Va,wb,Qc,fm,hm,bb,c1,O6,Fr,H6,V6,Dg,tw;const wl=class wl{constructor(e){M(this,Fr);M(this,Nc,null);M(this,Lc,null);M(this,Ha);M(this,Va,null);M(this,wb,null);M(this,Qc,null);M(this,fm,null);M(this,hm,null);_(this,Ha,e),f(wl,bb)||_(wl,bb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Nc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,Ha)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",co,{signal:t}),e.addEventListener("pointerdown",U(wl,c1,O6),{signal:t}));const i=_(this,Va,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,Ha).toolbarPosition;if(r){const{style:s}=e,a=f(this,Ha)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Nc)}hide(){var e;f(this,Nc).classList.add("hidden"),(e=f(this,Lc))==null||e.hideDropdown()}show(){var e,t;f(this,Nc).classList.remove("hidden"),(e=f(this,wb))==null||e.shown(),(t=f(this,Qc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,Ha),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(wl,bb)[e]),U(this,Fr,Dg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,Va).append(i)}async addAltText(e){const t=await e.render();U(this,Fr,Dg).call(this,t),f(this,Va).append(t,f(this,Fr,tw)),_(this,wb,e)}addComment(e,t=null){if(f(this,Qc))return;const i=e.renderForToolbar();if(!i)return;U(this,Fr,Dg).call(this,i);const r=_(this,fm,f(this,Fr,tw));t?(f(this,Va).insertBefore(i,t),f(this,Va).insertBefore(r,t)):f(this,Va).append(i,r),_(this,Qc,e),e.toolbar=this}addColorPicker(e){if(f(this,Lc))return;_(this,Lc,e);const t=e.renderButton();U(this,Fr,Dg).call(this,t),f(this,Va).append(t,f(this,Fr,tw))}async addEditSignatureButton(e){const t=_(this,hm,await e.renderEditButton(f(this,Ha)));U(this,Fr,Dg).call(this,t),f(this,Va).append(t,f(this,Fr,tw))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,Qc))==null||t.removeToolbarCommentButton(),_(this,Qc,null),(i=f(this,fm))==null||i.remove(),_(this,fm,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,Va).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,hm)&&(f(this,hm).title=e)}remove(){var e;f(this,Nc).remove(),(e=f(this,Lc))==null||e.destroy(),_(this,Lc,null)}};Nc=new WeakMap,Lc=new WeakMap,Ha=new WeakMap,Va=new WeakMap,wb=new WeakMap,Qc=new WeakMap,fm=new WeakMap,hm=new WeakMap,bb=new WeakMap,c1=new WeakSet,O6=function(e){e.stopPropagation()},Fr=new WeakSet,H6=function(e){f(this,Ha)._focusEventsAllowed=!1,fi(e)},V6=function(e){f(this,Ha)._focusEventsAllowed=!0,fi(e)},Dg=function(e){const t=f(this,Ha)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",U(this,Fr,H6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",U(this,Fr,V6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",co,{signal:t}),!0)},tw=function(){const e=document.createElement("div");return e.className="divider",e},M(wl,c1),M(wl,bb,null);let GR=wl;var Cb,$f,El,Ou,K6,G6,zR;class Dce{constructor(e){M(this,Ou);M(this,Cb,null);M(this,$f,null);M(this,El);_(this,El,e)}show(e,t,i){const[r,s]=U(this,Ou,G6).call(this,t,i),{style:a}=f(this,$f)||_(this,$f,U(this,Ou,K6).call(this));e.append(f(this,$f)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,$f).remove()}}Cb=new WeakMap,$f=new WeakMap,El=new WeakMap,Ou=new WeakSet,K6=function(){const e=_(this,$f,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,El)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",co,{signal:t});const i=_(this,Cb,document.createElement("div"));return i.className="buttons",e.append(i),f(this,El).hasCommentManager()&&U(this,Ou,zR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,El).commentSelection("floating_button")}),U(this,Ou,zR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,El).highlightSelection("floating_button")}),e},G6=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},zR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,El)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",co,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,Cb).append(s)};function z6(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var jf,Wf,pm,Yf;const cn=class cn{static initializeAndAddPointerId(e){(f(cn,Wf)||_(cn,Wf,new Set)).add(e)}static setPointer(e,t){f(cn,jf)||_(cn,jf,t),f(cn,Yf)??_(cn,Yf,e)}static setTimeStamp(e){_(cn,pm,e)}static isSamePointerId(e){return f(cn,jf)===e}static isSamePointerIdOrRemove(e){var t;return f(cn,jf)===e?!0:((t=f(cn,Wf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(cn,Yf)===e}static isInitializedAndDifferentPointerType(e){return f(cn,Yf)!==null&&!cn.isSamePointerType(e)}static isSameTimeStamp(e){return f(cn,pm)===e}static isUsingMultiplePointers(){var e;return((e=f(cn,Wf))==null?void 0:e.size)>=1}static clearPointerType(){_(cn,Yf,null)}static clearPointerIds(){_(cn,jf,NaN),_(cn,Wf,null)}static clearTimeStamp(){_(cn,pm,NaN)}};jf=new WeakMap,Wf=new WeakMap,pm=new WeakMap,Yf=new WeakMap,M(cn,jf,NaN),M(cn,Wf,null),M(cn,pm,NaN),M(cn,Yf,null);let Qr=cn;var d1;class Nce{constructor(){M(this,d1,0)}get id(){return`${Ww}${gi(this,d1)._++}`}}d1=new WeakMap;var gm,Bb,kr,mm,jx;const QO=class QO{constructor(){M(this,mm);M(this,gm,D6());M(this,Bb,0);M(this,kr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ft(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return U(this,mm,jx).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return U(this,mm,jx).call(this,e,e)}async getFromBlob(e,t){const i=await t;return U(this,mm,jx).call(this,e,i)}async getFromId(e){f(this,kr)||_(this,kr,new Map);const t=f(this,kr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,kr)||_(this,kr,new Map);let i=f(this,kr).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,gm)}_${gi(this,Bb)._++}`,refCounter:1,isSvg:!1},f(this,kr).set(e,i),f(this,kr).set(i.id,i),i}getSvgUrl(e){const t=f(this,kr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,kr)||_(this,kr,new Map);const t=f(this,kr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,gm)}_`)}};gm=new WeakMap,Bb=new WeakMap,kr=new WeakMap,mm=new WeakSet,jx=async function(e,t){f(this,kr)||_(this,kr,new Map);let i=f(this,kr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,gm)}_${gi(this,Bb)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await XB(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=QO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){dt(r),i=null}return f(this,kr).set(e,i),i&&f(this,kr).set(i.id,i),i};let qR=QO;var yi,kc,Eb,Yn;class Lce{constructor(e=128){M(this,yi,[]);M(this,kc,!1);M(this,Eb);M(this,Yn,-1);_(this,Eb,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,kc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,Yn)===-1){f(this,yi).length>0&&(f(this,yi).length=0),_(this,Yn,0),f(this,yi).push(l);return}if(a&&f(this,yi)[f(this,Yn)].type===s){o&&(l.undo=f(this,yi)[f(this,Yn)].undo),f(this,yi)[f(this,Yn)]=l;return}const u=f(this,Yn)+1;u===f(this,Eb)?f(this,yi).splice(0,1):(_(this,Yn,u),u<f(this,yi).length&&f(this,yi).splice(u)),f(this,yi).push(l)}undo(){if(f(this,Yn)===-1)return;_(this,kc,!0);const{undo:e,post:t}=f(this,yi)[f(this,Yn)];e(),t==null||t(),_(this,kc,!1),_(this,Yn,f(this,Yn)-1)}redo(){if(f(this,Yn)<f(this,yi).length-1){_(this,Yn,f(this,Yn)+1),_(this,kc,!0);const{cmd:e,post:t}=f(this,yi)[f(this,Yn)];e(),t==null||t(),_(this,kc,!1)}}hasSomethingToUndo(){return f(this,Yn)!==-1}hasSomethingToRedo(){return f(this,Yn)<f(this,yi).length-1}cleanType(e){if(f(this,Yn)!==-1){for(let t=f(this,Yn);t>=0;t--)if(f(this,yi)[t].type!==e){f(this,yi).splice(t+1,f(this,Yn)-t),_(this,Yn,t);return}f(this,yi).length=0,_(this,Yn,-1)}}destroy(){_(this,yi,null)}}yi=new WeakMap,kc=new WeakMap,Eb=new WeakMap,Yn=new WeakMap;var f1,q6;class eE{constructor(e){M(this,f1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Pr.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(U(this,f1,q6).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||fi(t))}}f1=new WeakSet,q6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const h1=class h1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fce(e),ft(this,"_colors",e)}convert(e){const t=ZB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return h1._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Ke.makeHexColor(...t):e}};we(h1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $R=h1;var vm,Ws,ym,ai,ki,wm,Ka,bm,Ga,Or,Oc,Hc,Cm,Vc,cA,za,Xf,Sb,xb,Bm,_b,dA,Kc,Em,Gc,fA,p1,zc,Sm,Tb,qc,Jf,xm,$c,Ib,Ui,nn,Sl,jc,Wc,Fb,_m,Mb,Yc,hA,xl,Ub,Pb,qa,yu,Ue,Wx,jR,$6,j6,nw,W6,Y6,X6,WR,J6,Z6,ej,tj,Jr,ml,nj,ij,YR,rj,iw,XR;let Jw=(yu=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,C,b,E){M(this,Ue);M(this,vm,new AbortController);M(this,Ws,null);M(this,ym,null);M(this,ai,new Map);M(this,ki,new Map);M(this,wm,null);M(this,Ka,null);M(this,bm,null);M(this,Ga,new Lce);M(this,Or,null);M(this,Oc,null);M(this,Hc,null);M(this,Cm,0);M(this,Vc,new Set);M(this,cA,null);M(this,za,null);M(this,Xf,new Set);we(this,"_editorUndoBar",null);M(this,Sb,!1);M(this,xb,!1);M(this,Bm,!1);M(this,_b,null);M(this,dA,null);M(this,Kc,null);M(this,Em,null);M(this,Gc,!1);M(this,fA,null);M(this,p1,new Nce);M(this,zc,!1);M(this,Sm,!1);M(this,Tb,!1);M(this,qc,null);M(this,Jf,null);M(this,xm,null);M(this,$c,null);M(this,Ib,null);M(this,Ui,pt.NONE);M(this,nn,new Set);M(this,Sl,null);M(this,jc,null);M(this,Wc,null);M(this,Fb,null);M(this,_m,null);M(this,Mb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,Yc,[0,0]);M(this,hA,null);M(this,xl,null);M(this,Ub,null);M(this,Pb,null);M(this,qa,null);const x=this._signal=f(this,vm).signal;_(this,xl,e),_(this,Ub,t),_(this,Pb,i),_(this,wm,r),_(this,Or,s),_(this,jc,a),_(this,_m,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),window.addEventListener("pointerdown",()=>{_(this,Sm,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{_(this,Sm,!1)},{capture:!0,signal:x}),U(this,Ue,W6).call(this),U(this,Ue,tj).call(this),U(this,Ue,WR).call(this),_(this,Ka,l.annotationStorage),_(this,_b,l.filterFactory),_(this,Wc,u),_(this,Em,d||null),_(this,Sb,h),_(this,xb,g),_(this,Bm,v),_(this,Ib,C||null),this.viewParameters={realScale:ly.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=yu.prototype,t=a=>f(a,xl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ft(this,"_keyboardManager",new eE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,xl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,xl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,qa))==null||e.resolve(),_(this,qa,null),(t=f(this,vm))==null||t.abort(),_(this,vm,null),this._signal=null;for(const d of f(this,ki).values())d.destroy();f(this,ki).clear(),f(this,ai).clear(),f(this,Xf).clear(),(i=f(this,$c))==null||i.clear(),_(this,Ws,null),f(this,nn).clear(),f(this,Ga).destroy(),(r=f(this,wm))==null||r.destroy(),(s=f(this,Or))==null||s.destroy(),(a=f(this,jc))==null||a.destroy(),(o=f(this,fA))==null||o.hide(),_(this,fA,null),(l=f(this,xm))==null||l.destroy(),_(this,xm,null),_(this,ym,null),f(this,dA)&&(clearTimeout(f(this,dA)),_(this,dA,null)),f(this,hA)&&(clearTimeout(f(this,hA)),_(this,hA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,_m,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,Ib)}get useNewAltTextFlow(){return f(this,xb)}get useNewAltTextWhenAddingImage(){return f(this,Bm)}get hcmFilter(){return ft(this,"hcmFilter",f(this,Wc)?f(this,_b).addHCMFilter(f(this,Wc).foreground,f(this,Wc).background):"none")}get direction(){return ft(this,"direction",getComputedStyle(f(this,xl)).direction)}get _highlightColors(){return ft(this,"_highlightColors",f(this,Em)?new Map(f(this,Em).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ft(this,"highlightColors",null);const t=new Map,i=!!f(this,Wc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return ft(this,"highlightColors",t)}get highlightColorNames(){return ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Hc,e)}setMainHighlightColorPicker(e){_(this,xm,e)}editAltText(e,t=!1){var i;(i=f(this,wm))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Or)}editComment(e,t,i,r){var s;(s=f(this,Or))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,ki).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Or))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Or))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Or))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,Or))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,Or))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Or))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,ki).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,jc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,jc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,Bm,t);break}}onPageChanging({pageNumber:e}){_(this,Cm,e-1)}focusMainContainer(){f(this,xl).focus()}findParent(e,t){for(const i of f(this,ki).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,Ub).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Xf).add(e)}removeShouldRescale(e){f(this,Xf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ly.PDF_TO_CSS_UNITS;for(const i of f(this,Xf))i.onScaleChanging();(t=f(this,Hc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=U(this,Ue,Wx).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=U(this,Ue,jR).call(this,d),v=f(this,Ui)===pt.NONE,C=()=>{const b=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(v){this.switchToMode(pt.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,Ka))return null;const t=`${Ww}${e}`,i=f(this,Ka).getRawValue(t);return i&&f(this,Ka).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Ka)&&!f(this,Ka).has(e.id)&&f(this,Ka).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,Pb);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Gc)&&(_(this,Gc,!1),U(this,Ue,nw).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,nn))if(t.div.contains(e)){_(this,Jf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Jf))return;const[e,t]=f(this,Jf);_(this,Jf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){U(this,Ue,WR).call(this),this.setEditingState(!0)}removeEditListeners(){U(this,Ue,J6).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,za))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,za))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Ws))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,nn)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,za))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){dt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)U(this,Ue,YR).call(this,l);U(this,Ue,XR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){dt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Ui)!==pt.NONE&&!this.isEditorHandlingKeyboard&&yu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Gc)&&(_(this,Gc,!1),U(this,Ue,nw).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(U(this,Ue,Y6).call(this),U(this,Ue,Z6).call(this),U(this,Ue,Jr).call(this,{isEditing:f(this,Ui)!==pt.NONE,isEmpty:U(this,Ue,iw).call(this),hasSomethingToUndo:f(this,Ga).hasSomethingToUndo(),hasSomethingToRedo:f(this,Ga).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,Ue,X6).call(this),U(this,Ue,ej).call(this),U(this,Ue,Jr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,za)){_(this,za,e);for(const t of f(this,za))U(this,Ue,ml).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,p1).id}get currentLayer(){return f(this,ki).get(f(this,Cm))}getLayer(e){return f(this,ki).get(e)}get currentPageIndex(){return f(this,Cm)}addLayer(e){f(this,ki).set(e.pageIndex,e),f(this,zc)?e.enable():e.disable()}removeLayer(e){f(this,ki).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,Ui)!==e&&!(f(this,qa)&&(await f(this,qa).promise,!f(this,qa)))){if(_(this,qa,Promise.withResolvers()),(a=f(this,Hc))==null||a.commitOrRemove(),f(this,Ui)===pt.POPUP&&((o=f(this,Or))==null||o.hideSidebar()),(l=f(this,Or))==null||l.destroyPopup(),_(this,Ui,e),e===pt.NONE){this.setEditingState(!1),U(this,Ue,ij).call(this);for(const g of f(this,ai).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,qa).resolve();return}for(const g of f(this,ai).values())g.addStandaloneCommentButton();e===pt.SIGNATURE&&await((d=f(this,jc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await U(this,Ue,nj).call(this),this.unselectAll();for(const g of f(this,ki).values())g.updateMode(e);if(e===pt.POPUP){f(this,ym)||_(this,ym,await f(this,_m).getAnnotationsByType(new Set(f(this,za).map(C=>C._editorType))));const g=new Set,v=[];for(const C of f(this,ai).values()){const{annotationElementId:b,hasComment:E,deleted:x}=C;b&&g.add(b),E&&!x&&v.push(C.getData())}for(const C of f(this,ym)){const{id:b,popupRef:E,contentsObj:x}=C;E&&(x!=null&&x.str)&&!g.has(b)&&!f(this,Vc).has(b)&&v.push(C)}(h=f(this,Or))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,qa).resolve();return}for(const g of f(this,ai).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,qa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Ui)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,za)){switch(e){case Rt.CREATE:this.currentLayer.addNewEditor(t);return;case Rt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Fb)||_(this,Fb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,nn))i.updateParams(e,t);else for(const i of f(this,za))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,ai).values())a.editorType===e&&a.show(t);(((s=f(this,Fb))==null?void 0:s.get(Rt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&U(this,Ue,ml).call(this,[[Rt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Tb)!==e){_(this,Tb,e);for(const t of f(this,ki).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,ai).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,ai).get(e)}addEditor(e){f(this,ai).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,dA)&&clearTimeout(f(this,dA)),_(this,dA,setTimeout(()=>{this.focusMainContainer(),_(this,dA,null)},0))),f(this,ai).delete(e.id),e.annotationElementId&&((t=f(this,$c))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Vc).has(e.annotationElementId))&&((i=f(this,Ka))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,Vc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Vc).has(e)}removeDeletedAnnotationElement(e){f(this,Vc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Ws)!==e&&(_(this,Ws,e),e&&U(this,Ue,ml).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Ue,rj)===e&&U(this,Ue,ml).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){U(this,Ue,ml).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,nn).has(e)){f(this,nn).delete(e),e.unselect(),U(this,Ue,Jr).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,nn).add(e),e.select(),U(this,Ue,ml).call(this,e.propertiesToUpdate),U(this,Ue,Jr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Hc))==null||t.commitOrRemove();for(const i of f(this,nn))i!==e&&i.unselect();f(this,nn).clear(),f(this,nn).add(e),e.select(),U(this,Ue,ml).call(this,e.propertiesToUpdate),U(this,Ue,Jr).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,nn).has(e)}get firstSelectedEditor(){return f(this,nn).values().next().value}unselect(e){e.unselect(),f(this,nn).delete(e),U(this,Ue,Jr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,nn).size!==0}get isEnterHandled(){return f(this,nn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Ga).undo(),U(this,Ue,Jr).call(this,{hasSomethingToUndo:f(this,Ga).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,Ue,iw).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Ga).redo(),U(this,Ue,Jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Ga).hasSomethingToRedo(),isEmpty:U(this,Ue,iw).call(this)})}addCommands(e){f(this,Ga).add(e),U(this,Ue,Jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,Ue,iw).call(this)})}cleanUndoStack(e){f(this,Ga).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,nn)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)U(this,Ue,YR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Ws))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Ws)||this.hasSelection}selectAll(){for(const e of f(this,nn))e.commit();U(this,Ue,XR).call(this,f(this,ai).values())}unselectAll(){var e;if(!(f(this,Ws)&&(f(this,Ws).commitOrRemove(),f(this,Ui)!==pt.NONE))&&!((e=f(this,Hc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,nn))t.unselect();f(this,nn).clear(),U(this,Ue,Jr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,Yc)[0]+=e,f(this,Yc)[1]+=t;const[r,s]=f(this,Yc),a=[...f(this,nn)],o=1e3;f(this,hA)&&clearTimeout(f(this,hA)),_(this,hA,setTimeout(()=>{_(this,hA,null),f(this,Yc)[0]=f(this,Yc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,ai).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,ai).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,cA,new Map);for(const e of f(this,nn))f(this,cA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,cA))return!1;this.disableUserSelect(!1);const e=f(this,cA);_(this,cA,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,ai).has(r.id)){const l=f(this,ki).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,cA))for(const i of f(this,cA).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,nn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Ws)===e}getActive(){return f(this,Ws)}getMode(){return f(this,Ui)}isEditingMode(){return f(this,Ui)!==pt.NONE}get imageManager(){return ft(this,"imageManager",new qR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:C,height:b}of h.getClientRects())C===0||b===0||l.push(o(g,v,C,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,bm)||_(this,bm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,bm))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,bm))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,Ka).getRawValue(t);i&&(f(this,Ui)===pt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,$c))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,$c).delete(e))}addMissingCanvas(e,t){(f(this,$c)||_(this,$c,new Map)).set(e,t)}},vm=new WeakMap,Ws=new WeakMap,ym=new WeakMap,ai=new WeakMap,ki=new WeakMap,wm=new WeakMap,Ka=new WeakMap,bm=new WeakMap,Ga=new WeakMap,Or=new WeakMap,Oc=new WeakMap,Hc=new WeakMap,Cm=new WeakMap,Vc=new WeakMap,cA=new WeakMap,za=new WeakMap,Xf=new WeakMap,Sb=new WeakMap,xb=new WeakMap,Bm=new WeakMap,_b=new WeakMap,dA=new WeakMap,Kc=new WeakMap,Em=new WeakMap,Gc=new WeakMap,fA=new WeakMap,p1=new WeakMap,zc=new WeakMap,Sm=new WeakMap,Tb=new WeakMap,qc=new WeakMap,Jf=new WeakMap,xm=new WeakMap,$c=new WeakMap,Ib=new WeakMap,Ui=new WeakMap,nn=new WeakMap,Sl=new WeakMap,jc=new WeakMap,Wc=new WeakMap,Fb=new WeakMap,_m=new WeakMap,Mb=new WeakMap,Yc=new WeakMap,hA=new WeakMap,xl=new WeakMap,Ub=new WeakMap,Pb=new WeakMap,qa=new WeakMap,Ue=new WeakSet,Wx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},jR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,ki).values())if(i.hasTextLayer(e))return i;return null},$6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=U(this,Ue,Wx).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,fA)||_(this,fA,new Dce(this)),f(this,fA).show(i,r,this.direction==="ltr"))},j6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,Sl)&&((s=f(this,fA))==null||s.hide(),_(this,Sl,null),U(this,Ue,Jr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,Sl))return;const r=U(this,Ue,Wx).call(this,e).closest(".textLayer");if(!r){f(this,Sl)&&((a=f(this,fA))==null||a.hide(),_(this,Sl,null),U(this,Ue,Jr).call(this,{hasSelectedText:!1}));return}if((o=f(this,fA))==null||o.hide(),_(this,Sl,t),U(this,Ue,Jr).call(this,{hasSelectedText:!0}),!(f(this,Ui)!==pt.HIGHLIGHT&&f(this,Ui)!==pt.NONE)&&(f(this,Ui)===pt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Gc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Ui)===pt.HIGHLIGHT?U(this,Ue,jR).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,Sm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&U(this,Ue,nw).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),U(this,Ue,nw).call(this,"main_toolbar")}},nw=function(e=""){f(this,Ui)===pt.HIGHLIGHT?this.highlightSelection(e):f(this,Sb)&&U(this,Ue,$6).call(this)},W6=function(){document.addEventListener("selectionchange",U(this,Ue,j6).bind(this),{signal:this._signal})},Y6=function(){if(f(this,Kc))return;_(this,Kc,new AbortController);const e=this.combinedSignal(f(this,Kc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},X6=function(){var e;(e=f(this,Kc))==null||e.abort(),_(this,Kc,null)},WR=function(){if(f(this,qc))return;_(this,qc,new AbortController);const e=this.combinedSignal(f(this,qc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},J6=function(){var e;(e=f(this,qc))==null||e.abort(),_(this,qc,null)},Z6=function(){if(f(this,Oc))return;_(this,Oc,new AbortController);const e=this.combinedSignal(f(this,Oc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},ej=function(){var e;(e=f(this,Oc))==null||e.abort(),_(this,Oc,null)},tj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Jr=function(e){Object.entries(e).some(([i,r])=>f(this,Mb)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Mb),e)}),f(this,Ui)===pt.HIGHLIGHT&&e.hasSelectedEditor===!1&&U(this,Ue,ml).call(this,[[Rt.HIGHLIGHT_FREE,!0]]))},ml=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},nj=async function(){if(!f(this,zc)){_(this,zc,!0);const e=[];for(const t of f(this,ki).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,ai).values())t.enable()}},ij=function(){if(this.unselectAll(),f(this,zc)){_(this,zc,!1);for(const e of f(this,ki).values())e.disable();for(const e of f(this,ai).values())e.disable()}},YR=function(e){const t=f(this,ki).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},rj=function(){let e=null;for(e of f(this,nn));return e},iw=function(){if(f(this,ai).size===0)return!0;if(f(this,ai).size===1)for(const e of f(this,ai).values())return e.isEmpty();return!1},XR=function(e){for(const t of f(this,nn))t.unselect();f(this,nn).clear();for(const t of e)t.isEmpty()||(f(this,nn).add(t),t.select());U(this,Ue,Jr).call(this,{hasSelectedEditor:this.hasSelection})},we(yu,"TRANSLATE_SMALL",1),we(yu,"TRANSLATE_BIG",10),yu);var er,pA,xo,Tm,gA,Ys,Im,mA,Bs,_l,Zf,vA,Xc,Ko,rw,Yx;const Zr=class Zr{constructor(e){M(this,Ko);M(this,er,null);M(this,pA,!1);M(this,xo,null);M(this,Tm,null);M(this,gA,null);M(this,Ys,null);M(this,Im,!1);M(this,mA,null);M(this,Bs,null);M(this,_l,null);M(this,Zf,null);M(this,vA,!1);_(this,Bs,e),_(this,vA,e._uiManager.useNewAltTextFlow),f(Zr,Xc)||_(Zr,Xc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Zr._l10n??(Zr._l10n=e)}async render(){const e=_(this,xo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,Tm,document.createElement("span"));e.append(t),f(this,vA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Zr,Xc).missing),t.setAttribute("data-l10n-id",f(Zr,Xc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Bs)._uiManager._signal;e.addEventListener("contextmenu",co,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,Bs)._uiManager.editAltText(f(this,Bs)),f(this,vA)&&f(this,Bs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Ko,rw)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Im,!0),r(s))},{signal:i}),await U(this,Ko,Yx).call(this),e}finish(){f(this,xo)&&(f(this,xo).focus({focusVisible:f(this,Im)}),_(this,Im,!1))}isEmpty(){return f(this,vA)?f(this,er)===null:!f(this,er)&&!f(this,pA)}hasData(){return f(this,vA)?f(this,er)!==null||!!f(this,_l):this.isEmpty()}get guessedText(){return f(this,_l)}async setGuessedText(e){f(this,er)===null&&(_(this,_l,e),_(this,Zf,await Zr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),U(this,Ko,Yx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,vA)||f(this,er)){(t=f(this,mA))==null||t.remove(),_(this,mA,null);return}if(!f(this,mA)){const i=_(this,mA,document.createElement("div"));i.className="noAltTextBadge",f(this,Bs).div.append(i)}f(this,mA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,er);return!e&&f(this,_l)===t&&(t=f(this,Zf)),{altText:t,decorative:f(this,pA),guessedText:f(this,_l),textWithDisclaimer:f(this,Zf)}}get data(){return{altText:f(this,er),decorative:f(this,pA)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,_l,i),_(this,Zf,r)),!(f(this,er)===e&&f(this,pA)===t)&&(s||(_(this,er,e),_(this,pA,t)),U(this,Ko,Yx).call(this))}toggle(e=!1){f(this,xo)&&(!e&&f(this,Ys)&&(clearTimeout(f(this,Ys)),_(this,Ys,null)),f(this,xo).disabled=!e)}shown(){f(this,Bs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Ko,rw)}})}destroy(){var e,t;(e=f(this,xo))==null||e.remove(),_(this,xo,null),_(this,Tm,null),_(this,gA,null),(t=f(this,mA))==null||t.remove(),_(this,mA,null)}};er=new WeakMap,pA=new WeakMap,xo=new WeakMap,Tm=new WeakMap,gA=new WeakMap,Ys=new WeakMap,Im=new WeakMap,mA=new WeakMap,Bs=new WeakMap,_l=new WeakMap,Zf=new WeakMap,vA=new WeakMap,Xc=new WeakMap,Ko=new WeakSet,rw=function(){return f(this,er)&&"added"||f(this,er)===null&&this.guessedText&&"review"||"missing"},Yx=async function(){var r,s,a;const e=f(this,xo);if(!e)return;if(f(this,vA)){if(e.classList.toggle("done",!!f(this,er)),e.setAttribute("data-l10n-id",f(Zr,Xc)[f(this,Ko,rw)]),(r=f(this,Tm))==null||r.setAttribute("data-l10n-id",f(Zr,Xc)[`${f(this,Ko,rw)}-label`]),!f(this,er)){(s=f(this,gA))==null||s.remove();return}}else{if(!f(this,er)&&!f(this,pA)){e.classList.remove("done"),(a=f(this,gA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,gA);if(!t){_(this,gA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Bs).id}`;const o=100,l=f(this,Bs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Ys)),_(this,Ys,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Ys,setTimeout(()=>{_(this,Ys,null),f(this,gA).classList.add("show"),f(this,Bs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Ys)&&(clearTimeout(f(this,Ys)),_(this,Ys,null)),(u=f(this,gA))==null||u.classList.remove("show")},{signal:l})}f(this,pA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,er)),t.parentNode||e.append(t);const i=f(this,Bs).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},M(Zr,Xc,null),we(Zr,"_l10n",null);let tT=Zr;var yr,$a,eh,Fn,Rb,th,_o,nh,ih,rh,Db,JR;class OS{constructor(e){M(this,Db);M(this,yr,null);M(this,$a,null);M(this,eh,!1);M(this,Fn,null);M(this,Rb,null);M(this,th,null);M(this,_o,null);M(this,nh,null);M(this,ih,!1);M(this,rh,null);_(this,Fn,e)}renderForToolbar(){const e=_(this,$a,document.createElement("button"));return e.className="comment",U(this,Db,JR).call(this,e,!1)}renderForStandalone(){const e=_(this,yr,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,Fn).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,Fn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,Fn).commentButtonColor;r&&(i.backgroundColor=r)}return U(this,Db,JR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,yr)??f(this,$a))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,yr))return;const e=f(this,Fn).commentButtonColor;e&&(f(this,yr).style.backgroundColor=e),f(this,Fn)._uiManager.updatePopupColor(f(this,Fn))}get commentButtonWidth(){var e;return(((e=f(this,yr))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,Fn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,rh))return f(this,rh);if(!f(this,yr))return null;const{x:e,y:t,height:i}=f(this,yr).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Fn).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,rh,e)}hasDefaultPopupPosition(){return f(this,rh)===null}removeStandaloneCommentButton(){var e;(e=f(this,yr))==null||e.remove(),_(this,yr,null)}removeToolbarCommentButton(){var e;(e=f(this,$a))==null||e.remove(),_(this,$a,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,yr)&&(f(this,yr).classList.toggle("selected",e),f(this,yr).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,Fn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,Fn);i=g+i*d,r=v+r*h}const s=f(this,Fn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,Fn)._uiManager.editComment(f(this,Fn),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,$a)&&(f(this,$a).focus({focusVisible:f(this,eh)}),_(this,eh,!1))}isDeleted(){return f(this,ih)||f(this,_o)===""}isEmpty(){return f(this,_o)===null}hasBeenEdited(){return this.isDeleted()||f(this,_o)!==f(this,Rb)}serialize(){return this.data}get data(){return{text:f(this,_o),richText:f(this,th),date:f(this,nh),deleted:this.isDeleted()}}set data(e){if(e!==f(this,_o)&&_(this,th,null),e===null){_(this,_o,""),_(this,ih,!0);return}_(this,_o,e),_(this,nh,new Date),_(this,ih,!1)}setInitialText(e,t=null){_(this,Rb,e),this.data=e,_(this,nh,null),_(this,th,t)}shown(){}destroy(){var e,t;(e=f(this,$a))==null||e.remove(),_(this,$a,null),(t=f(this,yr))==null||t.remove(),_(this,yr,null),_(this,_o,""),_(this,th,null),_(this,nh,null),_(this,Fn,null),_(this,eh,!1),_(this,ih,!1)}}yr=new WeakMap,$a=new WeakMap,eh=new WeakMap,Fn=new WeakMap,Rb=new WeakMap,th=new WeakMap,_o=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,Db=new WeakSet,JR=function(e,t){if(!f(this,Fn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,Fn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,Fn)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",co,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,Fn)._focusEventsAllowed=!1,fi(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,Fn)._focusEventsAllowed=!0,fi(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,$a)?this.edit():f(this,Fn).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,eh,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,Fn).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,Fn).toggleComment(!1,!1)},{signal:i}),e};var Fm,sh,Nb,Lb,Qb,kb,Ob,Tl,ah,Il,oh,Fl,af,aj,oj,Aj,Mm;let sj=(Mm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){M(this,af);M(this,Fm);M(this,sh,!1);M(this,Nb,null);M(this,Lb);M(this,Qb);M(this,kb);M(this,Ob);M(this,Tl,null);M(this,ah);M(this,Il,null);M(this,oh);M(this,Fl,null);_(this,Fm,e),_(this,Nb,i),_(this,Lb,t),_(this,Qb,r),_(this,kb,s),_(this,Ob,a),_(this,oh,new AbortController),_(this,ah,AbortSignal.any([o,f(this,oh).signal])),e.addEventListener("touchstart",U(this,af,aj).bind(this),{passive:!1,signal:f(this,ah)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Tp.pixelRatio}destroy(){var e,t;(e=f(this,oh))==null||e.abort(),_(this,oh,null),(t=f(this,Tl))==null||t.abort(),_(this,Tl,null)}},Fm=new WeakMap,sh=new WeakMap,Nb=new WeakMap,Lb=new WeakMap,Qb=new WeakMap,kb=new WeakMap,Ob=new WeakMap,Tl=new WeakMap,ah=new WeakMap,Il=new WeakMap,oh=new WeakMap,Fl=new WeakMap,af=new WeakSet,aj=function(e){var r,s,a;if((r=f(this,Lb))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,Tl))return;const o=_(this,Tl,new AbortController),l=AbortSignal.any([f(this,ah),o.signal]),u=f(this,Fm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,Tl))==null||v.abort(),_(this,Tl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(fi(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,Fl)){_(this,Fl,new AbortController);const o=AbortSignal.any([f(this,ah),f(this,Fl).signal]),l=f(this,Fm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",U(this,af,oj).bind(this),u);const d=U(this,af,Aj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",fi,u),l.addEventListener("pointermove",fi,u),l.addEventListener("pointercancel",fi,u),l.addEventListener("pointerup",fi,u),(s=f(this,Qb))==null||s.call(this)}if(fi(e),e.touches.length!==2||(a=f(this,Nb))!=null&&a.call(this)){_(this,Il,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,Il,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},oj=function(e){var R;if(!f(this,Il)||e.touches.length!==2)return;fi(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,Il),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,C=g-d,b=a-r,E=o-s,x=Math.hypot(b,E)||1,I=Math.hypot(v,C)||1;if(!f(this,sh)&&Math.abs(I-x)<=Mm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,sh)){_(this,sh,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,kb))==null||R.call(this,T,I,x)},Aj=function(e){var t;e.touches.length>=2||(f(this,Fl)&&(f(this,Fl).abort(),_(this,Fl,null),(t=f(this,Ob))==null||t.call(this)),f(this,Il)&&(fi(e),_(this,Il,null),_(this,sh,!1)))},Mm);var Ah,To,zn,wn,Ml,Um,Jc,Hb,wr,lh,Ul,ja,Zc,Vb,uh,Xs,Kb,ch,Pl,yA,Pm,Rm,Wa,dh,Gb,g1,at,ZR,zb,eD,Xx,lj,uj,tD,Jx,nD,cj,dj,fj,iD,hj,rD,pj,gj,mj,sD,sw;const ht=class ht{constructor(e){M(this,at);M(this,Ah,null);M(this,To,null);M(this,zn,null);M(this,wn,null);M(this,Ml,null);M(this,Um,!1);M(this,Jc,null);M(this,Hb,"");M(this,wr,null);M(this,lh,null);M(this,Ul,null);M(this,ja,null);M(this,Zc,null);M(this,Vb,"");M(this,uh,!1);M(this,Xs,null);M(this,Kb,!1);M(this,ch,!1);M(this,Pl,!1);M(this,yA,null);M(this,Pm,0);M(this,Rm,0);M(this,Wa,null);M(this,dh,null);we(this,"isSelected",!1);we(this,"_isCopy",!1);we(this,"_editToolbar",null);we(this,"_initialOptions",Object.create(null));we(this,"_initialData",null);we(this,"_isVisible",!0);we(this,"_uiManager",null);we(this,"_focusEventsAllowed",!0);M(this,Gb,!1);M(this,g1,ht._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ht.prototype._resizeWithKeyboard,t=Jw.TRANSLATE_SMALL,i=Jw.TRANSLATE_BIG;return ft(this,"_resizerKeyboardManager",new eE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ht.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Qce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ht._l10n??(ht._l10n=e),ht._l10nResizer||(ht._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ht._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ht._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){En("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Gb)}set _isDraggable(e){var t;_(this,Gb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,g1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(U(this,at,sw).call(this),(t=f(this,ja))==null||t.remove(),_(this,ja,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,uh)?_(this,uh,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){U(this,at,ZR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Xs)||_(this,Xs,[this.x,this.y,this.width,this.height]),U(this,at,ZR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Xs)||_(this,Xs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Xs)&&(f(this,Xs)[0]!==this.x||f(this,Xs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Xs)&&(f(this,Xs)[2]!==this.width||f(this,Xs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ht,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=as(s,0,i-o),a=as(a,0,r-l);break;case 90:s=as(s,0,i-l),a=as(a,o,r);break;case 180:s=as(s,o,i),a=as(a,l,r);break;case 270:s=as(s,l,i),a=as(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return U(i=ht,zb,eD).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return U(i=ht,zb,eD).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,zn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,ch))return this._editToolbar;this._editToolbar=new GR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,zn))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,zn)||(tT.initialize(ht._l10n),_(this,zn,new tT(this)),f(this,Ah)&&(f(this,zn).data=f(this,Ah),_(this,Ah,null))),f(this,zn)}get altTextData(){var e;return(e=f(this,zn))==null?void 0:e.data}set altTextData(e){f(this,zn)&&(f(this,zn).data=e)}get guessedAltText(){var e;return(e=f(this,zn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,zn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,zn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,zn)&&!f(this,zn).isEmpty()}hasAltTextData(){var e;return((e=f(this,zn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,wn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,wn)||_(this,wn,new OS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,Ml)){this._uiManager.isEditingMode()&&f(this,Ml).classList.remove("hidden");return}this.hasComment&&(_(this,Ml,f(this,wn).renderForStandalone()),this.div.append(f(this,Ml)))}}removeStandaloneCommentButton(){f(this,wn).removeStandaloneCommentButton(),_(this,Ml,null)}hideStandaloneCommentButton(){var e;(e=f(this,Ml))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,wn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,wn)||_(this,wn,new OS(this)),f(this,wn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,wn)||_(this,wn,new OS(this)),f(this,wn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,wn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,wn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,wn)&&!f(this,wn).isEmpty()&&!f(this,wn).isDeleted()}async editComment(e){f(this,wn)||_(this,wn,new OS(this)),f(this,wn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,wn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,wn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,Um)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),U(this,at,rD).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),z6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,dh)||_(this,dh,new sj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,at,cj).bind(this),onPinching:U(this,at,dj).bind(this),onPinchEnd:U(this,at,fj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Pr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,uh,!0),this._isDraggable){U(this,at,hj).call(this,e);return}U(this,at,iD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,yA)&&clearTimeout(f(this,yA)),_(this,yA,setTimeout(()=>{var e;_(this,yA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,C=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-C+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+C+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+C+l];case 270:return[h-d-C+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ht._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,wn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,ch,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,ch,!1),!0):!1}isInEditMode(){return f(this,ch)}shouldGetKeyboardEvents(){return f(this,Pl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){U(this,at,rD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,Ah,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,Zc))==null||e.abort(),_(this,Zc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,yA)&&(clearTimeout(f(this,yA)),_(this,yA,null)),U(this,at,sw).call(this),this.removeEditToolbar(),f(this,Wa)){for(const r of f(this,Wa).values())clearTimeout(r);_(this,Wa,null)}this.parent=null,(t=f(this,dh))==null||t.destroy(),_(this,dh,null),(i=f(this,ja))==null||i.remove(),_(this,ja,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,at,lj).call(this),f(this,wr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[ht._round(i+(s-i)*e),ht._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,wn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,wn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,wn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,wn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,wn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,wr).children;if(!f(this,To)){_(this,To,Array.from(t));const a=U(this,at,pj).bind(this),o=U(this,at,gj).bind(this),l=this._uiManager._signal;for(const u of f(this,To)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",U(this,at,mj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",ht._l10nResizer[d])}}const i=f(this,To)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,To).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,wr).append(f(this,wr).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,wr).firstElementChild.before(f(this,wr).lastElementChild);let a=0;for(const o of t){const u=f(this,To)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ht._l10nResizer[u])}}U(this,at,sD).call(this,0),_(this,Pl,!0),f(this,wr).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Pl)&&U(this,at,nD).call(this,f(this,Vb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,at,sw).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,zn))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,wr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,zn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Kb)}set isEditing(e){_(this,Kb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Wa)||_(this,Wa,new Map);const{action:i}=e;let r=f(this,Wa).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Wa).delete(i),f(this,Wa).size===0&&_(this,Wa,null)},ht._telemetryTimeout),f(this,Wa).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Um,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Um,!0)}updateFakeAnnotationElement(e){if(!f(this,ja)&&!this.deleted){_(this,ja,e.addFakeAnnotation(this));return}if(this.deleted){f(this,ja).remove(),_(this,ja,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,ja).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ah=new WeakMap,To=new WeakMap,zn=new WeakMap,wn=new WeakMap,Ml=new WeakMap,Um=new WeakMap,Jc=new WeakMap,Hb=new WeakMap,wr=new WeakMap,lh=new WeakMap,Ul=new WeakMap,ja=new WeakMap,Zc=new WeakMap,Vb=new WeakMap,uh=new WeakMap,Xs=new WeakMap,Kb=new WeakMap,ch=new WeakMap,Pl=new WeakMap,yA=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Wa=new WeakMap,dh=new WeakMap,Gb=new WeakMap,g1=new WeakMap,at=new WeakSet,ZR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},zb=new WeakSet,eD=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Xx=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},lj=function(){if(f(this,wr))return;_(this,wr,document.createElement("div")),f(this,wr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,wr).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",U(this,at,uj).bind(this,i),{signal:t}),r.addEventListener("contextmenu",co,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,wr))},uj=function(e,t){var d;t.preventDefault();const{isMac:i}=Pr.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,zn))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,lh,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,at,nD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",fi,{passive:!1,signal:a}),window.addEventListener("contextmenu",co,{signal:a}),_(this,Ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,zn))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,U(this,at,Jx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},tD=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Jx=function(){if(!f(this,Ul))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,Ul);_(this,Ul,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:U(this,at,tD).bind(this,s,a,o,l),undo:U(this,at,tD).bind(this,e,t,i,r),mustExec:!0})},nD=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=ht.MIN_SIZE/i,d=ht.MIN_SIZE/r,h=U(this,at,Xx).call(this,this.rotation),g=(G,$)=>[h[0]*G+h[2]*$,h[1]*G+h[3]*$],v=U(this,at,Xx).call(this,360-this.rotation),C=(G,$)=>[v[0]*G+v[2]*$,v[1]*G+v[3]*$];let b,E,x=!1,I=!1;switch(e){case"topLeft":x=!0,b=(G,$)=>[0,0],E=(G,$)=>[G,$];break;case"topMiddle":b=(G,$)=>[G/2,0],E=(G,$)=>[G/2,$];break;case"topRight":x=!0,b=(G,$)=>[G,0],E=(G,$)=>[0,$];break;case"middleRight":I=!0,b=(G,$)=>[G,$/2],E=(G,$)=>[0,$/2];break;case"bottomRight":x=!0,b=(G,$)=>[G,$],E=(G,$)=>[0,0];break;case"bottomMiddle":b=(G,$)=>[G/2,$],E=(G,$)=>[G/2,0];break;case"bottomLeft":x=!0,b=(G,$)=>[0,$],E=(G,$)=>[G,0];break;case"middleLeft":I=!0,b=(G,$)=>[0,$/2],E=(G,$)=>[G,$/2];break}const T=b(o,l),R=E(o,l);let P=g(...R);const D=ht._round(s+P[0]),Q=ht._round(a+P[1]);let H=1,k=1,K,V;if(t.fromKeyboard)({deltaX:K,deltaY:V}=t);else{const{screenX:G,screenY:$}=t,[re,de]=f(this,lh);[K,V]=this.screenToPageTranslation(G-re,$-de),f(this,lh)[0]=G,f(this,lh)[1]=$}if([K,V]=C(K/i,V/r),x){const G=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-V)/G,1/o,1/l),u/o,d/l)}else I?H=as(Math.abs(R[0]-T[0]-K),u,1)/o:k=as(Math.abs(R[1]-T[1]-V),d,1)/l;const q=ht._round(o*H),J=ht._round(l*k);P=g(...E(q,J));const te=D-P[0],he=Q-P[1];f(this,Xs)||_(this,Xs,[this.x,this.y,this.width,this.height]),this.width=q,this.height=J,this.x=te,this.y=he,this.setDims(),this.fixAndSetPosition(),this._onResizing()},cj=function(){var e;_(this,Ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,zn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},dj=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=U(this,at,Xx).call(this,this.rotation),o=(D,Q)=>[a[0]*D+a[2]*Q,a[1]*D+a[3]*Q],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,C=ht.MIN_SIZE/l,b=ht.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),C/g,b/v);const E=ht._round(g*s),x=ht._round(v*s);if(E===g&&x===v)return;f(this,Xs)||_(this,Xs,[d,h,g,v]);const I=o(g/2,v/2),T=ht._round(d+I[0]),R=ht._round(h+I[1]),P=o(E/2,x/2);this.x=T-P[0],this.y=R-P[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},fj=function(){var e;(e=f(this,zn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),U(this,at,Jx).call(this)},iD=function(e){const{isMac:t}=Pr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},hj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,Jc,null),_(this,uh,!1),this._uiManager.endDragSession()||U(this,at,iD).call(this,u),i&&this._onStopDragging()};t&&(_(this,Pm,e.clientX),_(this,Rm,e.clientY),_(this,Jc,e.pointerId),_(this,Hb,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Jc)){fi(u);return}const[v,C]=this.screenToPageTranslation(d-f(this,Pm),h-f(this,Rm));_(this,Pm,d),_(this,Rm,h),this._uiManager.dragSelectedEditors(v,C)},a),window.addEventListener("touchmove",fi,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Hb)&&(f(this,dh)||u.isPrimary)&&o(u),fi(u)},a));const l=u=>{if(!f(this,Jc)||f(this,Jc)===u.pointerId){o(u);return}fi(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},rD=function(){if(f(this,Zc)||!this.div)return;_(this,Zc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Zc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},pj=function(e){ht._resizerKeyboardManager.exec(this,e)},gj=function(e){var t;f(this,Pl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,wr)&&U(this,at,sw).call(this)},mj=function(e){_(this,Vb,f(this,Pl)?e:"")},sD=function(e){if(f(this,To))for(const t of f(this,To))t.tabIndex=e},sw=function(){_(this,Pl,!1),U(this,at,sD).call(this,-1),U(this,at,Jx).call(this)},M(ht,zb),we(ht,"_l10n",null),we(ht,"_l10nResizer",null),we(ht,"_borderLineWidth",-1),we(ht,"_colorManager",new $R),we(ht,"_zIndex",1),we(ht,"_telemetryTimeout",1e3);let Pn=ht;class Qce extends Pn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CK=3285377520,Da=4294901760,oA=65535;class vj{constructor(e){this.h1=e?e&4294967295:CK,this.h2=e?e&4294967295:CK}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let b=0,E=e.length;b<E;b++){const x=e.charCodeAt(b);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&oA,C=g&oA;for(let b=0;b<r;b++)b&1?(o=a[b],o=o*h&Da|o*v&oA,o=o<<15|o>>>17,o=o*g&Da|o*C&oA,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*h&Da|l*v&oA,l=l<<15|l>>>17,l=l*g&Da|l*C&oA,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&Da|o*v&oA,o=o<<15|o>>>17,o=o*g&Da|o*C&oA,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Da|e*36045&oA,t=t*4283543511&Da|((t<<16|e>>>16)*2950163797&Da)>>>16,e^=t>>>1,e=e*444984403&Da|e*60499&oA,t=t*3301882366&Da|((t<<16|e>>>16)*3120437893&Da)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const aD=Object.freeze({map:null,hash:"",transfer:void 0});var fh,hh,Rl,br,m1,yj;class QQ{constructor(){M(this,m1);M(this,fh,!1);M(this,hh,null);M(this,Rl,null);M(this,br,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,br).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,br).get(e)}remove(e){const t=f(this,br).get(e);if(t!==void 0&&(t instanceof Pn&&f(this,Rl).delete(t.annotationElementId),f(this,br).delete(e),f(this,br).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,br).values())if(i instanceof Pn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,br).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,br).set(e,t);r&&U(this,m1,yj).call(this),t instanceof Pn&&((f(this,Rl)||_(this,Rl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,br).has(e)}get size(){return f(this,br).size}resetModified(){f(this,fh)&&(_(this,fh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wj(this)}get serializable(){if(f(this,br).size===0)return aD;const e=new Map,t=new vj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,br)){const l=o instanceof Pn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:aD}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,br).values()){if(!(s instanceof Pn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,hh,null)}updateEditor(e,t){var r;const i=(r=f(this,Rl))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Rl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,hh))return f(this,hh);const e=[];if(f(this,Rl))for(const t of f(this,Rl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,hh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,br).entries()}}fh=new WeakMap,hh=new WeakMap,Rl=new WeakMap,br=new WeakMap,m1=new WeakSet,yj=function(){f(this,fh)||(_(this,fh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var qb;class wj extends QQ{constructor(t){super();M(this,qb);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,qb,{map:a,hash:r,transfer:s})}get print(){En("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,qb)}get modifiedIds(){return ft(this,"modifiedIds",{ids:new Set,hash:""})}}qb=new WeakMap;var Dm;class kce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){M(this,Dm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Dm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,Dm).has(e.loadedName))){if(Dt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Dm).add(r),i==null||i(e)}catch{dt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}En("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw dt(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ft(this,"isSyncFontLoadingSupported",ss||Pr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Dt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,P){return R.charCodeAt(P)<<24|R.charCodeAt(P+1)<<16|R.charCodeAt(P+2)<<8|R.charCodeAt(P+3)&255}function r(R,P,D,Q){const H=R.substring(0,P),k=R.substring(P+D);return H+Q+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,P){if(++u>30){dt("Load test font never loaded."),P();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,R,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const C=16,b=1482184792;let E=i(g,C);for(s=0,a=h.length-3;s<a;s+=4)E=E-b+i(h,s)|0;s<h.length&&(E=E-b+i(h+"XXX",s)|0),g=r(g,C,4,yce(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=R,T.append(P)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Dm=new WeakMap;var dn;class Oce{constructor(e,t=null,i,r){M(this,dn);this.compiledGlyphs=Object.create(null),_(this,dn,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${N6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){dt(`getPathGenerator - ignoring character: "${a}".`)}const s=k6(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,dn).black}get bold(){return f(this,dn).bold}get disableFontFace(){return f(this,dn).disableFontFace??!1}set disableFontFace(e){ft(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,dn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,dn).isInvalidPDFjsFont}get isType3Font(){return f(this,dn).isType3Font}get italic(){return f(this,dn).italic}get missingFile(){return f(this,dn).missingFile}get remeasure(){return f(this,dn).remeasure}get vertical(){return f(this,dn).vertical}get ascent(){return f(this,dn).ascent}get defaultWidth(){return f(this,dn).defaultWidth}get descent(){return f(this,dn).descent}get bbox(){return f(this,dn).bbox}set bbox(e){ft(this,"bbox",e)}get fontMatrix(){return f(this,dn).fontMatrix}get fallbackName(){return f(this,dn).fallbackName}get loadedName(){return f(this,dn).loadedName}get mimetype(){return f(this,dn).mimetype}get name(){return f(this,dn).name}get data(){return f(this,dn).data}clearData(){f(this,dn).clearData()}get cssFontInfo(){return f(this,dn).cssFontInfo}get systemFontInfo(){return f(this,dn).systemFontInfo}get defaultVMetrics(){return f(this,dn).defaultVMetrics}}dn=new WeakMap;var Nm,Lm,$b,Qm,Zx;const em=class em{constructor(e){M(this,Qm);M(this,Nm);M(this,Lm);M(this,$b);_(this,Nm,e),_(this,Lm,new DataView(f(this,Nm))),_(this,$b,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of em.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of em.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Dt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return U(this,Qm,Zx).call(this,0)}get fontWeight(){return U(this,Qm,Zx).call(this,1)}get italicAngle(){return U(this,Qm,Zx).call(this,2)}};Nm=new WeakMap,Lm=new WeakMap,$b=new WeakMap,Qm=new WeakSet,Zx=function(e){Dt(e<em.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,Lm).getUint32(t)+4;const i=f(this,Lm).getUint32(t);return f(this,$b).decode(new Uint8Array(f(this,Nm),t+4,i))},we(em,"strings",["fontFamily","fontWeight","italicAngle"]);let nT=em;var ed,wA,ph,gh,aw;const tm=class tm{constructor(e){M(this,gh);M(this,ed);M(this,wA);M(this,ph);_(this,ed,e),_(this,wA,new DataView(f(this,ed))),_(this,ph,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of tm.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of tm.strings){const v=i[g],C=v.length;r+=4+C,d.setUint32(h,C),u.set(v,h+4),h+=4+C}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Dt(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,wA).getUint8(0)!==0}get css(){return U(this,gh,aw).call(this,0)}get loadedName(){return U(this,gh,aw).call(this,1)}get baseFontName(){return U(this,gh,aw).call(this,2)}get src(){return U(this,gh,aw).call(this,3)}get style(){let e=1;e+=4+f(this,wA).getUint32(e);const t=f(this,wA).getUint32(e),i=f(this,ph).decode(new Uint8Array(f(this,ed),e+4,t));e+=4+t;const r=f(this,wA).getUint32(e),s=f(this,ph).decode(new Uint8Array(f(this,ed),e+4,r));return{style:i,weight:s}}};ed=new WeakMap,wA=new WeakMap,ph=new WeakMap,gh=new WeakSet,aw=function(e){Dt(e<tm.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,wA).getUint32(t)+4;const i=f(this,wA).getUint32(t);return f(this,ph).decode(new Uint8Array(f(this,ed),t+4,i))},we(tm,"strings",["css","loadedName","baseFontName","src"]);let iT=tm;var km,Om,Hm,Vm,Js,bA,jb,fn,di,Eo,e_,ow;const mt=class mt{constructor({data:e,extra:t}){M(this,di);M(this,bA);M(this,jb);M(this,fn);_(this,bA,e),_(this,jb,new TextDecoder),_(this,fn,new DataView(f(this,bA))),t&&Object.assign(this,t)}get black(){return U(this,di,Eo).call(this,0)}get bold(){return U(this,di,Eo).call(this,1)}get disableFontFace(){return U(this,di,Eo).call(this,2)}get fontExtraProperties(){return U(this,di,Eo).call(this,3)}get isInvalidPDFjsFont(){return U(this,di,Eo).call(this,4)}get isType3Font(){return U(this,di,Eo).call(this,5)}get italic(){return U(this,di,Eo).call(this,6)}get missingFile(){return U(this,di,Eo).call(this,7)}get remeasure(){return U(this,di,Eo).call(this,8)}get vertical(){return U(this,di,Eo).call(this,9)}get ascent(){return U(this,di,e_).call(this,0)}get defaultWidth(){return U(this,di,e_).call(this,1)}get descent(){return U(this,di,e_).call(this,2)}get bbox(){let e=f(mt,Om);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,fn).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(mt,Hm);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,fn).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(mt,Vm);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,fn).getInt16(e,!0)),e+=2;return i}get fallbackName(){return U(this,di,ow).call(this,0)}get loadedName(){return U(this,di,ow).call(this,1)}get mimetype(){return U(this,di,ow).call(this,2)}get name(){return U(this,di,ow).call(this,3)}get data(){let e=f(mt,Js);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);e+=4+r;const s=f(this,fn).getUint32(e);if(s!==0)return new Uint8Array(f(this,bA),e+4,s)}clearData(){let e=f(mt,Js);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);e+=4+r;const s=f(this,fn).getUint32(e);new Uint8Array(f(this,bA),e+4,s).fill(0),f(this,fn).setUint32(e,0)}get cssFontInfo(){let e=f(mt,Js);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,bA),e+4,r)),new nT(s.buffer)}get systemFontInfo(){let e=f(mt,Js);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,bA),e+4,i)),new iT(r.buffer)}static write(e){const t=e.systemFontInfo?iT.write(e.systemFontInfo):null,i=e.cssFontInfo?nT.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const b of mt.strings)s[b]=r.encode(e[b]),a+=4+s[b].length;const o=f(mt,Js)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=mt.bools.length;let v=0,C=0;for(let b=0;b<g;b++){const E=e[mt.bools[b]];v|=(E===void 0?0:E?2:1)<<C,C+=2,(C===8||b===g-1)&&(d.setUint8(h++,v),v=0,C=0)}Dt(h===f(mt,km),"FontInfo.write: Boolean properties offset mismatch");for(const b of mt.numbers)d.setFloat64(h,e[b]),h+=8;if(Dt(h===f(mt,Om),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const b of e.bbox)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Dt(h===f(mt,Hm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const b of e.fontMatrix)d.setFloat64(h,b,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Dt(h===f(mt,Vm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const b of e.defaultVMetrics)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=6;Dt(h===f(mt,Js),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(mt,Js),0),h+=4;for(const b of mt.strings){const E=s[b],x=E.length;d.setUint32(h,x),u.set(E,h+4),h+=4+x}if(d.setUint32(f(mt,Js),h-f(mt,Js)-4),!t)d.setUint32(h,0),h+=4;else{const b=t.byteLength;d.setUint32(h,b),Dt(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+b}if(!i)d.setUint32(h,0),h+=4;else{const b=i.byteLength;d.setUint32(h,b),Dt(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+b}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Dt(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};km=new WeakMap,Om=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Js=new WeakMap,bA=new WeakMap,jb=new WeakMap,fn=new WeakMap,di=new WeakSet,Eo=function(e){Dt(e<mt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,fn).getUint8(t)>>i&3;return r===0?void 0:r===2},e_=function(e){return Dt(e<mt.numbers.length,"Invalid number index"),f(this,fn).getFloat64(f(mt,km)+e*8)},ow=function(e){Dt(e<mt.strings.length,"Invalid string index");let t=f(mt,Js)+4;for(let s=0;s<e;s++)t+=f(this,fn).getUint32(t)+4;const i=f(this,fn).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,bA),t+4,i)),f(this,jb).decode(r)},we(mt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),we(mt,"numbers",["ascent","defaultWidth","descent"]),we(mt,"strings",["fallbackName","loadedName","mimetype","name"]),M(mt,km,Math.ceil(mt.bools.length*2/8)),M(mt,Om,f(mt,km)+mt.numbers.length*8),M(mt,Hm,f(mt,Om)+1+8),M(mt,Vm,f(mt,Hm)+1+48),M(mt,Js,f(mt,Vm)+1+6);let oD=mt;var Wb,Yb,Xb,Jb,Zb,eC,tC,nC;const In=class In{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let C=0;for(const P of o)C+=1,C=Math.ceil(C/4)*4,C+=4+P.coords.length*4,C+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(C+=4);const b=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+C,E=new ArrayBuffer(b),x=new DataView(E),I=new Uint8Array(E);x.setUint8(f(In,Wb),t),x.setUint8(f(In,Yb),i?1:0),x.setUint8(f(In,Xb),u?1:0),x.setUint8(f(In,Jb),l),x.setUint32(f(In,Zb),d,!0),x.setUint32(f(In,eC),h,!0),x.setUint32(f(In,tC),g,!0),x.setUint32(f(In,nC),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[P,D]of a)x.setFloat32(T,P,!0),T+=4,x.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const P of i)x.setFloat32(T,P,!0),T+=4;u&&(I.set(u,T),T+=3);for(let P=0;P<o.length;P++){const D=o[P];x.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,x.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(x.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(In,Wb)],i=!!this.data[f(In,Yb)],r=!!this.data[f(In,Xb)],s=e.getUint32(f(In,Zb),!0),a=e.getUint32(f(In,eC),!0),o=e.getUint32(f(In,tC),!0),l=e.getUint32(f(In,nC),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const x=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([x,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let C=null;r&&(C=new Uint8Array(this.buffer,u,3),u+=3);const b=[];for(let E=0;E<l;++E){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const P=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:x,coords:T,colors:P};x===LR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),b.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(In,Jb)];let x=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],P=d[1];for(let D=0;D<d.length;D+=2){const Q=d[D],H=d[D+1];I=I>Q?Q:I,R=R>H?H:R,T=T<Q?Q:T,P=P<H?H:P}x=[I,R,T,P]}return["Mesh",E,d,h,b,x,v,C]}throw new Error(`Unsupported pattern kind: ${t}`)}};Wb=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,eC=new WeakMap,tC=new WeakMap,nC=new WeakMap,M(In,Wb,0),M(In,Yb,1),M(In,Xb,2),M(In,Jb,3),M(In,Zb,4),M(In,eC,8),M(In,tC,12),M(In,nC,16);let AD=In;function Hce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(ss)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Vce(n){if(ss&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return YB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const lD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Kce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Gce=Ece.bind(null,lD,Kce);var Dl,v1;class zce{constructor(){M(this,Dl,new Map);M(this,v1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,v1).then(()=>{for(const[r]of f(this,Dl))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){dt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,Dl).set(t,r)}removeEventListener(e,t){const i=f(this,Dl).get(t);i==null||i(),f(this,Dl).delete(t)}terminate(){for(const[,e]of f(this,Dl))e==null||e();f(this,Dl).clear()}}Dl=new WeakMap,v1=new WeakMap;const VS={DATA:1,ERROR:2},Fi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function BK(){}function bs(n){if(n instanceof Zd||n instanceof QR||n instanceof pK||n instanceof eT||n instanceof rU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||En('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Zd(n.message);case"InvalidPDFException":return new QR(n.message);case"PasswordException":return new pK(n.message,n.code);case"ResponseException":return new eT(n.message,n.status,n.missing);case"UnknownErrorException":return new rU(n.message,n.details)}return new rU(n.message,n.toString())}var Km,lo,bj,Cj,Bj,t_;class Aw{constructor(e,t,i){M(this,lo);M(this,Km,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,lo,bj).bind(this),{signal:f(this,Km).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Fi.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Dt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Fi.CANCEL,streamId:s,reason:bs(u)}),d.promise}},i)}destroy(){var e;(e=f(this,Km))==null||e.abort(),_(this,Km,null)}}Km=new WeakMap,lo=new WeakSet,bj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){U(this,lo,Bj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===VS.DATA)r.resolve(e.data);else if(e.callback===VS.ERROR)r.reject(bs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:VS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:VS.ERROR,callbackId:e.callbackId,reason:bs(a)})});return}if(e.streamId){U(this,lo,Cj).call(this,e);return}t(e.data)},Cj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Fi.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Fi.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Dt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Fi.ERROR,streamId:t,reason:bs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Fi.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Fi.START_COMPLETE,streamId:t,reason:bs(u)})})},Bj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Fi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(bs(e.reason));break;case Fi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(bs(e.reason));break;case Fi.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:Fi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||BK).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Fi.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Fi.PULL_COMPLETE,streamId:t,reason:bs(u)})});break;case Fi.ENQUEUE:if(Dt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Fi.CLOSE:if(Dt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),U(this,lo,t_).call(this,a,t);break;case Fi.ERROR:Dt(a,"error should have stream controller"),a.controller.error(bs(e.reason)),U(this,lo,t_).call(this,a,t);break;case Fi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(bs(e.reason)),U(this,lo,t_).call(this,a,t);break;case Fi.CANCEL:if(!o)break;const l=bs(e.reason);Promise.try(o.onCancel||BK,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Fi.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Fi.CANCEL_COMPLETE,streamId:t,reason:bs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},t_=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var iC;class Ej{constructor({enableHWA:e=!1}){M(this,iC,!1);_(this,iC,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,iC)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){En("Abstract method `_createCanvas` called.")}}iC=new WeakMap;class qce extends Ej{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class Sj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class EK extends Sj{async _fetch(e){const t=await XB(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):YB(t)}}class xj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var mh,Gm,Nl,Ll,Hr,vh,yh,Qe,Lr,lw,Ng,n_,Lg,_j,uD,Qg,uw,cw,cD,dw;class $ce extends xj{constructor({docId:t,ownerDocument:i=globalThis.document}){super();M(this,Qe);M(this,mh);M(this,Gm);M(this,Nl);M(this,Ll);M(this,Hr);M(this,vh);M(this,yh,0);_(this,Ll,t),_(this,Hr,i)}addFilter(t){if(!t)return"none";let i=f(this,Qe,Lr).get(t);if(i)return i;const[r,s,a]=U(this,Qe,n_).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,Qe,Lr).get(o),i)return f(this,Qe,Lr).set(t,i),i;const l=`g_${f(this,Ll)}_transfer_map_${gi(this,yh)._++}`,u=U(this,Qe,Lg).call(this,l);f(this,Qe,Lr).set(t,u),f(this,Qe,Lr).set(o,u);const d=U(this,Qe,Qg).call(this,l);return U(this,Qe,cw).call(this,r,s,a,d),u}addHCMFilter(t,i){var C;const r=`${t}-${i}`,s="base";let a=f(this,Qe,lw).get(s);if((a==null?void 0:a.key)===r||(a?((C=a.filter)==null||C.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,Qe,lw).set(s,a)),!t||!i))return a.url;const o=U(this,Qe,dw).call(this,t);t=Ke.makeHexColor(...o);const l=U(this,Qe,dw).call(this,i);if(i=Ke.makeHexColor(...l),f(this,Qe,Ng).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let b=0;b<=255;b++){const E=b/255;u[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Ll)}_hcm_filter`,g=a.filter=U(this,Qe,Qg).call(this,h);U(this,Qe,cw).call(this,d,d,d,g),U(this,Qe,uD).call(this,g);const v=(b,E)=>{const x=o[b]/255,I=l[b]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=x+R/E*(I-x);return T.join(",")};return U(this,Qe,cw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=U(this,Qe,Lg).call(this,h),a.url}addAlphaFilter(t){let i=f(this,Qe,Lr).get(t);if(i)return i;const[r]=U(this,Qe,n_).call(this,[t]),s=`alpha_${r}`;if(i=f(this,Qe,Lr).get(s),i)return f(this,Qe,Lr).set(t,i),i;const a=`g_${f(this,Ll)}_alpha_map_${gi(this,yh)._++}`,o=U(this,Qe,Lg).call(this,a);f(this,Qe,Lr).set(t,o),f(this,Qe,Lr).set(s,o);const l=U(this,Qe,Qg).call(this,a);return U(this,Qe,cD).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,Qe,Lr).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=U(this,Qe,n_).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,Qe,Lr).get(s),i)return f(this,Qe,Lr).set(t,i),i;const a=`g_${f(this,Ll)}_luminosity_map_${gi(this,yh)._++}`,o=U(this,Qe,Lg).call(this,a);f(this,Qe,Lr).set(t,o),f(this,Qe,Lr).set(s,o);const l=U(this,Qe,Qg).call(this,a);return U(this,Qe,_j).call(this,l),t&&U(this,Qe,cD).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,Qe,lw).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Qe,lw).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(U(this,Qe,dw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,C]=[s,a].map(U(this,Qe,dw).bind(this));g<h&&([h,g,v,C]=[g,h,C,v]),f(this,Qe,Ng).style.color="";const b=(T,R,P)=>{const D=new Array(256),Q=(g-h)/P,H=T/255,k=(R-T)/(255*P);let K=0;for(let V=0;V<=P;V++){const q=Math.round(h+V*Q),J=H+V*k;for(let te=K;te<=q;te++)D[te]=J;K=q+1}for(let V=K;V<256;V++)D[V]=D[K-1];return D.join(",")},E=`g_${f(this,Ll)}_hcm_${t}_filter`,x=l.filter=U(this,Qe,Qg).call(this,E);return U(this,Qe,uD).call(this,x),U(this,Qe,cw).call(this,b(v[0],C[0],5),b(v[1],C[1],5),b(v[2],C[2],5),x),l.url=U(this,Qe,Lg).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,vh))!=null&&i.size)||((r=f(this,Nl))==null||r.parentNode.parentNode.remove(),_(this,Nl,null),(s=f(this,Gm))==null||s.clear(),_(this,Gm,null),(a=f(this,vh))==null||a.clear(),_(this,vh,null),_(this,yh,0))}}mh=new WeakMap,Gm=new WeakMap,Nl=new WeakMap,Ll=new WeakMap,Hr=new WeakMap,vh=new WeakMap,yh=new WeakMap,Qe=new WeakSet,Lr=function(){return f(this,Gm)||_(this,Gm,new Map)},lw=function(){return f(this,vh)||_(this,vh,new Map)},Ng=function(){if(!f(this,Nl)){const t=f(this,Hr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,Hr).createElementNS(gl,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,Nl,f(this,Hr).createElementNS(gl,"defs")),t.append(r),r.append(f(this,Nl)),f(this,Hr).body.append(t)}return f(this,Nl)},n_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Lg=function(t){if(f(this,mh)===void 0){_(this,mh,"");const i=f(this,Hr).URL;i!==f(this,Hr).baseURI&&(K1(i)?dt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,mh,P6(i,"")))}return`url(${f(this,mh)}#${t})`},_j=function(t){const i=f(this,Hr).createElementNS(gl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},uD=function(t){const i=f(this,Hr).createElementNS(gl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Qg=function(t){const i=f(this,Hr).createElementNS(gl,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,Qe,Ng).append(i),i},uw=function(t,i,r){const s=f(this,Hr).createElementNS(gl,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},cw=function(t,i,r,s){const a=f(this,Hr).createElementNS(gl,"feComponentTransfer");s.append(a),U(this,Qe,uw).call(this,a,"feFuncR",t),U(this,Qe,uw).call(this,a,"feFuncG",i),U(this,Qe,uw).call(this,a,"feFuncB",r)},cD=function(t,i){const r=f(this,Hr).createElementNS(gl,"feComponentTransfer");i.append(r),U(this,Qe,uw).call(this,r,"feFuncA",t)},dw=function(t){return f(this,Qe,Ng).style.color=t,ZB(getComputedStyle(f(this,Qe,Ng)).getPropertyValue("color"))};class Tj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class SK extends Tj{async _fetch(e){const t=await XB(e,"arraybuffer");return new Uint8Array(t)}}class Ij{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class xK extends Ij{async _fetch(e){const t=await XB(e,"arraybuffer");return new Uint8Array(t)}}ss&&dt("Please use the `legacy` build in Node.js environments.");async function kQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class jce extends xj{}class Wce extends Ej{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Yce extends Sj{async _fetch(e){return kQ(e)}}class Xce extends Tj{async _fetch(e){return kQ(e)}}class Jce extends Ij{async _fetch(e){return kQ(e)}}const Bg="__forcedDependency",{floor:_K,ceil:TK}=Math;function KS(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const dD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var zm,td;class Zce{constructor(e,t){M(this,zm);M(this,td);_(this,zm,e),_(this,td,t)}get length(){return f(this,zm).length}isEmpty(e){return f(this,zm)[e]===dD}minX(e){return f(this,td)[e*4+0]/256}minY(e){return f(this,td)[e*4+1]/256}maxX(e){return(f(this,td)[e*4+2]+1)/256}maxY(e){return(f(this,td)[e*4+3]+1)/256}}zm=new WeakMap,td=new WeakMap;const GS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Es,Ss,wh,Io,bh,Ql,rn,hn,kl,xs,rC,qm,Ch,Bh,Ol,Vr,CA,sC,fD;class ede{constructor(e,t,i=!1){M(this,sC);M(this,Es,{__proto__:null});M(this,Ss,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Bg]:[]});M(this,wh,new Map);M(this,Io,[]);M(this,bh,[]);M(this,Ql,[[1,0,0,1,0,0]]);M(this,rn,[-1/0,-1/0,1/0,1/0]);M(this,hn,new Float64Array([1/0,1/0,-1/0,-1/0]));M(this,kl,-1);M(this,xs,new Set);M(this,rC,new Map);M(this,qm,new Map);M(this,Ch);M(this,Bh);M(this,Ol);M(this,Vr);M(this,CA);_(this,Ch,e.width),_(this,Bh,e.height),U(this,sC,fD).call(this,t),i&&_(this,CA,new Map)}growOperationsCount(e){e>=f(this,Vr).length&&U(this,sC,fD).call(this,e,f(this,Vr))}save(e){return _(this,Es,{__proto__:f(this,Es)}),_(this,Ss,{__proto__:f(this,Ss),transform:{__proto__:f(this,Ss).transform},moveText:{__proto__:f(this,Ss).moveText},sameLineText:{__proto__:f(this,Ss).sameLineText},[Bg]:{__proto__:f(this,Ss)[Bg]}}),_(this,rn,{__proto__:f(this,rn)}),f(this,Io).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,Es));if(t===null)return this;_(this,Es,t),_(this,Ss,Object.getPrototypeOf(f(this,Ss))),_(this,rn,Object.getPrototypeOf(f(this,rn)));const i=f(this,Io).pop();return i!==void 0&&((r=GS(f(this,CA),e))==null||r.dependencies.add(i),f(this,Vr)[e]=f(this,Vr)[i]),this}recordOpenMarker(e){return f(this,Io).push(e),this}getOpenMarker(){return f(this,Io).length===0?null:f(this,Io).at(-1)}recordCloseMarker(e){var i;const t=f(this,Io).pop();return t!==void 0&&((i=GS(f(this,CA),e))==null||i.dependencies.add(t),f(this,Vr)[e]=f(this,Vr)[t]),this}beginMarkedContent(e){return f(this,bh).push(e),this}endMarkedContent(e){var i;const t=f(this,bh).pop();return t!==void 0&&((i=GS(f(this,CA),e))==null||i.dependencies.add(t),f(this,Vr)[e]=f(this,Vr)[t]),this}pushBaseTransform(e){return f(this,Ql).push(Ke.multiplyByDOMMatrix(f(this,Ql).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Ql).length>1&&f(this,Ql).pop(),this}recordSimpleData(e,t){return f(this,Es)[e]=t,this}recordIncrementalData(e,t){return f(this,Ss)[e].push(t),this}resetIncrementalData(e,t){return f(this,Ss)[e].length=0,this}recordNamedData(e,t){return f(this,wh).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,Es)[e]=f(this,wh).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Bg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,Es)&&this.recordFutureForcedDependency(t,f(this,Es)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,xs))this.recordFutureForcedDependency(Bg,e);return this}resetBBox(e){return f(this,kl)!==e&&(_(this,kl,e),f(this,hn)[0]=1/0,f(this,hn)[1]=1/0,f(this,hn)[2]=-1/0,f(this,hn)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=Ke.multiplyByDOMMatrix(f(this,Ql).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ke.axialAlignedBoundingBox([i,s,r,a],o,l);const u=Ke.intersect(f(this,rn),l);return u?(f(this,rn)[0]=u[0],f(this,rn)[1]=u[1],f(this,rn)[2]=u[2],f(this,rn)[3]=u[3]):(f(this,rn)[0]=f(this,rn)[1]=1/0,f(this,rn)[2]=f(this,rn)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,rn);if(o[0]===1/0)return this;const l=Ke.multiplyByDOMMatrix(f(this,Ql).at(-1),t.getTransform());if(o[0]===-1/0)return Ke.axialAlignedBoundingBox([i,s,r,a],l,f(this,hn)),this;const u=[1/0,1/0,-1/0,-1/0];return Ke.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,hn)[0]=Math.min(f(this,hn)[0],Math.max(u[0],o[0])),f(this,hn)[1]=Math.min(f(this,hn)[1],Math.max(u[1],o[1])),f(this,hn)[2]=Math.max(f(this,hn)[2],Math.min(u[2],o[2])),f(this,hn)[3]=Math.max(f(this,hn)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,qm).get(i),u!==!1&&(d=[0,0,0,0],Ke.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&Ke.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,qm).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,hn)[0]=Math.max(0,f(this,rn)[0]),f(this,hn)[1]=Math.max(0,f(this,rn)[1]),f(this,hn)[2]=Math.min(f(this,Ch),f(this,rn)[2]),f(this,hn)[3]=Math.min(f(this,Bh),f(this,rn)[3]),this}getSimpleIndex(e){return f(this,Es)[e]}recordDependencies(e,t){const i=f(this,xs),r=f(this,Es),s=f(this,Ss);for(const a of t)a in f(this,Es)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,wh).has(t)&&f(this,xs).add(f(this,wh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Bg]),f(this,CA)){const i=GS(f(this,CA),e),{dependencies:r}=i;f(this,xs).forEach(r.add,r),f(this,Io).forEach(r.add,r),f(this,bh).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,kl)===e){const i=_K(f(this,hn)[0]*256/f(this,Ch)),r=_K(f(this,hn)[1]*256/f(this,Bh)),s=TK(f(this,hn)[2]*256/f(this,Ch)),a=TK(f(this,hn)[3]*256/f(this,Bh));KS(f(this,Ol),e,i,r,s,a);for(const o of f(this,xs))o!==e&&KS(f(this,Ol),o,i,r,s,a);for(const o of f(this,Io))o!==e&&KS(f(this,Ol),o,i,r,s,a);for(const o of f(this,bh))o!==e&&KS(f(this,Ol),o,i,r,s,a);t||(f(this,xs).clear(),_(this,kl,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,xs));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,kl)===e&&(_(this,kl,-1),f(this,rn)[0]=Math.max(f(this,rn)[0],f(this,hn)[0]),f(this,rn)[1]=Math.max(f(this,rn)[1],f(this,hn)[1]),f(this,rn)[2]=Math.min(f(this,rn)[2],f(this,hn)[2]),f(this,rn)[3]=Math.min(f(this,rn)[3],f(this,hn)[3]),t||f(this,xs).clear()),this}_takePendingDependencies(){const e=f(this,xs);return _(this,xs,new Set),e}_extractOperation(e){const t=f(this,rC).get(e);return f(this,rC).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,xs).add(t)}take(){return f(this,qm).clear(),new Zce(f(this,Vr),f(this,Ol))}takeDebugMetadata(){return f(this,CA)}}Es=new WeakMap,Ss=new WeakMap,wh=new WeakMap,Io=new WeakMap,bh=new WeakMap,Ql=new WeakMap,rn=new WeakMap,hn=new WeakMap,kl=new WeakMap,xs=new WeakMap,rC=new WeakMap,qm=new WeakMap,Ch=new WeakMap,Bh=new WeakMap,Ol=new WeakMap,Vr=new WeakMap,CA=new WeakMap,sC=new WeakSet,fD=function(e,t){const i=new ArrayBuffer(e*4);_(this,Ol,new Uint8ClampedArray(i)),_(this,Vr,new Uint32Array(i)),t&&t.length>0?(f(this,Vr).set(t),f(this,Vr).fill(dD,t.length)):f(this,Vr).fill(dD)};var bn,oi,Fo,$m,jm;const kO=class kO{constructor(e,t,i){M(this,bn);M(this,oi);M(this,Fo);M(this,$m,0);M(this,jm,0);if(e instanceof kO&&f(e,Fo)===!!i)return e;_(this,bn,e),_(this,oi,t),_(this,Fo,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return gi(this,jm)._++,f(this,bn).save(f(this,oi)),this}restore(e){return f(this,jm)>0&&(f(this,bn).restore(f(this,oi)),gi(this,jm)._--),this}recordOpenMarker(e){return gi(this,$m)._++,this}getOpenMarker(){return f(this,$m)>0?f(this,oi):f(this,bn).getOpenMarker()}recordCloseMarker(e){return gi(this,$m)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,bn).pushBaseTransform(e),this}popBaseTransform(){return f(this,bn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,bn).recordSimpleData(e,f(this,oi)),this}recordIncrementalData(e,t){return f(this,bn).recordIncrementalData(e,f(this,oi)),this}resetIncrementalData(e,t){return f(this,bn).resetIncrementalData(e,f(this,oi)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,bn).recordSimpleDataFromNamed(e,t,f(this,oi)),this}recordFutureForcedDependency(e,t){return f(this,bn).recordFutureForcedDependency(e,f(this,oi)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,bn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,bn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,Fo)||f(this,bn).resetBBox(f(this,oi)),this}recordClipBox(e,t,i,r,s,a){return f(this,Fo)||f(this,bn).recordClipBox(f(this,oi),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,Fo)||f(this,bn).recordBBox(f(this,oi),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,Fo)||f(this,bn).recordCharacterBBox(f(this,oi),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,Fo)||f(this,bn).recordFullPageBBox(f(this,oi)),this}getSimpleIndex(e){return f(this,bn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,bn).recordDependencies(f(this,oi),t),this}recordNamedDependency(e,t){return f(this,bn).recordNamedDependency(f(this,oi),t),this}recordOperation(e){return f(this,bn).recordOperation(f(this,oi),!0),this}recordShowTextOperation(e){return f(this,bn).recordShowTextOperation(f(this,oi),!0),this}bboxToClipBoxDropOperation(e){return f(this,Fo)||f(this,bn).bboxToClipBoxDropOperation(f(this,oi),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};bn=new WeakMap,oi=new WeakMap,Fo=new WeakMap,$m=new WeakMap,jm=new WeakMap;let rT=kO;const Na={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},_r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hD(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class OQ{isModifyingCurrentTransform(){return!1}getPattern(){En("Abstract method `getPattern` called.")}}class tde extends OQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===_r.STROKE||r===_r.FILL){const a=t.current.getClippedPathBoundingBox(r,Xn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=Ke.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),hD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else hD(e,this._bbox),s=this._createGradient(e);return s}}function oU(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,C=(l[t+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(C>=I)return;const T=u[s],R=u[s+1],P=u[s+2],D=u[a],Q=u[a+1],H=u[a+2],k=u[o],K=u[o+1],V=u[o+2],q=Math.round(C),J=Math.round(I);let te,he,G,$,re,de,Ce,z;for(let X=q;X<=J;X++){if(X<E){const Be=X<C?0:(C-X)/(C-E);te=v-(v-b)*Be,he=T-(T-D)*Be,G=R-(R-Q)*Be,$=P-(P-H)*Be}else{let Be;X>I?Be=1:E===I?Be=0:Be=(E-X)/(E-I),te=b-(b-x)*Be,he=D-(D-k)*Be,G=Q-(Q-K)*Be,$=H-(H-V)*Be}let oe;X<C?oe=0:X>I?oe=1:oe=(C-X)/(C-I),re=v-(v-x)*oe,de=T-(T-k)*oe,Ce=R-(R-K)*oe,z=P-(P-V)*oe;const me=Math.round(Math.min(te,re)),Se=Math.round(Math.max(te,re));let _e=h*X+me*4;for(let Be=me;Be<=Se;Be++)oe=(te-Be)/(te-re),oe<0?oe=0:oe>1&&(oe=1),d[_e++]=he-(he-de)*oe|0,d[_e++]=G-(G-Ce)*oe|0,d[_e++]=$-($-z)*oe|0,d[_e++]=255}}function nde(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case LR.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)oU(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),oU(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case LR.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)oU(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class ide extends OQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,C=d/g,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/C},E=h+4,x=g+4,I=i.getCanvas("mesh",E,x),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let Q=0,H=D.length;Q<H;Q+=4)D[Q]=t[0],D[Q+1]=t[1],D[Q+2]=t[2],D[Q+3]=255}for(const D of this._figures)nde(R,D,b);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){hD(e,this._bbox);const s=new Float32Array(2);if(r===_r.SHADING)Ke.singularValueDecompose2dScale(Xn(e),s);else if(this.matrix){Ke.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ke.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ke.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===_r.SHADING?null:this._background,t.cachedCanvases);return r!==_r.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class rde extends OQ{getPattern(){return"hotpink"}}function sde(n){switch(n[0]){case"RadialAxial":return new tde(n);case"Mesh":return new ide(n);case"Dummy":return new rde}throw new Error(`Unknown IR type: ${n[0]}`)}const IK={COLORED:1,UNCOLORED:2},y1=class y1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var de,Ce;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),V1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],C=i[3],b=v-h,E=C-g,x=new Float32Array(2);Ke.singularValueDecompose2dScale(this.matrix,x);const[I,T]=x;Ke.singularValueDecompose2dScale(this.baseTransform,x);const R=I*x[0],P=T*x[1];let D=b,Q=E,H=!1,k=!1;const K=Math.ceil(u*R),V=Math.ceil(d*P),q=Math.ceil(b*R),J=Math.ceil(E*P);K>=q?D=u:H=!0,V>=J?Q=d:k=!0;const te=this.getSizeAndScale(D,this.ctx.canvas.width,R),he=this.getSizeAndScale(Q,this.ctx.canvas.height,P),G=e.cachedCanvases.getCanvas("pattern",te.size,he.size),$=G.context,re=l.createCanvasGraphics($,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,o),$.translate(-te.scale*h,-he.scale*g),re.transform(0,te.scale,0,0,he.scale,0,0),$.save(),(de=re.dependencyTracker)==null||de.save(),this.clipBbox(re,h,g,v,C),re.baseTransform=Xn(re.ctx),re.executeOperatorList(r),re.endDrawing(),(Ce=re.dependencyTracker)==null||Ce.restore(),$.restore(),H||k){const z=G.canvas;H&&(D=u),k&&(Q=d);const X=this.getSizeAndScale(D,this.ctx.canvas.width,R),oe=this.getSizeAndScale(Q,this.ctx.canvas.height,P),me=X.size,Se=oe.size,_e=e.cachedCanvases.getCanvas("pattern-workaround",me,Se),Be=_e.context,Je=H?Math.floor(b/u):0,ie=k?Math.floor(E/d):0;for(let Pe=0;Pe<=Je;Pe++)for(let Ge=0;Ge<=ie;Ge++)Be.drawImage(z,me*Pe,Se*Ge,me,Se,0,0,me,Se);return{canvas:_e.canvas,scaleX:X.scale,scaleY:oe.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:te.scale,scaleY:he.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(y1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),Ke.axialAlignedBoundingBox([t,i,r,s],Xn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case IK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case IK.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new vce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==_r.SHADING&&(a=Ke.transform(a,t.baseTransform),this.matrix&&(a=Ke.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};we(y1,"MAX_PATTERN_SIZE",3e3);let pD=y1;function ade({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Pr.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let C=0;C<r;C++){for(const E=e+d;e<E;e++){const x=e<g?n[e]:255;t[v++]=x&128?u:l,t[v++]=x&64?u:l,t[v++]=x&32?u:l,t[v++]=x&16?u:l,t[v++]=x&8?u:l,t[v++]=x&4?u:l,t[v++]=x&2?u:l,t[v++]=x&1?u:l}if(h===0)continue;const b=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=b&1<<7-E?u:l}return{srcPos:e,destPos:v}}const FK=16,MK=100,ode=15,UK=10,Us=16,AU=new DOMMatrix,pa=new Float32Array(2),Yg=new Float32Array([1/0,1/0,-1/0,-1/0]);function Ade(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function zS(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,C,b]=Xn(n);if(h===0&&g===0){const I=a*d+C,T=Math.round(I),R=o*v+b,P=Math.round(R),D=(a+l)*d+C,Q=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+b,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,P),n.drawImage(e,t,i,r,s,0,0,Q,k),n.setTransform(d,h,g,v,C,b),[Q,k]}if(d===0&&v===0){const I=o*g+C,T=Math.round(I),R=a*h+b,P=Math.round(R),D=(o+u)*g+C,Q=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+b,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,P),n.drawImage(e,t,i,r,s,0,0,k,Q),n.setTransform(d,h,g,v,C,b),[k,Q]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),x=Math.hypot(g,v);return[E*l,x*u]}class PK{constructor(e,t,i){we(this,"alphaIsShape",!1);we(this,"fontSize",0);we(this,"fontSizeScale",1);we(this,"textMatrix",null);we(this,"textMatrixScale",1);we(this,"fontMatrix",NR);we(this,"leading",0);we(this,"x",0);we(this,"y",0);we(this,"lineX",0);we(this,"lineY",0);we(this,"charSpacing",0);we(this,"wordSpacing",0);we(this,"textHScale",1);we(this,"textRenderingMode",vr.FILL);we(this,"textRise",0);we(this,"fillColor","#000000");we(this,"strokeColor","#000000");we(this,"patternFill",!1);we(this,"patternStroke",!1);we(this,"fillAlpha",1);we(this,"strokeAlpha",1);we(this,"lineWidth",1);we(this,"activeSMask",null);we(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Yg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=_r.FILL,t=null){const i=this.minMax.slice();if(e===_r.STROKE){t||En("Stroke bounding box must include transform."),Ke.singularValueDecompose2dScale(t,pa);const r=pa[0]*this.lineWidth/2,s=pa[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=Ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Yg,0)}getClippedPathBoundingBox(e=_r.FILL,t=null){return Ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function RK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Us,s=(t-r)/Us,a=r===0?s:s+1,o=n.createImageData(i,Us);let l=0,u;const d=e.data,h=o.data;let g,v,C,b;if(e.kind===qx.GRAYSCALE_1BPP){const E=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),I=x.length,T=i+7>>3,R=4294967295,P=Pr.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(C=g<s?Us:r,u=0,v=0;v<C;v++){const D=E-l;let Q=0;const H=D>T?i:D*8-7,k=H&-8;let K=0,V=0;for(;Q<k;Q+=8)V=d[l++],x[u++]=V&128?R:P,x[u++]=V&64?R:P,x[u++]=V&32?R:P,x[u++]=V&16?R:P,x[u++]=V&8?R:P,x[u++]=V&4?R:P,x[u++]=V&2?R:P,x[u++]=V&1?R:P;for(;Q<H;Q++)K===0&&(V=d[l++],K=128),x[u++]=V&K?R:P,K>>=1}for(;u<I;)x[u++]=0;n.putImageData(o,0,g*Us)}}else if(e.kind===qx.RGBA_32BPP){for(v=0,b=i*Us*4,g=0;g<s;g++)h.set(d.subarray(l,l+b)),l+=b,n.putImageData(o,0,v),v+=Us;g<a&&(b=i*r*4,h.set(d.subarray(l,l+b)),n.putImageData(o,0,v))}else if(e.kind===qx.RGB_24BPP)for(C=Us,b=i*C,g=0;g<a;g++){for(g>=s&&(C=r,b=i*C),u=0,v=b;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Us)}else throw new Error(`bad image kind: ${e.kind}`)}function DK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Us,s=(t-r)/Us,a=r===0?s:s+1,o=n.createImageData(i,Us);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Us:r;({srcPos:l}=ade({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Us)}}function D0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function qS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function NK(n,e){if(e)return!0;Ke.singularValueDecompose2dScale(n,pa);const t=Math.fround(Tp.pixelRatio*ly.PDF_TO_CSS_UNITS);return pa[0]<=t&&pa[1]<=t}const ude=["butt","round","square"],cde=["miter","round","bevel"],dde={},LK={};var $o,gD,mD,vD;const OO=class OO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){M(this,$o);this.ctx=e,this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new lde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Xn(this.compositeCtx))}this.ctx.save(),qS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Xn(this.ctx)}executeOperatorList(e,t,i,r,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>UK&&typeof i=="function",h=d?Date.now()+ode:0;let g=0;const v=this.commonObjs,C=this.objs;let b,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(b=o[l],E=a[l]??null,b!==Yw.dependency)E===null?this[b](l):this[b](l,...E);else for(const I of E){(x=this.dependencyTracker)==null||x.recordNamedData(I,l);const T=I.startsWith("g_")?v:C;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>UK){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){U(this,$o,gD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),U(this,$o,mD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,V;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Xn(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(q),u||(u=new Map,this._cachedBitmapsMap.set(q,u));const J=u.get(d);if(J&&!o){const te=Math.round(Math.min(l[0],l[2])+l[4]),he=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,Na.transformAndFill),{canvas:J,offsetX:te,offsetY:he}}h=J}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),DK(g.context,t));let v=Ke.transform(l,[1/r,0,0,-1/s,0,0]);v=Ke.transform(v,[1,0,0,1,0,-s]);const C=Yg.slice();Ke.axialAlignedBoundingBox([0,0,r,s],v,C);const[b,E,x,I]=C,T=Math.round(x-b)||1,R=Math.round(I-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=P.context,Q=b,H=E;D.translate(-Q,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,aA(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=NK(Xn(D),t.interpolate),zS(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const k=Ke.transform(aA(D),[1,0,0,1,-Q,-H]);return D.fillStyle=o?a.getPattern(i,this,k,_r.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,P.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,Na.transformAndFill),{canvas:P.canvas,offsetX:Math.round(Q),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=ude[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=cde[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),D0(this.suspendedCtx,a),Ade(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,C=u-h;if(a)if(v<0||C<0||v+i>g.width||C+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-v,-C),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,v=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,C,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,C,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,i,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,v,C,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&D0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&D0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Yw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=k6(s)),Ke.axialAlignedBoundingBox(r,Xn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,aA(r),_r.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Na.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(_r.STROKE,Xn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,aA(r),_r.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Na.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,Na.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=dde}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=LK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||NR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&dt("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<FK?d=FK:i>MK&&(d=MK),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var x,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&vr.FILL_STROKE_MASK,v=!!(d&vr.ADD_TO_PATH_FLAG),C=l.patternFill&&!u.missingFile,b=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||C||b)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||C||b)){o.save(),o.translate(i,r),o.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let P;if(g===vr.FILL||g===vr.FILL_STROKE)if(s){P=o.getTransform(),o.setTransform(...s);const D=U(this,$o,vD).call(this,E,P,s);o.fill(D)}else o.fill(E);if(g===vr.STROKE||g===vr.FILL_STROKE)if(a){P||(P=o.getTransform()),o.setTransform(...a);const{a:D,b:Q,c:H,d:k}=P,K=Ke.inverseTransform(a),V=Ke.transform([D,Q,H,k,0,0],K);Ke.singularValueDecompose2dScale(V,pa),o.lineWidth*=Math.max(pa[0],pa[1])/h,o.stroke(U(this,$o,vD).call(this,E,P,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===vr.FILL||g===vr.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===vr.STROKE||g===vr.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,Na.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Xn(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return ft(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,k,K,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Na.showText).resetBBox(e),this.current.textRenderingMode&vr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,C=v?1:-1,b=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===vr.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const q=i.fillColor.getPattern(a,this,aA(a),_r.FILL,e);I=Xn(a),a.restore(),a.fillStyle=q}if(i.patternStroke){a.save();const q=i.strokeColor.getPattern(a,this,aA(a),_r.STROKE,e);T=Xn(a),a.restore(),a.strokeStyle=q}let R=i.lineWidth;const P=i.textMatrixScale;if(P===0||R===0){const q=i.textRenderingMode&vr.FILL_STROKE_MASK;(q===vr.STROKE||q===vr.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=P;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const q=[];let J=0;for(const he of t)q.push(he.unicode),J+=he.width;const te=q.join("");if(a.fillText(te,0,0),this.dependencyTracker!==null){const he=a.measureText(te);this.dependencyTracker.recordBBox(e,this.ctx,-he.actualBoundingBoxLeft,he.actualBoundingBoxRight,-he.actualBoundingBoxAscent,he.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=J*E*h,a.restore(),this.compose();return}let D=0,Q;for(Q=0;Q<g;++Q){const q=t[Q];if(typeof q=="number"){D+=C*q*s/1e3;continue}let J=!1;const te=(q.isSpace?u:0)+l,he=q.fontChar,G=q.accent;let $,re,de=q.width;if(v){const X=q.vmetric||b,oe=-(q.vmetric?X[1]:de*.5)*E,me=X[2]*E;de=X?-X[0]:de,$=oe/o,re=(D+me)/o}else $=D/o,re=0;let Ce;if(r.remeasure&&de>0){Ce=a.measureText(he);const X=Ce.width*1e3/s*o;if(de<X&&this.isFontSubpixelAAEnabled){const oe=de/X;J=!0,a.save(),a.scale(oe,1),$/=oe}else de!==X&&($+=(de-X)/2e3*s/o)}if(this.contentVisible&&(q.isInFont||r.missingFile)){if(x&&!G)a.fillText(he,$,re),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,Ce?{bbox:null}:r,s/o,$,re,()=>Ce??a.measureText(he));else if(this.paintChar(e,he,$,re,I,T),G){const X=$+s*G.offset.x/o,oe=re-s*G.offset.y/o;this.paintChar(e,G.fontChar,X,oe,I,T)}}const z=v?de*E-te*d:de*E+te*d;D+=z,J&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||NR,v=t.length,C=r.textRenderingMode===vr.INVISIBLE;let b,E,x,I;if(C||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new rT(T,e):null,b=0;b<v;++b){if(E=t[b],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,P=s.charProcOperatorList[E.operatorListId];P?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(P),this.restore()):dt(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];Ke.applyTransform(D,g),x=D[0]*a+R,i.translate(x,0),r.x+=x*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||Xn(this.ctx),s={createCanvasGraphics:(a,o)=>new OO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rT(this.dependencyTracker,o,!0):null)};i=new pD(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=sde(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,aA(i),_r.SHADING,e);const s=aA(i);if(s){const{width:o,height:l}=i.canvas,u=Yg.slice();Ke.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Na.transform).recordDependencies(e,Na.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){En("Should not call beginInlineImage")}beginImageData(){En("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Xn(this.ctx),i)){Ke.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||V1("TODO: Support non-isolated groups."),t.knockout&&dt("Knockout groups not supported.");const r=Xn(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Yg.slice();Ke.axialAlignedBoundingBox(t.bbox,Xn(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=Ke.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let C=new Path2D;const[b,E,x,I]=t.bbox;if(C.rect(b,E,x-b,I-E),t.matrix){const R=new Path2D;R.addPath(C,new DOMMatrix(t.matrix)),C=R}v.clip(C),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),D0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Xn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Yg.slice();Ke.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(U(this,$o,gD).call(this),qS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,Ke.singularValueDecompose2dScale(Xn(this.ctx),pa);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(pa[0],0,0,-pa[1],0,l*pa[1]),qS(this.ctx)}else{qS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),U(this,$o,mD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=Xn(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let C=0,b=o.length;C<b;C+=2){const E=Ke.transform(u,[i,r,s,a,o[C],o[C+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Na.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,C=this.cachedCanvases.getCanvas("maskCanvas",h,g),b=C.context;b.save();const E=this.getObject(e,d,u);DK(b,E),b.globalCompositeOperation="source-in",b.fillStyle=s?r.getPattern(b,this,aA(i),_r.FILL,e):r,b.fillRect(0,0,h,g),b.restore(),i.save(),i.transform(...v),i.scale(1,-1),zS(i,C.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){dt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){dt("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;RK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,aA(s));s.imageSmoothingEnabled=NK(Xn(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,Na.imageXObject).recordOperation(e),zS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;RK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),zS(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Na.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===LK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Xn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),AU.a=1/s,AU.d=1/a;const l=new Path2D;if(l.addPath(e,AU),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};$o=new WeakSet,gD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},vD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let om=OO;for(const n in Yw)om.prototype[n]!==void 0&&(om.prototype[Yw[n]]=om.prototype[n]);var Hx,aC,oC;let pu=(Hx=class{static get workerPort(){return f(this,aC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,aC,e)}static get workerSrc(){return f(this,oC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,oC,e)}},aC=new WeakMap,oC=new WeakMap,M(Hx,aC,null),M(Hx,oC,""),Hx);var Wm,AC;class fde{constructor({parsedData:e,rawData:t}){M(this,Wm);M(this,AC);_(this,Wm,e),_(this,AC,t)}getRaw(){return f(this,AC)}get(e){return f(this,Wm).get(e)??null}[Symbol.iterator](){return f(this,Wm).entries()}}Wm=new WeakMap,AC=new WeakMap;const kg=Symbol("INTERNAL");var lC,uC,cC,Ym;class hde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){M(this,lC,!1);M(this,uC,!1);M(this,cC,!1);M(this,Ym,!0);_(this,lC,!!(e&ha.DISPLAY)),_(this,uC,!!(e&ha.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,cC))return f(this,Ym);if(!f(this,Ym))return!1;const{print:e,view:t}=this.usage;return f(this,lC)?(t==null?void 0:t.viewState)!=="OFF":f(this,uC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==kg&&En("Internal method `_setVisible` called."),_(this,cC,i),_(this,Ym,t)}}lC=new WeakMap,uC=new WeakMap,cC=new WeakMap,Ym=new WeakMap;var nd,pn,Xm,Jm,dC,yD;class pde{constructor(e,t=ha.DISPLAY){M(this,dC);M(this,nd,null);M(this,pn,new Map);M(this,Xm,null);M(this,Jm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Jm,e.order);for(const i of e.groups)f(this,pn).set(i.id,new hde(t,i));if(e.baseState==="OFF")for(const i of f(this,pn).values())i._setVisible(kg,!1);for(const i of e.on)f(this,pn).get(i)._setVisible(kg,!0);for(const i of e.off)f(this,pn).get(i)._setVisible(kg,!1);_(this,Xm,this.getHash())}}isVisible(e){if(f(this,pn).size===0)return!0;if(!e)return V1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,pn).has(e.id)?f(this,pn).get(e.id).visible:(dt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return U(this,dC,yD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,pn).has(t))return dt(`Optional content group not found: ${t}`),!0;if(f(this,pn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,pn).has(t))return dt(`Optional content group not found: ${t}`),!0;if(!f(this,pn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,pn).has(t))return dt(`Optional content group not found: ${t}`),!0;if(!f(this,pn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,pn).has(t))return dt(`Optional content group not found: ${t}`),!0;if(f(this,pn).get(t).visible)return!1}return!0}return dt(`Unknown optional content policy ${e.policy}.`),!0}return dt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,pn).get(e);if(!r){dt(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,pn).get(o))==null||s._setVisible(kg,!1,!0));r._setVisible(kg,!!t,!0),_(this,nd,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,pn).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,nd,null)}get hasInitialVisibility(){return f(this,Xm)===null||this.getHash()===f(this,Xm)}getOrder(){return f(this,pn).size?f(this,Jm)?f(this,Jm).slice():[...f(this,pn).keys()]:null}getGroup(e){return f(this,pn).get(e)||null}getHash(){if(f(this,nd)!==null)return f(this,nd);const e=new vj;for(const[t,i]of f(this,pn))e.update(`${t}:${i.visible}`);return _(this,nd,e.hexdigest())}[Symbol.iterator](){return f(this,pn).entries()}}nd=new WeakMap,pn=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,dC=new WeakSet,yD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=U(this,dC,yD).call(this,s);else if(f(this,pn).has(s))a=f(this,pn).get(s).visible;else return dt(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class gde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Dt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Dt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Dt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new mde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new vde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class mde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=LQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class vde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function yde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=YB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,b,E,x]=g;if(b=parseInt(b,10),b in h){if(b===0)break;continue}h[b]=[E,x]}const C=[];for(let b=0;b<h.length&&b in h;++b){let[E,x]=h[b];x=o(x),E&&(x=unescape(x),b===0&&(x=l(x))),C.push(x)}return C.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),C=d.slice(h+1).replace(/^[^']*'/,"");return r(g,C)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,C){if(v==="q"||v==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(g,C);try{C=atob(C)}catch{}return r(g,C)})}return""}function Fj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function G1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Mj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Uj(n){const e=n.get("Content-Disposition");if(e){let t=yde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(LQ(t))return t}return null}function tE(n,e){return new eT(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Pj(n){return n===200||n===206}function Rj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Dj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(dt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class wde{constructor(e){we(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Fj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Dt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Cde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,Rj(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=G1(s.url),!Pj(s.status))throw tE(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Mj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Uj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Dj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Cde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,Rj(s,this._withCredentials,this._abortController)).then(o=>{const l=G1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Pj(o.status))throw tE(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Dj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const lU=200,uU=206;function Bde(n){const e=n.response;return typeof e!="string"?e:YB(e).buffer}class Ede{constructor({url:e,httpHeaders:t,withCredentials:i}){we(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Fj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=uU):r.expectedStatus=lU,t.responseType="arraybuffer",Dt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||lU;if(!(s===lU&&i.expectedStatus===uU)&&s!==i.expectedStatus){i.onError(r.status);return}const o=Bde(r);if(s===uU){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(dt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Sde{constructor(e){this._source=e,this._manager=new Ede(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Dt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new _de(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class xde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=G1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Mj({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Uj(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=tE(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _de{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=G1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=tE(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Tde=/^[a-z][a-z0-9\-+.]+:/i;function Ide(n){if(Tde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Fde{constructor(e){this.source=e,this.url=Ide(e.url),Dt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Dt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Mde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Ude(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Mde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=tE(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ude{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const N0=Symbol("INITIAL_DATA");var Zs,fC,wD;class Nj{constructor(){M(this,fC);M(this,Zs,Object.create(null))}get(e,t=null){if(t){const r=U(this,fC,wD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,Zs)[e];if(!i||i.data===N0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,Zs)[e];return!!t&&t.data!==N0}delete(e){const t=f(this,Zs)[e];return!t||t.data===N0?!1:(delete f(this,Zs)[e],!0)}resolve(e,t=null){const i=U(this,fC,wD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,Zs)){const{data:i}=f(this,Zs)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,Zs,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Zs)){const{data:t}=f(this,Zs)[e];t!==N0&&(yield[e,t])}}}Zs=new WeakMap,fC=new WeakSet,wD=function(e){var t;return(t=f(this,Zs))[e]||(t[e]={...Promise.withResolvers(),data:N0})};const Pde=1e5,QK=30;var N$,id,_s,hC,pC,Eh,Hl,gC,mC,Sh,Zm,ev,rd,tv,vC,nv,xh,yC,wC,ci,iv,_h,bC,sd,rv,Hu,Lj,Qj,CD,Ca,i_,BD,kj,Oj;let bD=(ci=class{constructor({textContentSource:e,container:t,viewport:i}){M(this,Hu);M(this,id,Promise.withResolvers());M(this,_s,null);M(this,hC,!1);M(this,pC,!!((N$=globalThis.FontInspector)!=null&&N$.enabled));M(this,Eh,null);M(this,Hl,null);M(this,gC,0);M(this,mC,0);M(this,Sh,null);M(this,Zm,null);M(this,ev,0);M(this,rd,0);M(this,tv,Object.create(null));M(this,vC,[]);M(this,nv,null);M(this,xh,[]);M(this,yC,new WeakMap);M(this,wC,null);var l;if(e instanceof ReadableStream)_(this,nv,e);else if(typeof e=="object")_(this,nv,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,_s,_(this,Zm,t)),_(this,rd,i.scale*Tp.pixelRatio),_(this,ev,i.rotation),_(this,Hl,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,wC,[1,0,0,-1,-a,o+s]),_(this,mC,r),_(this,gC,s),U(l=ci,Ca,kj).call(l),_p(t,i),f(this,id).promise.finally(()=>{f(ci,rv).delete(this),_(this,Hl,null),_(this,tv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Pr.platform;return ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Sh).read().then(({value:t,done:i})=>{if(i){f(this,id).resolve();return}f(this,Eh)??_(this,Eh,t.lang),Object.assign(f(this,tv),t.styles),U(this,Hu,Lj).call(this,t.items),e()},f(this,id).reject)};return _(this,Sh,f(this,nv).getReader()),f(ci,rv).add(this),e(),f(this,id).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Tp.pixelRatio,r=e.rotation;if(r!==f(this,ev)&&(t==null||t(),_(this,ev,r),_p(f(this,Zm),{rotation:r})),i!==f(this,rd)){t==null||t(),_(this,rd,i);const a={div:null,properties:null,ctx:U(s=ci,Ca,i_).call(s,f(this,Eh))};for(const o of f(this,xh))a.properties=f(this,yC).get(o),a.div=o,U(this,Hu,CD).call(this,a)}}cancel(){var t;const e=new Zd("TextLayer task cancelled.");(t=f(this,Sh))==null||t.cancel(e).catch(()=>{}),_(this,Sh,null),f(this,id).reject(e)}get textDivs(){return f(this,xh)}get textContentItemsStr(){return f(this,vC)}static cleanup(){if(!(f(this,rv).size>0)){f(this,iv).clear();for(const{canvas:e}of f(this,_h).values())e.remove();f(this,_h).clear()}}},id=new WeakMap,_s=new WeakMap,hC=new WeakMap,pC=new WeakMap,Eh=new WeakMap,Hl=new WeakMap,gC=new WeakMap,mC=new WeakMap,Sh=new WeakMap,Zm=new WeakMap,ev=new WeakMap,rd=new WeakMap,tv=new WeakMap,vC=new WeakMap,nv=new WeakMap,xh=new WeakMap,yC=new WeakMap,wC=new WeakMap,iv=new WeakMap,_h=new WeakMap,bC=new WeakMap,sd=new WeakMap,rv=new WeakMap,Hu=new WeakSet,Lj=function(e){var r,s;if(f(this,hC))return;(s=f(this,Hl)).ctx??(s.ctx=U(r=ci,Ca,i_).call(r,f(this,Eh)));const t=f(this,xh),i=f(this,vC);for(const a of e){if(t.length>Pde){dt("Ignoring additional textDivs for performance reasons."),_(this,hC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,_s);_(this,_s,document.createElement("span")),f(this,_s).classList.add("markedContent"),a.id&&f(this,_s).setAttribute("id",`${a.id}`),o.append(f(this,_s))}else a.type==="endMarkedContent"&&_(this,_s,f(this,_s).parentNode);continue}i.push(a.str),U(this,Hu,Qj).call(this,a)}},Qj=function(e){var b;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,xh).push(t);const r=Ke.transform(f(this,wC),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,tv)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,pC)&&a.fontSubstitution||a.fontFamily;o=ci.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*U(b=ci,Ca,Oj).call(b,o,a,f(this,Eh));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,_s)===f(this,Zm)?(v.left=`${(100*d/f(this,mC)).toFixed(2)}%`,v.top=`${(100*h/f(this,gC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(ci,sd)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,pC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(C=!0)}if(C&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,yC).set(t,i),f(this,Hl).div=t,f(this,Hl).properties=i,U(this,Hu,CD).call(this,f(this,Hl)),i.hasText&&f(this,_s).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,_s).append(E)}},CD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f(ci,sd)>1&&(a=`scale(${1/f(ci,sd)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;U(o=ci,Ca,BD).call(o,r,d*f(this,rd),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,rd)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ca=new WeakSet,i_=function(e=null){let t=f(this,_h).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,_h).set(e,t),f(this,bC).set(t,{size:0,family:""})}return t},BD=function(e,t,i){const r=f(this,bC).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},kj=function(){if(f(this,sd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,sd,e.getBoundingClientRect().height),e.remove()},Oj=function(e,t,i){const r=f(this,iv).get(e);if(r)return r;const s=U(this,Ca,i_).call(this,i);s.canvas.width=s.canvas.height=QK,U(this,Ca,BD).call(this,s,QK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Pr.platform.isFirefox&&dt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,iv).set(e,u),u},M(ci,Ca),M(ci,iv,new Map),M(ci,_h,new Map),M(ci,bC,new WeakMap),M(ci,sd,null),M(ci,rv,new Set),ci);const Rde=100;function HQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new ED,{docId:t}=e,i=n.url?Hce(n.url):null,r=n.data?Vce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Hj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof SD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!K1(n.docBaseUrl)?n.docBaseUrl:null,v=HS(n.cMapUrl),C=n.cMapPacked!==!1,b=n.CMapReaderFactory||(ss?Yce:EK),E=HS(n.iccUrl),x=HS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(ss?Xce:SK),T=HS(n.wasmUrl),R=n.WasmFactory||(ss?Jce:xK),P=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,Q=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!ss,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!ss&&(Pr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:ss,q=n.fontExtraProperties===!0,J=n.enableXfa===!0,te=n.ownerDocument||globalThis.document,he=n.disableRange===!0,G=n.disableStream===!0,$=n.disableAutoFetch===!0,re=n.pdfBug===!0,de=n.CanvasFactory||(ss?Wce:qce),Ce=n.FilterFactory||(ss?jce:$ce),z=n.enableHWA===!0,X=n.useWasm!==!1,oe=l?l.length:n.length??NaN,me=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!ss&&!V,Se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===EK&&I===SK&&R===xK&&v&&x&&T&&ew(v,document.baseURI)&&ew(x,document.baseURI)&&ew(T,document.baseURI)),_e=null;pce(h);const Be={canvasFactory:new de({ownerDocument:te,enableHWA:z}),filterFactory:new Ce({docId:t,ownerDocument:te}),cMapReaderFactory:Se?null:new b({baseUrl:v,isCompressed:C}),standardFontDataFactory:Se?null:new I({baseUrl:x}),wasmFactory:Se?null:new R({baseUrl:T})};d||(d=SD.create({verbosity:h,port:pu.workerPort}),e._worker=d);const Je={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:oe,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:P,isEvalSupported:Q,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:q,useSystemFonts:me,useWasm:X,useWorkerFetch:Se,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},ie={ownerDocument:te,pdfBug:re,styleElement:_e,loadingParams:{disableAutoFetch:$,enableXfa:J}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Pe=d.messageHandler.sendWithPromise("GetDocRequest",Je,r?[r.buffer]:null);let Ge;if(l)Ge=new gde(l,{disableRange:he,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ye=ew(i)?wde:ss?Fde:Sde;Ge=new ye({url:i,length:oe,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:he,disableStream:G})}return Pe.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Nt=new Aw(t,ye,d.port),Ze=new Lde(Nt,e,Ge,ie,Be,z);e._transport=Ze,Nt.send("Ready",null)})}).catch(e._capability.reject),e}var w1;const b1=class b1{constructor(){we(this,"_capability",Promise.withResolvers());we(this,"_transport",null);we(this,"_worker",null);we(this,"docId",`d${gi(b1,w1)._++}`);we(this,"destroyed",!1);we(this,"onPassword",null);we(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};w1=new WeakMap,M(b1,w1,0);let ED=b1;var Th,CC,BC,EC,SC,L$;let Hj=(L$=class{constructor(e,t,i=!1,r=null){M(this,Th,Promise.withResolvers());M(this,CC,[]);M(this,BC,[]);M(this,EC,[]);M(this,SC,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,SC).push(e)}addProgressListener(e){f(this,EC).push(e)}addProgressiveReadListener(e){f(this,BC).push(e)}addProgressiveDoneListener(e){f(this,CC).push(e)}onDataRange(e,t){for(const i of f(this,SC))i(e,t)}onDataProgress(e,t){f(this,Th).promise.then(()=>{for(const i of f(this,EC))i(e,t)})}onDataProgressiveRead(e){f(this,Th).promise.then(()=>{for(const t of f(this,BC))t(e)})}onDataProgressiveDone(){f(this,Th).promise.then(()=>{for(const e of f(this,CC))e()})}transportReady(){f(this,Th).resolve()}requestDataRange(e,t){En("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Th=new WeakMap,CC=new WeakMap,BC=new WeakMap,EC=new WeakMap,SC=new WeakMap,L$);class Dde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Vl,Ih,fw;class Nde{constructor(e,t,i,r=!1){M(this,Ih);M(this,Vl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new mK:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Nj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new JB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Rc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:C=null}){var k,K,V;(k=this._stats)==null||k.time("Overall");const b=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:x}=b;_(this,Vl,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(x);I||(I=Object.create(null),this._intentStates.set(x,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&ha.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(b));const R=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),P=!this.recordedBBoxes&&(v||R),D=q=>{var J,te;if(I.renderTasks.delete(Q),P){const he=(J=Q.gfx)==null?void 0:J.dependencyTracker.take();he&&(Q.stepper&&Q.stepper.setOperatorBBoxes(he,Q.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=he))}T&&_(this,Vl,!0),U(this,Ih,fw).call(this),q?(Q.capability.reject(q),this._abortOperatorList({intentState:I,reason:q instanceof Error?q:new Error(q)})):Q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(te=globalThis.Stats)!=null&&te.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Q=new xD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:P?new ede(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:C});(I.renderTasks||(I.renderTasks=new Set)).add(Q);const H=Q.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([q,J])=>{var te;if(this.destroyed){D();return}if((te=this._stats)==null||te.time("Rendering"),!(J.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Q.initializeGraphics({transparency:q,optionalContentConfig:J}),Q.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=Rc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Xw.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,Vl,!1),Promise.all(e)}cleanup(e=!1){_(this,Vl,!0);const t=U(this,Ih,fw).call(this);return e&&t&&this._stats&&(this._stats=new mK),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&U(this,Ih,fw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();U(this,Ih,fw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof NQ){let r=Rde;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Zd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Vl=new WeakMap,Ih=new WeakSet,fw=function(){if(!f(this,Vl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Vl,!1),!0};var ad,Mo,Kl,Fh,Cn,C1,Mh,Uh,ls,r_,Vj,Kj,hw,sv,s_;let SD=(Cn=class{constructor({name:e=null,port:t=null,verbosity:i=gce()}={}){M(this,ls);M(this,ad,Promise.withResolvers());M(this,Mo,null);M(this,Kl,null);M(this,Fh,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(Cn,Uh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(Cn,Uh).set(t,this),U(this,ls,Vj).call(this,t)}else U(this,ls,Kj).call(this)}get promise(){return f(this,ad).promise}get port(){return f(this,Kl)}get messageHandler(){return f(this,Mo)}destroy(){var e,t;this.destroyed=!0,(e=f(this,Fh))==null||e.terminate(),_(this,Fh,null),f(Cn,Uh).delete(f(this,Kl)),_(this,Kl,null),(t=f(this,Mo))==null||t.destroy(),_(this,Mo,null)}static create(e){const t=f(this,Uh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Cn(e)}static get workerSrc(){if(pu.workerSrc)return pu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ft(this,"_setupFakeWorkerGlobal",(async()=>f(this,sv,s_)?f(this,sv,s_):(await import(this.workerSrc)).WorkerMessageHandler)())}},ad=new WeakMap,Mo=new WeakMap,Kl=new WeakMap,Fh=new WeakMap,C1=new WeakMap,Mh=new WeakMap,Uh=new WeakMap,ls=new WeakSet,r_=function(){f(this,ad).resolve(),f(this,Mo).send("configure",{verbosity:this.verbosity})},Vj=function(e){_(this,Kl,e),_(this,Mo,new Aw("main","worker",e)),f(this,Mo).on("ready",()=>{}),U(this,ls,r_).call(this)},Kj=function(){if(f(Cn,Mh)||f(Cn,sv,s_)){U(this,ls,hw).call(this);return}let{workerSrc:e}=Cn;try{Cn._isSameOrigin(window.location,e)||(e=Cn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Aw("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,ad).reject(new Error("Worker was destroyed")):U(this,ls,hw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,Fh)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,Mo,i),_(this,Kl,t),_(this,Fh,t),U(this,ls,r_).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{U(this,ls,hw).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{V1("The worker has been disabled.")}U(this,ls,hw).call(this)},hw=function(){f(Cn,Mh)||(dt("Setting up fake worker."),_(Cn,Mh,!0)),Cn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,ad).reject(new Error("Worker was destroyed"));return}const t=new zce;_(this,Kl,t);const i=`fake${gi(Cn,C1)._++}`,r=new Aw(i+"_worker",i,t);e.setup(r,t),_(this,Mo,new Aw(i,i+"_worker",t)),U(this,ls,r_).call(this)}).catch(e=>{f(this,ad).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},sv=new WeakSet,s_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},M(Cn,sv),M(Cn,C1,0),M(Cn,Mh,!1),M(Cn,Uh,new WeakMap),ss&&(_(Cn,Mh,!0),pu.workerSrc||(pu.workerSrc="./pdf.worker.mjs")),Cn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},Cn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Cn.fromPort=e=>{if(Tce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Cn.create(e)},Cn);var Gl,BA,av,ov,zl,Ph,pw;class Lde{constructor(e,t,i,r,s,a){M(this,Ph);M(this,Gl,new Map);M(this,BA,new Map);M(this,av,new Map);M(this,ov,new Map);M(this,zl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Nj,this.fontLoader=new kce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return ft(this,"annotationStorage",new QQ)}getRenderingIntent(e,t=Rc.ENABLE,i=null,r=!1,s=!1){let a=ha.DISPLAY,o=aD;switch(e){case"any":a=ha.ANY;break;case"display":break;case"print":a=ha.PRINT;break;default:dt(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ha.PRINT&&i instanceof wj?i:this.annotationStorage;switch(t){case Rc.DISABLE:a+=ha.ANNOTATIONS_DISABLE;break;case Rc.ENABLE:break;case Rc.ENABLE_FORMS:a+=ha.ANNOTATIONS_FORMS;break;case Rc.ENABLE_STORAGE:a+=ha.ANNOTATIONS_STORAGE,o=l.serializable;break;default:dt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=ha.IS_EDITING),s&&(a+=ha.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,zl))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,BA).values())e.push(r._destroy());f(this,BA).clear(),f(this,av).clear(),f(this,ov).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Gl).clear(),this.filterFactory.destroy(),bD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Zd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Dt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Dt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Dt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Dt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Dde(i,this))}),e.on("DocException",i=>{t._capability.reject(bs(i))}),e.on("PasswordRequest",i=>{_(this,zl,Promise.withResolvers());try{if(!t.onPassword)throw bs(i);const r=s=>{s instanceof Error?f(this,zl).reject(s):f(this,zl).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,zl).reject(r)}return f(this,zl).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,BA).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;dt(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new oD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Oce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Dt(d,"The imageRef must be defined.");for(const g of f(this,BA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new AD(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,BA).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&dt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,av).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,ov).set(s.refStr,e);const a=new Nde(t,s,this,this._params.pdfBug);return f(this,BA).set(t,a),a});return f(this,av).set(t,r),r}getPageIndex(e){return lD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return U(this,Ph,pw).call(this,"GetFieldObjects")}hasJSActions(){return U(this,Ph,pw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return U(this,Ph,pw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return U(this,Ph,pw).call(this,"GetOptionalContentConfig").then(t=>new pde(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Gl).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new fde(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,Gl).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,BA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Gl).clear(),this.filterFactory.destroy(!0),bD.cleanup()}}cachedPageNumber(e){if(!lD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,ov).get(t)??null}}Gl=new WeakMap,BA=new WeakMap,av=new WeakMap,ov=new WeakMap,zl=new WeakMap,Ph=new WeakSet,pw=function(e,t=null){const i=f(this,Gl).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,Gl).set(e,r),r};var od;class Qde{constructor(e){M(this,od,null);we(this,"onContinue",null);we(this,"onError",null);_(this,od,e)}get promise(){return f(this,od).capability.promise}cancel(e=0){f(this,od).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,od).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,od);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}od=new WeakMap;var Ad,Rh;const Hf=class Hf{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:C=null}){M(this,Ad,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Qde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Hf,Rh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Hf,Rh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new om(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,Ad)&&(window.cancelAnimationFrame(f(this,Ad)),_(this,Ad,null)),f(Hf,Rh).delete(this._canvas),e||(e=new NQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Ad,window.requestAnimationFrame(()=>{_(this,Ad,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Hf,Rh).delete(this._canvas),this.callback())))}};Ad=new WeakMap,Rh=new WeakMap,M(Hf,Rh,new WeakSet);let xD=Hf;const Gj="5.4.449",kde="f44e5f0e6";var ea,Dh,Av,Oi,xC,lv,ql,_C,ld,Uo,Sr,TC,gn,_D,TD,ID,Uf,qj,Sc;let zj=(Sr=class{constructor({editor:e=null,uiManager:t=null}){M(this,gn);M(this,ea,null);M(this,Dh,null);M(this,Av);M(this,Oi,null);M(this,xC,!1);M(this,lv,!1);M(this,ql,null);M(this,_C);M(this,ld,null);M(this,Uo,null);var i,r;e?(_(this,lv,!1),_(this,ql,e)):_(this,lv,!0),_(this,Uo,(e==null?void 0:e._uiManager)||t),_(this,_C,f(this,Uo)._eventBus),_(this,Av,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,Uo))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(Sr,TC)||_(Sr,TC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ft(this,"_keyboardManager",new eE([[["Escape","mac+Escape"],Sr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Sr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Sr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Sr.prototype._moveToPrevious],[["Home","mac+Home"],Sr.prototype._moveToBeginning],[["End","mac+End"],Sr.prototype._moveToEnd]]))}renderButton(){const e=_(this,ea,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,ql)&&(e.ariaControls=`${f(this,ql).id}_colorpicker_dropdown`);const t=f(this,Uo)._signal;e.addEventListener("click",U(this,gn,Uf).bind(this),{signal:t}),e.addEventListener("keydown",U(this,gn,ID).bind(this),{signal:t});const i=_(this,Dh,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,Av),e.append(i),e}renderMainDropdown(){const e=_(this,Oi,U(this,gn,_D).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,ea)){U(this,gn,Uf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&U(this,gn,TD).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,gn,Sc)){U(this,gn,Uf).call(this,e);return}if(e.target===f(this,ea)){(t=f(this,Oi).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,Oi))==null?void 0:t.firstElementChild)||e.target===f(this,ea)){f(this,gn,Sc)&&this._hideDropdownFromKeyboard();return}f(this,gn,Sc)||U(this,gn,Uf).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,gn,Sc)){U(this,gn,Uf).call(this,e);return}(t=f(this,Oi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,gn,Sc)){U(this,gn,Uf).call(this,e);return}(t=f(this,Oi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Oi))==null||e.classList.add("hidden"),f(this,ea).ariaExpanded="false",(t=f(this,ld))==null||t.abort(),_(this,ld,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,lv)){if(!f(this,gn,Sc)){(e=f(this,ql))==null||e.unselect();return}this.hideDropdown(),f(this,ea).focus({preventScroll:!0,focusVisible:f(this,xC)})}}updateColor(e){if(f(this,Dh)&&(f(this,Dh).style.backgroundColor=e),!f(this,Oi))return;const t=f(this,Uo).highlightColors.values();for(const i of f(this,Oi).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,ea))==null||e.remove(),_(this,ea,null),_(this,Dh,null),(t=f(this,Oi))==null||t.remove(),_(this,Oi,null)}},ea=new WeakMap,Dh=new WeakMap,Av=new WeakMap,Oi=new WeakMap,xC=new WeakMap,lv=new WeakMap,ql=new WeakMap,_C=new WeakMap,ld=new WeakMap,Uo=new WeakMap,TC=new WeakMap,gn=new WeakSet,_D=function(){const e=document.createElement("div"),t=f(this,Uo)._signal;e.addEventListener("contextmenu",co,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,ql)&&(e.id=`${f(this,ql).id}_colorpicker_dropdown`);for(const[i,r]of f(this,Uo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(Sr,TC)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,Av),s.addEventListener("click",U(this,gn,TD).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",U(this,gn,ID).bind(this),{signal:t}),e},TD=function(e,t){t.stopPropagation(),f(this,_C).dispatch("switchannotationeditorparams",{source:this,type:Rt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},ID=function(e){Sr._keyboardManager.exec(this,e)},Uf=function(e){if(f(this,gn,Sc)){this.hideDropdown();return}if(_(this,xC,e.detail===0),f(this,ld)||(_(this,ld,new AbortController),window.addEventListener("pointerdown",U(this,gn,qj).bind(this),{signal:f(this,Uo).combinedSignal(f(this,ld))})),f(this,ea).ariaExpanded="true",f(this,Oi)){f(this,Oi).classList.remove("hidden");return}const t=_(this,Oi,U(this,gn,_D).call(this));f(this,ea).append(t)},qj=function(e){var t;(t=f(this,Oi))!=null&&t.contains(e.target)||this.hideDropdown()},Sc=function(){return f(this,Oi)&&!f(this,Oi).classList.contains("hidden")},M(Sr,TC,null),Sr);var EA,IC,uv,FC;const Vf=class Vf{constructor(e){M(this,EA,null);M(this,IC,null);M(this,uv,null);_(this,IC,e),_(this,uv,e._uiManager),f(Vf,FC)||_(Vf,FC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,EA))return f(this,EA);const{editorType:e,colorType:t,color:i}=f(this,IC),r=_(this,EA,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(Vf,FC)[e]),r.addEventListener("input",()=>{f(this,uv).updateParams(t,r.value)},{signal:f(this,uv)._signal}),r}update(e){f(this,EA)&&(f(this,EA).value=e)}destroy(){var e;(e=f(this,EA))==null||e.remove(),_(this,EA,null)}hideDropdown(){}};EA=new WeakMap,IC=new WeakMap,uv=new WeakMap,FC=new WeakMap,M(Vf,FC,null);let sT=Vf;function kK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function L0(n){return Math.max(0,Math.min(255,255*n))}class OK{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=L0(e),[e,e,e]}static G_HTML([e]){const t=kK(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(L0)}static RGB_HTML(e){return`#${e.map(kK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[L0(1-Math.min(1,e+r)),L0(1-Math.min(1,i+r)),L0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Ode{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){En("Abstract method `_createSVG` called.")}}let aT=class extends Ode{_createSVG(e){return document.createElementNS(gl,e)}};const Hde=9,Ip=new WeakSet,Vde=new Date().getTimezoneOffset()*60*1e3;class cU{static create(e){switch(e.data.annotationType){case Mi.LINK:return new VQ(e);case Mi.TEXT:return new Gde(e);case Mi.WIDGET:switch(e.data.fieldType){case"Tx":return new zde(e);case"Btn":return e.data.radioButton?new Wj(e):e.data.checkBox?new $de(e):new jde(e);case"Ch":return new Wde(e);case"Sig":return new qde(e)}return new Qp(e);case Mi.POPUP:return new MD(e);case Mi.FREETEXT:return new eW(e);case Mi.LINE:return new Xde(e);case Mi.SQUARE:return new Jde(e);case Mi.CIRCLE:return new Zde(e);case Mi.POLYLINE:return new tW(e);case Mi.CARET:return new tfe(e);case Mi.INK:return new KQ(e);case Mi.POLYGON:return new efe(e);case Mi.HIGHLIGHT:return new nW(e);case Mi.UNDERLINE:return new nfe(e);case Mi.SQUIGGLY:return new ife(e);case Mi.STRIKEOUT:return new rfe(e);case Mi.STAMP:return new iW(e);case Mi.FILEATTACHMENT:return new sfe(e);default:return new Zn(e)}}}var Nh,cv,Ya,MC,FD;const HO=class HO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){M(this,MC);M(this,Nh,null);M(this,cv,!1);M(this,Ya,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return HO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Ww}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Ww}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,Ya))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,Ya,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Nh)||_(this,Nh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&U(this,MC,FD).call(this,t);let r=((s=f(this,Ya))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,Ya).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,Ya,null),this.popup=null))}resetEdited(){var e;f(this,Nh)&&(U(this,MC,FD).call(this,f(this,Nh).rect),(e=f(this,Ya))==null||e.popup.resetEdited(),_(this,Nh,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Qp)&&!(this instanceof VQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof MD){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const I=`calc(${b}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof Wj){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case Rg.SOLID:a.borderStyle="solid";break;case Rg.DASHED:a.borderStyle="dashed";break;case Rg.BEVELED:dt("Unimplemented border style: beveled");break;case Rg.INSET:dt("Unimplemented border style: inset");break;case Rg.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(_(this,cv,!0),a.borderColor=Ke.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=Ke.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(C,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=OK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:OK[`${a}_rgb`](o)})};return ft(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,x,I]=e.subarray(2,6);if(r===b&&s===E&&t===x&&i===I)return}const{style:a}=this.container;let o;if(f(this,cv)){const{borderColor:b,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let b=2,E=e.length;b<E;b+=8){const x=e[b],I=e[b+1],T=e[b+2],R=e[b+3],P=d.createElement("rect"),D=(T-t)/l,Q=(s-I)/u,H=(x-T)/l,k=(I-R)/u;P.setAttribute("x",D),P.setAttribute("y",Q),P.setAttribute("width",H),P.setAttribute("height",k),v.append(P),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${Q}" width="${H}" height="${k}"/>`)}f(this,cv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,Ya,new MD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,Ya)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,Ya)}render(){En("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Ip.has(u)){dt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&Ip.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Nh=new WeakMap,cv=new WeakMap,Ya=new WeakMap,MC=new WeakSet,FD=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let Zn=HO;class Kde extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ma,Pf,$j,jj;class VQ extends Zn{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});M(this,ma);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(U(this,ma,$j).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(U(this,ma,jj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,ma,Pf).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),U(this,ma,Pf).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),U(this,ma,Pf).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),U(this,ma,Pf).call(this),!this._fieldObjects){dt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const C=this._fieldObjects[v]||[];for(const{id:b}of C)g.add(b)}for(const v of Object.values(this._fieldObjects))for(const C of v)g.has(C.id)===o&&l.push(C)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;u.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}default:continue}const C=document.querySelector(`[data-element-id="${v}"]`);if(C){if(!Ip.has(C)){dt(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ma=new WeakSet,Pf=function(){this.container.setAttribute("data-internal-link","")},$j=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},U(this,ma,Pf).call(this)},jj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),U(this,ma,Pf).call(this)};class Gde extends Zn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Qp extends Zn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Pr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Hde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(iU*r))||1,h=u/d;a=Math.min(r,l(h/iU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/iU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ke.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class zde extends Qp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ip.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,C=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let b=E=>{const{formattedValue:x}=d;x!=null&&(E.target.value=x),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var T;if(d.focused)return;const{target:I}=x;if(C&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(C)if(g==="time"){const P=new Date(R),D=[P.getHours(),P.getMinutes(),P.getSeconds()];I.value=D.map(Q=>Q.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Vde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const I={value(T){d.userValue=T.detail.value??"",C||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const P={formattedValue:R};C&&(P.value=R),e.setValue(t,P)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var Q;const{charLimit:R}=T.detail,{target:P}=T;if(R===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),P.value=d.userValue=D,e.setValue(t,{value:D}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(I,x)}),i.addEventListener("keydown",x=>{var R;d.commitKey=1;let I=-1;if(x.key==="Escape"?I=0:x.key==="Enter"&&!this.data.multiLine?I=2:x.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=x.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const E=b;b=null,i.addEventListener("blur",x=>{var R,P;if(!d.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=x;let{value:T}=I;if(C){if(T&&g==="time"){const D=T.split(":").map(Q=>parseInt(Q,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),E(x)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",x=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=x,{value:R,selectionStart:P,selectionEnd:D}=T;let Q=P,H=D;switch(x.inputType){case"deleteWordBackward":{const K=R.substring(0,P).match(/\w*[^\w]*$/);K&&(Q-=K[0].length);break}case"deleteWordForward":{const K=R.substring(P).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":P===D&&(Q-=1);break;case"deleteContentForward":P===D&&(H+=1);break}x.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:Q,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class qde extends Qp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $de extends Qp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ip.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Wj extends Qp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Ip.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jde extends VQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Wde extends Qp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ip.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,C=>C.selected).map(C=>C[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const b of r.options)b.selected=C.has(b.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,C=g.detail.remove;v[C].selected=!1,r.remove(C),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:C,exportValue:b}=g.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=C,x.value=b,E?E.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const C of v){const{displayValue:b,exportValue:E}=C,x=document.createElement("option");x.textContent=b,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const C of g.target.options)C.selected=v.has(C.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var UC,UD;class MD extends Zn{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Zn._hasPopupData(i)});M(this,UC);if(this.elements=r,a&&Zn._hasPopupData(i)){const o=this.popup=U(this,UC,UD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=U(this,UC,UD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Wg}${s}`).join(",")),this.container}}UC=new WeakSet,UD=function(){return new Yde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ta,ud,B1,E1,dv,fv,Ai,SA,cd,Lh,hv,pv,xA,na,$l,jl,li,Wl,dd,PC,Yl,gv,Qh,fd,tr,hd,Ct,a_,PD,RD,DD,o_,ND,Yj,Xj,Jj,Zj,A_,l_,LD;class Yde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){M(this,Ct);M(this,ta,null);M(this,ud,U(this,Ct,Jj).bind(this));M(this,B1,U(this,Ct,LD).bind(this));M(this,E1,U(this,Ct,l_).bind(this));M(this,dv,U(this,Ct,A_).bind(this));M(this,fv,null);M(this,Ai,null);M(this,SA,null);M(this,cd,null);M(this,Lh,null);M(this,hv,null);M(this,pv,null);M(this,xA,!1);M(this,na,null);M(this,$l,null);M(this,jl,null);M(this,li,null);M(this,Wl,null);M(this,dd,null);M(this,PC,null);M(this,Yl,null);M(this,gv,null);M(this,Qh,null);M(this,fd,!1);M(this,tr,null);M(this,hd,null);_(this,Ai,e),_(this,gv,r),_(this,SA,a),_(this,Yl,o),_(this,hv,l),_(this,fv,t),_(this,PC,u),_(this,pv,d),_(this,Lh,i),_(this,ta,g),_(this,tr,i[0]),_(this,cd,OR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(U(this,Ct,a_).call(this),f(this,Ai).hidden=!0,h&&U(this,Ct,A_).call(this))}renderCommentButton(){if(f(this,li)){f(this,li).parentNode||f(this,tr).container.after(f(this,li));return}if(f(this,Wl)||U(this,Ct,PD).call(this),!f(this,Wl))return;const{signal:e}=_(this,$l,new AbortController),t=f(this,tr).hasOwnCommentButton,i=()=>{f(this,ta).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,ta).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,ta).toggleCommentPopup(this,!1,!1)};if(t){_(this,li,f(this,tr).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,ud),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,li,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,tr).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),U(this,Ct,DD).call(this),U(this,Ct,RD).call(this),a.addEventListener("keydown",f(this,ud),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,tr).commentData;return e?f(this,hv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,li))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,tr).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,li)}get comment(){return f(this,hd)||_(this,hd,f(this,tr).commentText),f(this,hd)}set comment(e){e!==this.comment&&(f(this,tr).commentText=_(this,hd,e))}focus(){var e;(e=f(this,tr).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,tr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,li)&&(f(this,li).classList.toggle("selected",e),f(this,li).ariaExpanded=t)}setSelectedCommentButton(e){f(this,li).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,dd))return f(this,dd);const{x:e,y:t,height:i}=f(this,li).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,tr).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,dd,e)}hasDefaultPopupPosition(){return f(this,dd)===null}get commentButtonPosition(){return f(this,Wl)}get commentButtonWidth(){return f(this,li).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,dd)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,ta).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,na))return;const e=_(this,na,document.createElement("div"));if(e.className="popup",f(this,fv)){const s=e.style.outlineColor=Ke.makeHexColor(...f(this,fv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,gv))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,gv)}if(e.append(t),f(this,cd)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,cd).valueOf()})),s.dateTime=f(this,cd).toISOString(),t.append(s)}Q6({html:f(this,Ct,o_)||f(this,SA).str,dir:(r=f(this,SA))==null?void 0:r.dir,className:"popupContent"},e),f(this,Ai).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,ta)){i?(this.remove(),_(this,hd,null)):t&&(t.deleted?this.remove():(U(this,Ct,DD).call(this),_(this,hd,t.text))),e&&(_(this,Wl,null),U(this,Ct,PD).call(this),U(this,Ct,RD).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}U(this,Ct,a_).call(this),f(this,Qh)||_(this,Qh,{contentsObj:f(this,SA),richText:f(this,Yl)}),e&&_(this,jl,null),t&&t.text&&(_(this,Yl,U(this,Ct,Xj).call(this,t.text)),_(this,cd,OR.toDateObject(t.date)),_(this,SA,null)),(r=f(this,na))==null||r.remove(),_(this,na,null)}resetEdited(){var e;f(this,Qh)&&({contentsObj:gi(this,SA)._,richText:gi(this,Yl)._}=f(this,Qh),_(this,Qh,null),(e=f(this,na))==null||e.remove(),_(this,na,null),_(this,jl,null))}remove(){var e,t,i;if((e=f(this,$l))==null||e.abort(),_(this,$l,null),(t=f(this,na))==null||t.remove(),_(this,na,null),_(this,fd,!1),_(this,xA,!1),(i=f(this,li))==null||i.remove(),_(this,li,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,fd,this.isVisible),f(this,fd)&&(f(this,Ai).hidden=!0)}maybeShow(){f(this,ta)||(U(this,Ct,a_).call(this),f(this,fd)&&(f(this,na)||U(this,Ct,l_).call(this),_(this,fd,!1),f(this,Ai).hidden=!1))}get isVisible(){return f(this,ta)?!1:f(this,Ai).hidden===!1}}ta=new WeakMap,ud=new WeakMap,B1=new WeakMap,E1=new WeakMap,dv=new WeakMap,fv=new WeakMap,Ai=new WeakMap,SA=new WeakMap,cd=new WeakMap,Lh=new WeakMap,hv=new WeakMap,pv=new WeakMap,xA=new WeakMap,na=new WeakMap,$l=new WeakMap,jl=new WeakMap,li=new WeakMap,Wl=new WeakMap,dd=new WeakMap,PC=new WeakMap,Yl=new WeakMap,gv=new WeakMap,Qh=new WeakMap,fd=new WeakMap,tr=new WeakMap,hd=new WeakMap,Ct=new WeakSet,a_=function(){var t;if(f(this,$l))return;_(this,$l,new AbortController);const{signal:e}=f(this,$l);for(const i of this.trigger)i.addEventListener("click",f(this,dv),{signal:e}),i.addEventListener("pointerenter",f(this,E1),{signal:e}),i.addEventListener("pointerleave",f(this,B1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,Lh))(t=i.container)==null||t.addEventListener("keydown",f(this,ud),{signal:e})},PD=function(){const e=f(this,Lh).find(t=>t.hasCommentButton);e&&_(this,Wl,e._normalizePoint(e.commentButtonPosition))},RD=function(){if(f(this,tr).extraPopupElement&&!f(this,tr).editor)return;f(this,li)||this.renderCommentButton();const[e,t]=f(this,Wl),{style:i}=f(this,li);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},DD=function(){f(this,tr).extraPopupElement||(f(this,li)||this.renderCommentButton(),f(this,li).style.backgroundColor=this.commentButtonColor||"")},o_=function(){const e=f(this,Yl),t=f(this,SA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Yl).html||null},ND=function(){var e,t,i;return((i=(t=(e=f(this,Ct,o_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Yj=function(){var e,t,i;return((i=(t=(e=f(this,Ct,o_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Xj=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,Ct,Yj),fontSize:f(this,Ct,ND)?`calc(${f(this,Ct,ND)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Jj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,xA))&&U(this,Ct,A_).call(this)},Zj=function(){if(f(this,jl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,hv);let a=!!f(this,pv),o=a?f(this,pv):f(this,PC);for(const C of f(this,Lh))if(!o||Ke.intersect(C.data.rect,o)!==null){o=C.data.rect,a=!0;break}const l=Ke.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,jl,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Ai);v.left=`${f(this,jl)[0]}%`,v.top=`${f(this,jl)[1]}%`},A_=function(){if(f(this,ta)){f(this,ta).toggleCommentPopup(this,!1);return}_(this,xA,!f(this,xA)),f(this,xA)?(U(this,Ct,l_).call(this),f(this,Ai).addEventListener("click",f(this,dv)),f(this,Ai).addEventListener("keydown",f(this,ud))):(U(this,Ct,LD).call(this),f(this,Ai).removeEventListener("click",f(this,dv)),f(this,Ai).removeEventListener("keydown",f(this,ud)))},l_=function(){f(this,na)||this.render(),this.isVisible?f(this,xA)&&f(this,Ai).classList.add("focused"):(U(this,Ct,Zj).call(this),f(this,Ai).hidden=!1,f(this,Ai).style.zIndex=parseInt(f(this,Ai).style.zIndex)+1e3)},LD=function(){f(this,Ai).classList.remove("focused"),!(f(this,xA)||!this.isVisible)&&(f(this,Ai).hidden=!0,f(this,Ai).style.zIndex=parseInt(f(this,Ai).style.zIndex)-1e3)};class eW extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=pt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var RC;class Xde extends Zn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,RC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,RC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,RC)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap;var DC;class Jde extends Zn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,DC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,DC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,DC)}addHighlightArea(){this.container.classList.add("highlightArea")}}DC=new WeakMap;var NC;class Zde extends Zn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,NC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,NC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,NC)}addHighlightArea(){this.container.classList.add("highlightArea")}}NC=new WeakMap;var LC;class tW extends Zn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,LC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],C=t[3]-i[h+1];u.push(`${v},${C}`)}u=u.join(" ");const d=_(this,LC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,LC)}addHighlightArea(){this.container.classList.add("highlightArea")}}LC=new WeakMap;class efe extends tW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tfe extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var QC,kh,kC,QD;class KQ extends Zn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,kC);M(this,QC,null);M(this,kh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?pt.HIGHLIGHT:pt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=U(this,kC,QD).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,QC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const C=this.svgFactory.createElement(this.svgElementName);f(this,kh).push(C),C.setAttribute("points",r[g].join(",")),h.append(C)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,QC);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,kh).length;o<l;o++)f(this,kh)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=U(this,kC,QD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,kh)}addHighlightArea(){this.container.classList.add("highlightArea")}}QC=new WeakMap,kh=new WeakMap,kC=new WeakSet,QD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class nW extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=pt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class nfe extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class ife extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class rfe extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class iW extends Zn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=pt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var OC,HC,kD;class sfe extends Zn{constructor(t){var r;super(t,{isRenderable:!0});M(this,HC);M(this,OC,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",U(this,HC,kD).bind(this)),_(this,OC,r);const{isMac:s}=Pr.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&U(this,HC,kD).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,OC)}addHighlightArea(){this.container.classList.add("highlightArea")}}OC=new WeakMap,HC=new WeakSet,kD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Oh,Hh,mv,pd,VC,Vh,ia,KC,_u,u_,OD,vv;let afe=(vv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){M(this,_u);M(this,Oh,null);M(this,Hh,null);M(this,mv,null);M(this,pd,new Map);M(this,VC,null);M(this,Vh,null);M(this,ia,[]);M(this,KC,!1);this.div=e,_(this,Oh,t),_(this,Hh,i),_(this,VC,o||null),_(this,Vh,u||null),_(this,mv,d||new QQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,pd).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;_p(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,Vh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new aT,annotationStorage:f(this,mv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Mi.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=cU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,ia).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,pd).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await U(this,_u,u_).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=cU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Wg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}U(this,_u,OD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Vh),svgFactory:new aT,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=vv._defaultBorderStyle),t.data=i;const r=cU.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Wg}${i.id}`,f(this,ia).push(r))}await U(this,_u,u_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,_p(t,{rotation:e.rotation}),U(this,_u,OD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,pd).values())}getEditableAnnotation(e){return f(this,pd).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Kde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Vh),annotationStorage:f(this,mv)});return s.render(),s.contentElement.id=`${Wg}${i}`,s.createOrUpdatePopup(),f(this,ia).push(s),s}removeAnnotation(e){var r;const t=f(this,ia).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,ia).splice(t,1);(r=f(this,Oh))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);U(this,_u,u_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return ft(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Rg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Oh=new WeakMap,Hh=new WeakMap,mv=new WeakMap,pd=new WeakMap,VC=new WeakMap,Vh=new WeakMap,ia=new WeakMap,KC=new WeakMap,_u=new WeakSet,u_=async function(){var i,r,s;if(f(this,ia).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,KC)){_(this,KC,!0);for(const{contentElement:a,data:{id:o}}of f(this,ia)){const l=a.id=`${Wg}${o}`;e.push((i=f(this,VC))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,ia).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const C=u,b=o,E=(o+u)/2,x=v,I=h,T=(h+v)/2;if(E>=x&&T<=b)return-1;if(T>=C&&E<=I)return 1;const R=(a+l)/2,P=(d+g)/2;return R-P});const t=document.createDocumentFragment();for(const a of f(this,ia))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Oh))for(const a of f(this,ia))f(this,Oh).addPointerInTextLayer(a.contentElement,!1)},OD=function(){var t;if(!f(this,Hh))return;const e=this.div;for(const[i,r]of f(this,Hh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,pd).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,Hh).clear()},vv);const $S=/\r\n?|\n/g;var ra,GC,Kh,sa,Li,rW,sW,aW,c_,Tu,d_,f_,oW,VD,AW;const Nn=class Nn extends Pn{constructor(t){super({...t,name:"freeTextEditor"});M(this,Li);M(this,ra,"");M(this,GC,`${this.id}-editor`);M(this,Kh,null);M(this,sa);we(this,"_colorPicker",null);this.color=t.color||Nn._defaultColor||Pn._defaultLineColor,_(this,sa,t.fontSize||Nn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Nn.prototype,i=a=>a.isEmpty(),r=Jw.TRANSLATE_SMALL,s=Jw.TRANSLATE_BIG;return ft(this,"_keyboardManager",new eE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Pn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Rt.FREETEXT_SIZE:Nn._defaultFontSize=i;break;case Rt.FREETEXT_COLOR:Nn._defaultColor=i;break}}updateParams(t,i){switch(t){case Rt.FREETEXT_SIZE:U(this,Li,rW).call(this,i);break;case Rt.FREETEXT_COLOR:U(this,Li,sW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Rt.FREETEXT_SIZE,Nn._defaultFontSize],[Rt.FREETEXT_COLOR,Nn._defaultColor||Pn._defaultLineColor]]}get propertiesToUpdate(){return[[Rt.FREETEXT_SIZE,f(this,sa)],[Rt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new sT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Rt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Nn._internalPadding*t,-(Nn._internalPadding+f(this,sa))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Kh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Kh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,GC)),this._isDraggable=!0,(t=f(this,Kh))==null||t.abort(),_(this,Kh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,ra),i=_(this,ra,U(this,Li,aW).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,ra,s),!s){this.remove();return}U(this,Li,f_).call(this),this._uiManager.rebuild(this),U(this,Li,c_).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),U(this,Li,c_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Nn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,GC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,sa)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let C,b;switch(this.rotation){case 0:C=t+(o[0]-g)/d,b=i+this.height-(o[1]-v)/h;break;case 90:C=t+(o[0]-g)/d,b=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:C=t-this.width+(o[0]-g)/d,b=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:C=t+(o[0]-g-this.height*h)/d,b=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(C*s,b*a,l,u)}else this._moveAfterPaste(t,i);U(this,Li,f_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var C,b,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=U(C=Nn,Tu,VD).call(C,i.getData("text")||"").replaceAll($S,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll($S,"")),x!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===x){I=h;continue}I.push(U(b=Nn,Tu,d_).call(b,T))}}d.push(l.nodeValue.slice(0,u).replaceAll($S,""))}else if(l===this.editorDiv){let x=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(x=h),x.push(U(E=Nn,Tu,d_).call(E,T))}_(this,ra,`${d.join(`
`)}${s}${h.join(`
`)}`),U(this,Li,f_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const I=x.nodeValue.length;if(v<=I){g.setStart(x,v),g.setEnd(x,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Nn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof eW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:C,contentsObj:b,creationDate:E,modificationDate:x},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:pt.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(b==null?void 0:b.str)||null,richText:C,creationDate:E,modificationDate:x}}const a=await super.deserialize(t,i,r);return _(a,sa,t.fontSize),a.color=Ke.makeHexColor(...t.color),_(a,ra,U(o=Nn,Tu,VD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Pn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,sa),value:U(this,Li,oW).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!U(this,Li,AW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,sa)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,ra).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,ra)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ra=new WeakMap,GC=new WeakMap,Kh=new WeakMap,sa=new WeakMap,Li=new WeakSet,rW=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,sa))*this.parentScale),_(this,sa,s),U(this,Li,c_).call(this)},r=f(this,sa);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},sW=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aW=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(U(r=Nn,Tu,d_).call(r,s)),i=s);return t.join(`
`)},c_=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Tu=new WeakSet,d_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll($S,"")},f_=function(){if(this.editorDiv.replaceChildren(),!!f(this,ra))for(const t of f(this,ra).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},oW=function(){return f(this,ra).replaceAll(""," ")},VD=function(t){return t.replaceAll(" ","")},AW=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},M(Nn,Tu),we(Nn,"_freeTextDefaultContent",""),we(Nn,"_internalPadding",0),we(Nn,"_defaultColor",null),we(Nn,"_defaultFontSize",10),we(Nn,"_type","freetext"),we(Nn,"_editorType",pt.FREETEXT);let HD=Nn;class Oe{toSVGPath(){En("Abstract method `toSVGPath` must be implemented.")}get box(){En("Abstract getter `box` must be implemented.")}serialize(e,t){En("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}we(Oe,"PRECISION",1e-4);var aa,Po,yv,wv,_A,St,Gh,zh,zC,qC,bv,Cv,gd,$C,S1,x1,zi,gw,lW,uW,cW,dW,fW,hW;const bl=class bl{constructor({x:e,y:t},i,r,s,a,o=0){M(this,zi);M(this,aa);M(this,Po,[]);M(this,yv);M(this,wv);M(this,_A,[]);M(this,St,new Float32Array(18));M(this,Gh);M(this,zh);M(this,zC);M(this,qC);M(this,bv);M(this,Cv);M(this,gd,[]);_(this,aa,i),_(this,Cv,s*r),_(this,wv,a),f(this,St).set([NaN,NaN,NaN,NaN,e,t],6),_(this,yv,o),_(this,qC,f(bl,$C)*r),_(this,zC,f(bl,x1)*r),_(this,bv,r),f(this,gd).push(e,t)}isEmpty(){return isNaN(f(this,St)[8])}add({x:e,y:t}){var k;_(this,Gh,e),_(this,zh,t);const[i,r,s,a]=f(this,aa);let[o,l,u,d]=f(this,St).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,zC))return!1;const C=v-f(this,qC),b=C/v,E=b*h,x=b*g;let I=o,T=l;o=u,l=d,u+=E,d+=x,(k=f(this,gd))==null||k.push(e,t);const R=-x/C,P=E/C,D=R*f(this,Cv),Q=P*f(this,Cv);return f(this,St).set(f(this,St).subarray(2,8),0),f(this,St).set([u+D,d+Q],4),f(this,St).set(f(this,St).subarray(14,18),12),f(this,St).set([u-D,d-Q],16),isNaN(f(this,St)[6])?(f(this,_A).length===0&&(f(this,St).set([o+D,l+Q],2),f(this,_A).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+Q-r)/a),f(this,St).set([o-D,l-Q],14),f(this,Po).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-Q-r)/a)),f(this,St).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,St).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(x,E))<Math.PI/2?([o,l,u,d]=f(this,St).subarray(2,6),f(this,_A).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,St).subarray(14,18),f(this,Po).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,St).subarray(0,6),f(this,_A).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,St).subarray(12,18),f(this,Po).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,_A),t=f(this,Po);if(isNaN(f(this,St)[6])&&!this.isEmpty())return U(this,zi,lW).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);U(this,zi,cW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return U(this,zi,uW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new pW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,_A),t=f(this,Po),i=f(this,St),[r,s,a,o]=f(this,aa),l=new Float32Array((((h=f(this,gd))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,gd)[g]-r)/a,l[g+1]=(f(this,gd)[g+1]-s)/o;if(l[l.length-2]=(f(this,Gh)-r)/a,l[l.length-1]=(f(this,zh)-s)/o,isNaN(i[6])&&!this.isEmpty())return U(this,zi,dW).call(this,l);const u=new Float32Array(f(this,_A).length+24+f(this,Po).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=U(this,zi,hW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return U(this,zi,fW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,aa),f(this,bv),f(this,yv),f(this,wv))}};aa=new WeakMap,Po=new WeakMap,yv=new WeakMap,wv=new WeakMap,_A=new WeakMap,St=new WeakMap,Gh=new WeakMap,zh=new WeakMap,zC=new WeakMap,qC=new WeakMap,bv=new WeakMap,Cv=new WeakMap,gd=new WeakMap,$C=new WeakMap,S1=new WeakMap,x1=new WeakMap,zi=new WeakSet,gw=function(){const e=f(this,St).subarray(4,6),t=f(this,St).subarray(16,18),[i,r,s,a]=f(this,aa);return[(f(this,Gh)+(e[0]-t[0])/2-i)/s,(f(this,zh)+(e[1]-t[1])/2-r)/a,(f(this,Gh)+(t[0]-e[0])/2-i)/s,(f(this,zh)+(t[1]-e[1])/2-r)/a]},lW=function(){const[e,t,i,r]=f(this,aa),[s,a,o,l]=U(this,zi,gw).call(this);return`M${(f(this,St)[2]-e)/i} ${(f(this,St)[3]-t)/r} L${(f(this,St)[4]-e)/i} ${(f(this,St)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,St)[16]-e)/i} ${(f(this,St)[17]-t)/r} L${(f(this,St)[14]-e)/i} ${(f(this,St)[15]-t)/r} Z`},uW=function(e){const t=f(this,Po);e.push(`L${t[4]} ${t[5]} Z`)},cW=function(e){const[t,i,r,s]=f(this,aa),a=f(this,St).subarray(4,6),o=f(this,St).subarray(16,18),[l,u,d,h]=U(this,zi,gw).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},dW=function(e){const t=f(this,St),[i,r,s,a]=f(this,aa),[o,l,u,d]=U(this,zi,gw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,aa),f(this,bv),f(this,yv),f(this,wv))},fW=function(e,t){const i=f(this,Po);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},hW=function(e,t){const i=f(this,St).subarray(4,6),r=f(this,St).subarray(16,18),[s,a,o,l]=f(this,aa),[u,d,h,g]=U(this,zi,gw).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},M(bl,$C,8),M(bl,S1,2),M(bl,x1,f(bl,$C)+f(bl,S1));let oT=bl;var Bv,qh,Xl,jC,oa,WC,wi,_1,gW;class pW extends Oe{constructor(t,i,r,s,a,o){super();M(this,_1);M(this,Bv);M(this,qh,new Float32Array(4));M(this,Xl);M(this,jC);M(this,oa);M(this,WC);M(this,wi);_(this,wi,t),_(this,oa,i),_(this,Bv,r),_(this,WC,s),_(this,Xl,a),_(this,jC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],U(this,_1,gW).call(this,o);const[l,u,d,h]=f(this,qh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,wi)[4]} ${f(this,wi)[5]}`];for(let i=6,r=f(this,wi).length;i<r;i+=6){if(isNaN(f(this,wi)[i])){t.push(`L${f(this,wi)[i+4]} ${f(this,wi)[i+5]}`);continue}t.push(`C${f(this,wi)[i]} ${f(this,wi)[i+1]} ${f(this,wi)[i+2]} ${f(this,wi)[i+3]} ${f(this,wi)[i+4]} ${f(this,wi)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Oe._rescale(f(this,wi),t,s,o,-l),d=Oe._rescale(f(this,oa),t,s,o,-l);break;case 90:u=Oe._rescaleAndSwap(f(this,wi),t,i,o,l),d=Oe._rescaleAndSwap(f(this,oa),t,i,o,l);break;case 180:u=Oe._rescale(f(this,wi),r,i,-o,l),d=Oe._rescale(f(this,oa),r,i,-o,l);break;case 270:u=Oe._rescaleAndSwap(f(this,wi),r,s,-o,-l),d=Oe._rescaleAndSwap(f(this,oa),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,qh)}newOutliner(t,i,r,s,a,o=0){return new oT(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,qh),[l,u,d,h]=f(this,Bv),g=a*d,v=o*h,C=r*d+l,b=s*h+u,E=this.newOutliner({x:f(this,oa)[0]*g+C,y:f(this,oa)[1]*v+b},f(this,Bv),f(this,WC),t,f(this,jC),i??f(this,Xl));for(let x=2;x<f(this,oa).length;x+=2)E.add({x:f(this,oa)[x]*g+C,y:f(this,oa)[x+1]*v+b});return E.getOutlines()}}Bv=new WeakMap,qh=new WeakMap,Xl=new WeakMap,jC=new WeakMap,oa=new WeakMap,WC=new WeakMap,wi=new WeakMap,_1=new WeakSet,gW=function(t){const i=f(this,wi);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let C=6,b=i.length;C<b;C+=6){const E=i[C+4],x=i[C+5];isNaN(i[C])?(Ke.pointBoundingBox(E,x,a),l>x?(o=E,l=x):l===x&&(o=h(o,E)),d<x?(u=E,d=x):d===x&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ke.bezierBoundingBox(r,s,...i.slice(C,C+6),g),Ke.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=x}const v=f(this,qh);v[0]=a[0]-f(this,Xl),v[1]=a[1]-f(this,Xl),v[2]=a[2]-a[0]+2*f(this,Xl),v[3]=a[3]-a[1]+2*f(this,Xl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var YC,XC,JC,md,Ro,us,mW,h_,vW,yW,GD;class KD{constructor(e,t=0,i=0,r=!0){M(this,us);M(this,YC);M(this,XC);M(this,JC);M(this,md,[]);M(this,Ro,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:E,width:x,height:I}of e){const T=Math.floor((b-t)/a)*a,R=Math.ceil((b+x+t)/a)*a,P=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,Q=[T,P,D,!0],H=[R,P,D,!1];f(this,md).push(Q,H),Ke.rectBoundingBox(T,P,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,md).at(r?-1:-2),C=[v[0],v[2]];for(const b of f(this,md)){const[E,x,I,T]=b;!T&&r?x<g?(g=x,h=E):x===g&&(h=Math.max(h,E)):T&&!r&&(x<g?(g=x,h=E):x===g&&(h=Math.min(h,E))),b[0]=(E-u)/o,b[1]=(x-d)/l,b[2]=(I-d)/l}_(this,YC,new Float32Array([u,d,o,l])),_(this,XC,[h,g]),_(this,JC,C)}getOutlines(){f(this,md).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,md))t[3]?(e.push(...U(this,us,GD).call(this,t)),U(this,us,vW).call(this,t)):(U(this,us,yW).call(this,t),e.push(...U(this,us,GD).call(this,t)));return U(this,us,mW).call(this,e)}}YC=new WeakMap,XC=new WeakMap,JC=new WeakMap,md=new WeakMap,Ro=new WeakMap,us=new WeakSet,mW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let C;if(i.has(d))C=d;else if(i.has(h))C=h;else break;i.delete(C),[o,l,u,d,h]=C,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new ofe(r,f(this,YC),f(this,XC),f(this,JC))},h_=function(e){const t=f(this,Ro);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},vW=function([,e,t]){const i=U(this,us,h_).call(this,e);f(this,Ro).splice(i,0,[e,t])},yW=function([,e,t]){const i=U(this,us,h_).call(this,e);for(let r=i;r<f(this,Ro).length;r++){const[s,a]=f(this,Ro)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ro).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,Ro)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ro).splice(r,1);return}}},GD=function(e){const[t,i,r]=e,s=[[t,i,r]],a=U(this,us,h_).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,Ro)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var ZC,Ev;class ofe extends Oe{constructor(t,i,r,s){super();M(this,ZC);M(this,Ev);_(this,Ev,t),_(this,ZC,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,Ev)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,Ev)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,ZC)}get classNamesForOutlining(){return["highlightOutline"]}}ZC=new WeakMap,Ev=new WeakMap;class zD extends oT{newFreeDrawOutline(e,t,i,r,s,a){return new Afe(e,t,i,r,s,a)}}class Afe extends pW{newOutliner(e,t,i,r,s,a=0){return new zD(e,t,i,r,s,a)}}var Sv,eB,Jl,$h,tB,Ts,nB,iB,jh,Aa,la,Cr,xv,_v,Kr,Tv,Xa,rB,wt,qD,p_,wW,bW,CW,$D,Rf,ro,Og,BW,g_,m_,EW,SW,xW,_W,TW;const Yt=class Yt extends Pn{constructor(t){super({...t,name:"highlightEditor"});M(this,wt);M(this,Sv,null);M(this,eB,0);M(this,Jl);M(this,$h,null);M(this,tB,null);M(this,Ts,null);M(this,nB,null);M(this,iB,0);M(this,jh,null);M(this,Aa,null);M(this,la,null);M(this,Cr,!1);M(this,xv,null);M(this,_v,null);M(this,Kr,null);M(this,Tv,"");M(this,Xa);M(this,rB,"");this.color=t.color||Yt._defaultColor,_(this,Xa,t.thickness||Yt._defaultThickness),this.opacity=t.opacity||Yt._defaultOpacity,_(this,Jl,t.boxes||null),_(this,rB,t.methodOfCreation||""),_(this,Tv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,Cr,!0),U(this,wt,p_).call(this,t),U(this,wt,Rf).call(this)):f(this,Jl)&&(_(this,Sv,t.anchorNode),_(this,eB,t.anchorOffset),_(this,nB,t.focusNode),_(this,iB,t.focusOffset),U(this,wt,qD).call(this),U(this,wt,Rf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Yt.prototype;return ft(this,"_keyboardManager",new eE([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Cr)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Xa),methodOfCreation:f(this,rB)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Pn.initialize(t,i),Yt._defaultColor||(Yt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Rt.HIGHLIGHT_COLOR:Yt._defaultColor=i;break;case Rt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,_v)}get commentButtonPosition(){return f(this,xv)}updateParams(t,i){switch(t){case Rt.HIGHLIGHT_COLOR:U(this,wt,wW).call(this,i);break;case Rt.HIGHLIGHT_THICKNESS:U(this,wt,bW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,Yt._defaultColor],[Rt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Rt.HIGHLIGHT_THICKNESS,f(this,Xa)||Yt._defaultThickness],[Rt.HIGHLIGHT_FREE,f(this,Cr)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,la),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,tB))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,tB,new zj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,wt,m_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,U(this,wt,m_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){U(this,wt,$D).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,wt,Rf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?U(this,wt,$D).call(this):t&&(U(this,wt,Rf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,Cr)?(t=(t-this.rotation+360)%360,r=U(s=Yt,ro,Og).call(s,f(this,Aa).box,t)):r=U(a=Yt,ro,Og).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,la),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,Kr),{bbox:U(o=Yt,ro,Og).call(o,f(this,Ts).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,Tv)&&(t.setAttribute("aria-label",f(this,Tv)),t.setAttribute("role","mark")),f(this,Cr)?t.classList.add("free"):this.div.addEventListener("keydown",U(this,wt,BW).bind(this),{signal:this._uiManager._signal});const i=_(this,jh,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,$h),this.setDims(),z6(this,f(this,jh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:U(this,wt,g_).call(this,!0);break;case 1:case 3:U(this,wt,g_).call(this,!1);break}}select(){var t;super.select(),f(this,Kr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,Kr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{selected:!1}}),f(this,Cr)||U(this,wt,g_).call(this,!1))}get _mustFixPosition(){return!f(this,Cr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,la),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,Kr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=C=>{h.abort(),U(this,ro,_W).call(this,t,C)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",fi,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",co,{signal:g}),r.addEventListener("pointermove",U(this,ro,xW).bind(this,t),{signal:g}),this._freeHighlight=new zD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var b,E,x,I;let s=null;if(t instanceof nW){const{data:{quadPoints:T,rect:R,rotation:P,id:D,color:Q,opacity:H,popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:J},parent:{page:{pageNumber:te}}}=t;s=t={annotationType:pt.HIGHLIGHT,color:Array.from(Q),opacity:H,quadPoints:T,boxes:null,pageIndex:te-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:J}}else if(t instanceof KQ){const{data:{inkLists:T,rect:R,rotation:P,id:D,color:Q,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:J},parent:{page:{pageNumber:te}}}=t;s=t={annotationType:pt.HIGHLIGHT,color:Array.from(Q),thickness:H,inkLists:T,boxes:null,pageIndex:te-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:J}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=Ke.makeHexColor(...a),d.opacity=u||1,l&&_(d,Xa,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,C]=d.pageTranslation;if(o){const T=_(d,Jl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-C)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});U(b=d,wt,qD).call(b),U(E=d,wt,Rf).call(E),d.rotate(d.rotation)}else if(l){_(d,Cr,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-C)},P=new zD(R,[0,0,h,g],1,f(d,Xa)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-C),P.add(R);const{id:D,clipPathId:Q}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);U(x=d,wt,p_).call(x,{highlightOutlines:P.getOutlines(),highlightId:D,clipPathId:Q}),U(I=d,wt,Rf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Pn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,Xa),quadPoints:U(this,wt,EW).call(this),outlines:U(this,wt,SW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!U(this,wt,TW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Sv=new WeakMap,eB=new WeakMap,Jl=new WeakMap,$h=new WeakMap,tB=new WeakMap,Ts=new WeakMap,nB=new WeakMap,iB=new WeakMap,jh=new WeakMap,Aa=new WeakMap,la=new WeakMap,Cr=new WeakMap,xv=new WeakMap,_v=new WeakMap,Kr=new WeakMap,Tv=new WeakMap,Xa=new WeakMap,rB=new WeakMap,wt=new WeakSet,qD=function(){const t=new KD(f(this,Jl),.001);_(this,Aa,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Aa).box;const i=new KD(f(this,Jl),.0025,.001,this._uiManager.direction==="ltr");_(this,Ts,i.getOutlines());const{firstPoint:r}=f(this,Aa);_(this,xv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,Ts);_(this,_v,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},p_=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,Aa,t),_(this,Ts,t.getNewOutline(f(this,Xa)/2+1.5,.0025)),i>=0)_(this,la,i),_(this,$h,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,Kr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,Ts).box,path:{d:f(this,Ts).toSVGPath()}},!0));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,la),{bbox:U(g=Yt,ro,Og).call(g,f(this,Aa).box,(C-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Kr),{bbox:U(v=Yt,ro,Og).call(v,f(this,Ts).box,C),path:{d:f(this,Ts).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[C,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*b/C,this.height=u*C/b;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[C,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*b/C,this.height=u*C/b;break}}const{firstPoint:d}=t;_(this,xv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,Ts);_(this,_v,[(h[0]-a)/l,(h[1]-o)/u])},wW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Yt._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},bW=function(t){const i=f(this,Xa),r=s=>{_(this,Xa,s),U(this,wt,CW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},CW=function(t){f(this,Cr)&&(U(this,wt,p_).call(this,{highlightOutlines:f(this,Aa).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},$D=function(){f(this,la)===null||!this.parent||(this.parent.drawLayer.remove(f(this,la)),_(this,la,null),this.parent.drawLayer.remove(f(this,Kr)),_(this,Kr,null))},Rf=function(t=this.parent){f(this,la)===null&&({id:gi(this,la)._,clipPathId:gi(this,$h)._}=t.drawLayer.draw({bbox:f(this,Aa).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,Cr)},path:{d:f(this,Aa).toSVGPath()}},!1,!0),_(this,Kr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,Cr)},bbox:f(this,Ts).box,path:{d:f(this,Ts).toSVGPath()}},f(this,Cr))),f(this,jh)&&(f(this,jh).style.clipPath=f(this,$h)))},ro=new WeakSet,Og=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},BW=function(t){Yt._keyboardManager.exec(this,t)},g_=function(t){if(!f(this,Sv))return;const i=window.getSelection();t?i.setPosition(f(this,Sv),f(this,eB)):i.setPosition(f(this,nB),f(this,iB))},m_=function(){return f(this,Cr)?this.rotation:0},EW=function(){if(f(this,Cr))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,Jl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,C=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=C,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=C-g*i,l+=8}return o},SW=function(t){return f(this,Aa).serialize(t,U(this,wt,m_).call(this))},xW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_W=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},TW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},M(Yt,ro),we(Yt,"_defaultColor",null),we(Yt,"_defaultOpacity",1),we(Yt,"_defaultThickness",12),we(Yt,"_type","highlight"),we(Yt,"_editorType",pt.HIGHLIGHT),we(Yt,"_freeHighlightId",-1),we(Yt,"_freeHighlight",null),we(Yt,"_freeHighlightClipId","");let AT=Yt;var Wh;class IW{constructor(){M(this,Wh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,Wh)[e]=t}toSVGProperties(){const e=f(this,Wh);return _(this,Wh,Object.create(null)),{root:e}}reset(){_(this,Wh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){En("Not implemented")}}Wh=new WeakMap;var ua,Iv,nr,Yh,Xh,Ot,jD,WD,YD,mw,FW,v_,vw,Hg;const Ft=class Ft extends Pn{constructor(t){super(t);M(this,Ot);M(this,ua,null);M(this,Iv);we(this,"_colorPicker",null);we(this,"_drawId",null);_(this,Iv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(U(this,Ot,jD).call(this,t),U(this,Ot,mw).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){En("Not implemented")}static get typesMap(){En("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(Ft,nr).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,ua).updateProperty(i,l);u&&U(this,Ot,vw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,ua).getPathResizingSVGProperties(U(this,Ot,v_).call(this)),{bbox:U(this,Ot,Hg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,ua).getPathResizedSVGProperties(U(this,Ot,v_).call(this)),{bbox:U(this,Ot,Hg).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:U(this,Ot,Hg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,ua).getPathTranslatedSVGProperties(U(this,Ot,v_).call(this),this.parentDimensions),{bbox:U(this,Ot,Hg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,Iv)&&(_(this,Iv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){U(this,Ot,YD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,Ot,mw).call(this),U(this,Ot,vw).call(this,f(this,ua).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),U(this,Ot,YD).call(this)):t&&(this._uiManager.addShouldRescale(this),U(this,Ot,mw).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties({bbox:U(this,Ot,Hg).call(this)},f(this,ua).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,Ot,vw).call(this,f(this,ua).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){En("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Qr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),C=_(Ft,Yh,new AbortController),b=t.combinedSignal(C);if(Qr.setPointer(d,u),window.addEventListener("pointerup",x=>{Qr.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:b}),window.addEventListener("pointercancel",x=>{Qr.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",x=>{Qr.isSamePointerType(x.pointerType)&&(Qr.initializeAndAddPointerId(x.pointerId),f(Ft,nr).isCancellable()&&(f(Ft,nr).removeLastElement(),f(Ft,nr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",co,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",x=>{Qr.isSameTimeStamp(x.timeStamp)&&fi(x)},{signal:b}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(Ft,nr)){t.drawLayer.updateProperties(this._currentDrawId,f(Ft,nr).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(Ft,nr,this.createDrawerInstance(o,l,g,v,h)),_(Ft,Xh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Ft,Xh).toSVGProperties(),f(Ft,nr).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Qr.isSameTimeStamp(t.timeStamp),!f(Ft,nr))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(Qr.isSamePointerId(s)){if(Qr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Ft,nr).add(i,r)),Qr.setTimeStamp(t.timeStamp),fi(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Ft,nr,null),_(Ft,Xh,null),Qr.clearPointerType(),Qr.clearTimeStamp()),f(Ft,Yh)&&(f(Ft,Yh).abort(),_(Ft,Yh,null),Qr.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(Ft,nr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(Ft,nr),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Rt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Rt.DRAW_STEP),!f(Ft,nr).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Ft,nr).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Ft,Xh),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){En("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),U(h=d,Ot,jD).call(h,{drawOutlines:u}),U(g=d,Ot,mw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,ua).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ua=new WeakMap,Iv=new WeakMap,nr=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Ot=new WeakSet,jD=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,ua,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=U(this,Ot,WD).call(this,t,this.parent),U(this,Ot,vw).call(this,t.box)},WD=function(t,i){const{id:r}=i.drawLayer.draw(Ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},YD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},mw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,Ot,WD).call(this,f(this,ua),t)}},FW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},v_=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},vw=function(t){[this.x,this.y,this.width,this.height]=U(this,Ot,FW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Hg=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},we(Ft,"_currentDrawId",-1),we(Ft,"_currentParent",null),M(Ft,nr,null),M(Ft,Yh,null),M(Ft,Xh,null),we(Ft,"_INNER_MARGIN",3);let lT=Ft;var TA,ir,rr,Jh,Fv,es,Br,Ja,Zh,ep,tp,Mv,y_;class lfe{constructor(e,t,i,r,s,a){M(this,Mv);M(this,TA,new Float64Array(6));M(this,ir);M(this,rr);M(this,Jh);M(this,Fv);M(this,es);M(this,Br,"");M(this,Ja,0);M(this,Zh,new nE);M(this,ep);M(this,tp);_(this,ep,i),_(this,tp,r),_(this,Jh,s),_(this,Fv,a),[e,t]=U(this,Mv,y_).call(this,e,t);const o=_(this,ir,[NaN,NaN,NaN,NaN,e,t]);_(this,es,[e,t]),_(this,rr,[{line:o,points:f(this,es)}]),f(this,TA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,Fv,t)}isEmpty(){return!f(this,rr)||f(this,rr).length===0}isCancellable(){return f(this,es).length<=10}add(e,t){[e,t]=U(this,Mv,y_).call(this,e,t);const[i,r,s,a]=f(this,TA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,ep)*o,f(this,tp)*l)<=2?null:(f(this,es).push(e,t),isNaN(i)?(f(this,TA).set([s,a,e,t],2),f(this,ir).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,TA)[0])&&f(this,ir).splice(6,6),f(this,TA).set([i,r,s,a,e,t],0),f(this,ir).push(...Oe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,es).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,ep,i),_(this,tp,r),_(this,Jh,s),[e,t]=U(this,Mv,y_).call(this,e,t);const a=_(this,ir,[NaN,NaN,NaN,NaN,e,t]);_(this,es,[e,t]);const o=f(this,rr).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,rr).push({line:a,points:f(this,es)}),f(this,TA).set(a,0),_(this,Ja,0),this.toSVGPath(),null}getLastElement(){return f(this,rr).at(-1)}setLastElement(e){return f(this,rr)?(f(this,rr).push(e),_(this,ir,e.line),_(this,es,e.points),_(this,Ja,0),{path:{d:this.toSVGPath()}}):f(this,Zh).setLastElement(e)}removeLastElement(){if(!f(this,rr))return f(this,Zh).removeLastElement();f(this,rr).pop(),_(this,Br,"");for(let e=0,t=f(this,rr).length;e<t;e++){const{line:i,points:r}=f(this,rr)[e];_(this,ir,i),_(this,es,r),_(this,Ja,0),this.toSVGPath()}return{path:{d:f(this,Br)}}}toSVGPath(){const e=Oe.svgRound(f(this,ir)[4]),t=Oe.svgRound(f(this,ir)[5]);if(f(this,es).length===2)return _(this,Br,`${f(this,Br)} M ${e} ${t} Z`),f(this,Br);if(f(this,es).length<=6){const r=f(this,Br).lastIndexOf("M");_(this,Br,`${f(this,Br).slice(0,r)} M ${e} ${t}`),_(this,Ja,6)}if(f(this,es).length===4){const r=Oe.svgRound(f(this,ir)[10]),s=Oe.svgRound(f(this,ir)[11]);return _(this,Br,`${f(this,Br)} L ${r} ${s}`),_(this,Ja,12),f(this,Br)}const i=[];f(this,Ja)===0&&(i.push(`M ${e} ${t}`),_(this,Ja,6));for(let r=f(this,Ja),s=f(this,ir).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,ir).slice(r,r+6).map(Oe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,Br,f(this,Br)+i.join(" ")),_(this,Ja,f(this,ir).length),f(this,Br)}getOutlines(e,t,i,r){const s=f(this,rr).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Zh).build(f(this,rr),e,t,i,f(this,Jh),f(this,Fv),r),_(this,TA,null),_(this,ir,null),_(this,rr,null),_(this,Br,null),f(this,Zh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}TA=new WeakMap,ir=new WeakMap,rr=new WeakMap,Jh=new WeakMap,Fv=new WeakMap,es=new WeakMap,Br=new WeakMap,Ja=new WeakMap,Zh=new WeakMap,ep=new WeakMap,tp=new WeakMap,Mv=new WeakSet,y_=function(e,t){return Oe._normalizePoint(e,t,f(this,ep),f(this,tp),f(this,Jh))};var ts,sB,aB,ca,IA,FA,Uv,Pv,np,Ir,vl,MW,UW,PW;class nE extends Oe{constructor(){super(...arguments);M(this,Ir);M(this,ts);M(this,sB,0);M(this,aB);M(this,ca);M(this,IA);M(this,FA);M(this,Uv);M(this,Pv);M(this,np)}build(t,i,r,s,a,o,l){_(this,IA,i),_(this,FA,r),_(this,Uv,s),_(this,Pv,a),_(this,np,o),_(this,aB,l??0),_(this,ca,t),U(this,Ir,UW).call(this)}get thickness(){return f(this,np)}setLastElement(t){return f(this,ca).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,ca).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,ca)){if(t.push(`M${Oe.svgRound(i[4])} ${Oe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Oe.svgRound(i[10])} ${Oe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Oe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=U(this,Ir,MW).call(this);let v,C,b,E,x,I,T,R,P;switch(f(this,Pv)){case 0:P=Oe._rescale,v=t,C=i+s,b=r,E=-s,x=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:P=Oe._rescaleAndSwap,v=t,C=i,b=r,E=s,x=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:P=Oe._rescale,v=t+r,C=i,b=-r,E=s,x=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:P=Oe._rescaleAndSwap,v=t+r,C=i+s,b=-r,E=-s,x=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:Q}of f(this,ca))o.push(P(D,v,C,b,E,a?new Array(D.length):null)),l.push(P(Q,v,C,b,E,a?new Array(Q.length):null));return{lines:o,points:l,rect:[x,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,C,b,E;switch(u){case 0:E=Oe._rescale,g=-t/r,v=i/s+1,C=1/r,b=-1/s;break;case 90:E=Oe._rescaleAndSwap,g=-i/s,v=-t/r,C=1/s,b=1/r;break;case 180:E=Oe._rescale,g=t/r+1,v=-i/s,C=-1/r,b=1/s;break;case 270:E=Oe._rescaleAndSwap,g=i/s+1,v=t/r+1,C=-1/s,b=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[P,D,Q,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,P,D],0);for(let k=4;k<T;k+=2){const K=I[k],V=I[k+1];R.set(Oe.createBezierPoints(P,D,Q,H,K,V),(k-2)*3),[P,D,Q,H]=[Q,H,K,V]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,C,b),points:E(l[I].map(R=>R??NaN),g,v,C,b)});const x=new this.prototype.constructor;return x.build(h,r,s,1,u,d,a),x}get box(){return f(this,ts)}updateProperty(t,i){return t==="stroke-width"?U(this,Ir,PW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=U(this,Ir,vl).call(this);_(this,IA,t),_(this,FA,i),_(this,Uv,r);const[o,l]=U(this,Ir,vl).call(this),u=o-s,d=l-a,h=f(this,ts);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,sB,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,ts).map(Oe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,ts);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Oe.svgRound(t)} ${Oe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,ts);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,sB)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Oe.svgRound(l)} ${Oe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=U(this,Ir,vl).call(this),[l,u,d,h]=f(this,ts);if(Math.abs(d-a)<=Oe.PRECISION||Math.abs(h-o)<=Oe.PRECISION){const E=t+r/2-(l+d/2),x=i+s/2-(u+h/2);return{path:{"transform-origin":`${Oe.svgRound(t)} ${Oe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),C=d/r,b=h/s;return{path:{"transform-origin":`${Oe.svgRound(l)} ${Oe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${C} ${b}) translate(${Oe.svgRound(a)} ${Oe.svgRound(o)}) scale(${g} ${v}) translate(${Oe.svgRound(-a)} ${Oe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=U(this,Ir,vl).call(this),l=f(this,ts),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Oe.PRECISION||Math.abs(g-o)<=Oe.PRECISION){const x=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,ca))Oe._translate(T,x,I,T),Oe._translate(R,x,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Oe.svgRound(t)} ${Oe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),C=(s-2*o)/(g-2*o),b=-v*(u+a)+t+a,E=-C*(d+o)+i+o;if(v!==1||C!==1||b!==0||E!==0)for(const{line:x,points:I}of f(this,ca))Oe._rescale(x,b,E,v,C,x),Oe._rescale(I,b,E,v,C,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Oe.svgRound(t)} ${Oe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,ts),l=t-o[0],u=i-o[1];if(f(this,IA)===s&&f(this,FA)===a)for(const{line:d,points:h}of f(this,ca))Oe._translate(d,l,u,d),Oe._translate(h,l,u,h);else{const d=f(this,IA)/s,h=f(this,FA)/a;_(this,IA,s),_(this,FA,a);for(const{line:g,points:v}of f(this,ca))Oe._rescale(g,l,u,d,h,g),Oe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Oe.svgRound(t)} ${Oe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,ts);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Oe.svgRound(t[0])} ${Oe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ts=new WeakMap,sB=new WeakMap,aB=new WeakMap,ca=new WeakMap,IA=new WeakMap,FA=new WeakMap,Uv=new WeakMap,Pv=new WeakMap,np=new WeakMap,Ir=new WeakSet,vl=function(t=f(this,np)){const i=f(this,aB)+t/2*f(this,Uv);return f(this,Pv)%180===0?[i/f(this,IA),i/f(this,FA)]:[i/f(this,FA),i/f(this,IA)]},MW=function(){const[t,i,r,s]=f(this,ts),[a,o]=U(this,Ir,vl).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},UW=function(){const t=_(this,ts,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,ca)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ke.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,C,b]=s.subarray(l,l+6);Ke.bezierBoundingBox(a,o,d,h,g,v,C,b,t),a=C,o=b}}const[i,r]=U(this,Ir,vl).call(this);t[0]=as(t[0]-i,0,1),t[1]=as(t[1]-r,0,1),t[2]=as(t[2]+i,0,1),t[3]=as(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},PW=function(t){const[i,r]=U(this,Ir,vl).call(this);_(this,np,t);const[s,a]=U(this,Ir,vl).call(this),[o,l]=[s-i,a-r],u=f(this,ts);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class z1 extends IW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new z1(this._viewParameters);return e.updateAll(this),e}}var T1,RW;const nm=class nm extends lT{constructor(t){super({...t,name:"inkEditor"});M(this,T1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Pn.initialize(t,i),this._defaultDrawingOptions=new z1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ft(this,"typesMap",new Map([[Rt.INK_THICKNESS,"stroke-width"],[Rt.INK_COLOR,"stroke"],[Rt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new lfe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return nE.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof KQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:C,richText:b,contentsObj:E,creationDate:x,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:pt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:C,richText:b,comment:(E==null?void 0:E.str)||null,creationDate:x,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new sT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Rt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=nm.getDefaultDrawingOptions({stroke:Ke.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Pn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!U(this,T1,RW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};T1=new WeakSet,RW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},we(nm,"_type","ink"),we(nm,"_editorType",pt.INK),we(nm,"_defaultDrawingOptions",null);let XD=nm;class JD extends nE{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const jS=8,Q0=3;var Z0,ip,Jt,ZD,Do,DW,NW,eN,w_,LW,QW,kW,tN,nN,OW;let Vg=(Z0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:C,actualBoundingBoxAscent:b,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,P=Math.ceil(Math.max(Math.abs(v)+Math.abs(C)||0,T)*R),D=Math.ceil(Math.max(Math.abs(b)+Math.abs(E)||h,Math.abs(x)+Math.abs(I)||h)*R);u=new OffscreenCanvas(P,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,P,D),d.fillStyle="black",d.fillText(e,P*(R-1)/2,D*(3-R)/2);const Q=U(this,Jt,tN).call(this,d.getImageData(0,0,P,D).data),H=U(this,Jt,kW).call(this,Q),k=U(this,Jt,nN).call(this,H),K=U(this,Jt,eN).call(this,Q,P,D,k);return this.processDrawnLines({lines:{curves:K,width:P,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=U(this,Jt,OW).call(this,e),[u,d]=U(this,Jt,QW).call(this,a,o,l,Math.hypot(o,l)*f(this,ip).sigmaSFactor,f(this,ip).sigmaR,f(this,ip).kernelSize),h=U(this,Jt,nN).call(this,d),g=U(this,Jt,eN).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),C=v/t,b=v/i,E=[];for(const{points:I}of l){const T=a?U(this,Jt,LW).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,P=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:P}),R===2){P[0]=T[0]*C,P[1]=T[1]*b,D.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[Q,H,k,K]=T;Q*=C,H*=b,k*=C,K*=b,P.set([Q,H,k,K],0),D.set([NaN,NaN,NaN,NaN,Q,H],0);for(let V=4;V<R;V+=2){const q=P[V]=T[V]*C,J=P[V+1]=T[V+1]*b;D.set(Oe.createBezierPoints(Q,H,k,K,q,J),(V-2)*3),[Q,H,k,K]=[k,K,q,J]}}if(g.length===0)return null;const x=o?new JD:new nE;return x.build(g,t,i,1,r,o?0:h,s),{outline:x,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,P=T.length;R<P;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=jS+Q0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const C=new CompressionStream("deflate-raw"),b=C.writable.getWriter();await b.ready,b.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let P=2,D=T.length;P<D;P++)R[P-2]=T[P]-T[P-2];b.write(R)}b.close();const x=await new Response(C.readable).arrayBuffer(),I=new Uint8Array(x);return N6(I)}static async decompressSignature(e){try{const t=Sce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],C=l[6],b=l[7],E=[],x=(jS+Q0*C)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(b){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,x);break}o=0;for(let T=0;T<C;T++){const R=l[Q0*T+jS],P=new Float32Array(R+2);E.push(P);for(let D=0;D<Q0-1;D++)P[D]=l[Q0*T+jS+D+1];for(let D=0;D<R;D++)P[D+2]=P[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return dt(`decompressSignature: ${t}`),null}}},ip=new WeakMap,Jt=new WeakSet,ZD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},Do=new WeakMap,DW=function(e,t,i,r,s,a,o){const l=U(this,Jt,ZD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,Do)[2*d],g=f(this,Do)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},NW=function(e,t,i,r,s,a,o){const l=U(this,Jt,ZD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,Do)[2*d],g=f(this,Do)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},eN=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let C=d,b=h;if(v===1&&a[g-1]===0)o+=1,b-=1;else if(v>=1&&a[g+1]===0)o+=1,b+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],x=b===h+1,I={isHole:x,points:E,id:o,parent:0};u.push(I);let T;for(const V of u)if(V.id===l){T=V;break}T?T.isHole?I.parent=x?T.parent:l:I.parent=x?l:T.parent:I.parent=x?l:0;const R=U(this,Jt,DW).call(this,a,t,d,h,C,b,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let P=f(this,Do)[2*R],D=f(this,Do)[2*R+1];const Q=d+P,H=h+D;C=Q,b=H;let k=d,K=h;for(;;){const V=U(this,Jt,NW).call(this,a,t,k,K,C,b,1);P=f(this,Do)[2*V],D=f(this,Do)[2*V+1];const q=k+P,J=K+D;E.push(J,q);const te=k*t+K;if(a[te+1]===0?a[te]=-o:a[te]===1&&(a[te]=o),q===d&&J===h&&k===Q&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else C=k,b=K,k=q,K=J}}}return u},w_=function(e,t,i,r){if(i-t<=4){for(let Q=t;Q<i-2;Q+=2)r.push(e[Q],e[Q+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,C=1/u,b=Math.atan(v),E=Math.cos(b),x=Math.sin(b),I=C*(Math.abs(E)+Math.abs(x)),T=C*(1-I+I**2),R=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let P=0,D=t;for(let Q=t+2;Q<i-2;Q+=2){const H=Math.abs(g-d*e[Q+1]+h*e[Q]);H>P&&(D=Q,P=H)}P>(u*R)**2?(U(this,Jt,w_).call(this,e,t,D+2,r),U(this,Jt,w_).call(this,e,D,i,r)):r.push(s,a)},LW=function(e){const t=[],i=e.length;return U(this,Jt,w_).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},QW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let b=0;b<a;b++){const E=(b-u)**2;for(let x=0;x<a;x++)o[b*a+x]=Math.exp((E+(x-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let b=0;b<256;b++)d[b]=Math.exp(b**2/h);const g=e.length,v=new Uint8Array(g),C=new Uint32Array(256);for(let b=0;b<i;b++)for(let E=0;E<t;E++){const x=b*t+E,I=e[x];let T=0,R=0;for(let D=0;D<a;D++){const Q=b+D-u;if(!(Q<0||Q>=i))for(let H=0;H<a;H++){const k=E+H-u;if(k<0||k>=t)continue;const K=e[Q*t+k],V=o[D*a+H]*d[Math.abs(K-I)];T+=K*V,R+=V}}const P=v[x]=Math.round(T/R);C[P]++}return[v,C]},kW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},tN=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},nN=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},OW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,ip);let a=i,o=r;if(i>s||r>s){let g=i,v=r,C=Math.log2(Math.max(i,r)/s);const b=Math.floor(C);C=C===b?b-1:b;for(let x=0;x<C;x++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[U(this,Jt,tN).call(this,d),a,o]},M(Z0,Jt),M(Z0,ip,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),M(Z0,Do,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),Z0);class GQ extends IW{constructor(){super(),super.updateProperties({fill:Pn._defaultLineColor,"stroke-width":0})}clone(){const e=new GQ;return e.updateAll(this),e}}class zQ extends z1{constructor(e){super(e),super.updateProperties({stroke:Pn._defaultLineColor,"stroke-width":1})}clone(){const e=new zQ(this._viewParameters);return e.updateAll(this),e}}var vd,MA,yd,rp;const js=class js extends lT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});M(this,vd,!1);M(this,MA,null);M(this,yd,null);M(this,rp,null);this._willKeepAspectRatio=!0,_(this,yd,t.signatureData||null),_(this,MA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Pn.initialize(t,i),this._defaultDrawingOptions=new GQ,this._defaultDrawnSignatureOptions=new zQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ft(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,MA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,yd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,yd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,C=Vg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:js._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(C,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,MA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,rp,t),this.addEditToolbar()}getUuid(){return f(this,rp)}get description(){return f(this,MA)}set description(t){_(this,MA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,yd),o=Math.max(s,a),l=Vg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,yd,t);_(this,vd,l instanceof JD),this.description=r;let u;f(this,vd)?u=js.getDefaultDrawingOptions():(u=js._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Vg.process(t,i,r,s,js._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Vg.extractContoursFromText(t,i,r,s,a,js._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Vg.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:js._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=js.getDefaultDrawingOptions():(this._drawingOptions=js._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,vd),color:[0,0,0],thickness:f(this,vd)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,rp),a.isCopy=!0):a.lines=i,f(this,MA)&&(a.accessibilityData={type:"Figure",alt:f(this,MA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?JD.deserialize(t,i,r,s,a,o):nE.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,vd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,rp,t.uuid),s}};vd=new WeakMap,MA=new WeakMap,yd=new WeakMap,rp=new WeakMap,we(js,"_type","signature"),we(js,"_editorType",pt.SIGNATURE),we(js,"_defaultDrawingOptions",null);let iN=js;var qn,sr,wd,Zl,bd,Rv,eu,sp,UA,da,Dv,Ht,yw,ww,b_,C_,B_,sN,E_,HW;class rN extends Pn{constructor(t){super({...t,name:"stampEditor"});M(this,Ht);M(this,qn,null);M(this,sr,null);M(this,wd,null);M(this,Zl,null);M(this,bd,null);M(this,Rv,"");M(this,eu,null);M(this,sp,!1);M(this,UA,null);M(this,da,!1);M(this,Dv,!1);_(this,Zl,t.bitmapUrl),_(this,bd,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Pn.initialize(t,i)}static isHandlingMimeForPasting(t){return VR.includes(t)}static paste(t,i){i.pasteEditor({mode:pt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,sr)&&(_(this,qn,null),this._uiManager.imageManager.deleteId(f(this,sr)),(t=f(this,eu))==null||t.remove(),_(this,eu,null),f(this,UA)&&(clearTimeout(f(this,UA)),_(this,UA,null))),super.remove()}rebuild(){if(!this.parent){f(this,sr)&&U(this,Ht,b_).call(this);return}super.rebuild(),this.div!==null&&(f(this,sr)&&f(this,eu)===null&&U(this,Ht,b_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,wd)||f(this,qn)||f(this,Zl)||f(this,bd)||f(this,sr)||f(this,sp))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,sp)||(f(this,qn)?U(this,Ht,C_).call(this):U(this,Ht,b_).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,sr,r),s&&_(this,qn,s),_(this,sp,!1),U(this,Ht,C_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,UA)!==null&&clearTimeout(f(this,UA)),_(this,UA,setTimeout(()=>{_(this,UA,null),U(this,Ht,sN).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,qn),o=new Tp;let l=f(this,qn),u=s,d=a,h=null;if(i){if(s>i||a>i){const Q=Math.min(i/s,i/a);u=Math.floor(s*Q),d=Math.floor(a*Q)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),C=h.height=Math.ceil(d*o.sy);f(this,da)||(l=U(this,Ht,B_).call(this,v,C));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":Mce.isDarkMode&&(E="#8f8f9d",x="#42414d");const I=15,T=I*o.sx,R=I*o.sy,P=new OffscreenCanvas(T*2,R*2),D=P.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=x,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),b.fillStyle=b.createPattern(P,"repeat"),b.fillRect(0,0,v,C),b.drawImage(l,0,0,l.width,l.height,0,0,v,C)}let g=null;if(r){let v,C;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,C=l.height;else if(l=f(this,qn),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),C=Math.floor(a*x),f(this,da)||(l=U(this,Ht,B_).call(this,v,C))}const E=new OffscreenCanvas(v,C).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,C),g={width:v,height:C,data:E.getImageData(0,0,v,C).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof iW){const{data:{rect:x,rotation:I,id:T,structParent:R,popupRef:P,richText:D,contentsObj:Q,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:V}},canvas:q}=t;let J,te;q?(delete t.canvas,{id:J,bitmap:te}=r.imageManager.getFromCanvas(K.id,q),q.remove()):(a=!0,t._hasNoCanvas=!0);const he=((E=await i._structTree.getAriaAttributes(`${Wg}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:pt.STAMP,bitmapId:J,bitmap:te,pageIndex:V-1,rect:x.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:he},isSvg:!1,structParent:R,popupRef:P,richText:D,comment:(Q==null?void 0:Q.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,sp,!0)):h&&r.imageManager.isValidId(h)?(_(o,sr,h),u&&_(o,qn,u)):_(o,Zl,d),_(o,da,g);const[C,b]=o.pageDimensions;return o.width=(l[2]-l[0])/C,o.height=(l[3]-l[1])/b,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Dv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,sr),isSvg:f(this,da)});if(this.addComment(r),t)return r.bitmapUrl=U(this,Ht,E_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=U(this,Ht,HW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,da)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,sr)))i.stamps.set(f(this,sr),{area:o,serialized:r}),r.bitmap=U(this,Ht,E_).call(this,!1);else if(f(this,da)){const l=i.stamps.get(f(this,sr));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=U(this,Ht,E_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}qn=new WeakMap,sr=new WeakMap,wd=new WeakMap,Zl=new WeakMap,bd=new WeakMap,Rv=new WeakMap,eu=new WeakMap,sp=new WeakMap,UA=new WeakMap,da=new WeakMap,Dv=new WeakMap,Ht=new WeakSet,yw=function(t,i=!1){if(!t){this.remove();return}_(this,qn,t.bitmap),i||(_(this,sr,t.id),_(this,da,t.isSvg)),t.file&&_(this,Rv,t.file.name),U(this,Ht,C_).call(this)},ww=function(){if(_(this,wd,null),this._uiManager.enableWaiting(!1),!!f(this,eu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,qn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,qn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},b_=function(){if(f(this,sr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,sr)).then(r=>U(this,Ht,yw).call(this,r,!0)).finally(()=>U(this,Ht,ww).call(this));return}if(f(this,Zl)){const r=f(this,Zl);_(this,Zl,null),this._uiManager.enableWaiting(!0),_(this,wd,this._uiManager.imageManager.getFromUrl(r).then(s=>U(this,Ht,yw).call(this,s)).finally(()=>U(this,Ht,ww).call(this)));return}if(f(this,bd)){const r=f(this,bd);_(this,bd,null),this._uiManager.enableWaiting(!0),_(this,wd,this._uiManager.imageManager.getFromFile(r).then(s=>U(this,Ht,yw).call(this,s)).finally(()=>U(this,Ht,ww).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=VR.join(",");const i=this._uiManager._signal;_(this,wd,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,Ht,yw).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>U(this,Ht,ww).call(this))),t.click()},C_=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,qn);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,eu,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),U(this,Ht,sN).call(this),f(this,Dv)||(this.parent.addUndoableEditor(this),_(this,Dv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Rv)&&this.div.setAttribute("aria-description",f(this,Rv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},B_=function(t,i){const{width:r,height:s}=f(this,qn);let a=r,o=s,l=f(this,qn);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},sN=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new Tp,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,eu);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,da)?f(this,qn):U(this,Ht,B_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},E_=function(t){if(t){if(f(this,da)){const s=this._uiManager.imageManager.getSvgUrl(f(this,sr));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,qn),i.getContext("2d").drawImage(f(this,qn),0,0),i.toDataURL()}if(f(this,da)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*ly.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ly.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,qn),0,0,f(this,qn).width,f(this,qn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,qn))},HW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},we(rN,"_type","stamp"),we(rN,"_editorType",pt.STAMP);var ap,Nv,Cd,Bd,tu,Is,Ed,Lv,Qv,No,nu,ar,iu,Sd,kv,$e,Ds,xd,Bn,aN,VW,lA,oN,AN,S_;let ufe=(Ds=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){M(this,Bn);M(this,ap);M(this,Nv,!1);M(this,Cd,null);M(this,Bd,null);M(this,tu,null);M(this,Is,new Map);M(this,Ed,!1);M(this,Lv,!1);M(this,Qv,!1);M(this,No,null);M(this,nu,null);M(this,ar,null);M(this,iu,null);M(this,Sd,null);M(this,kv,-1);M(this,$e);const h=[...f(Ds,xd).values()];if(!Ds._initialized){Ds._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,$e,e),this.pageIndex=t,this.div=i,_(this,ap,s),_(this,Cd,a),this.viewport=u,_(this,ar,l),this.drawLayer=o,this._structTree=r,f(this,$e).addLayer(this)}get isEmpty(){return f(this,Is).size===0}get isInvisible(){return this.isEmpty&&f(this,$e).getMode()===pt.NONE}updateToolbar(e){f(this,$e).updateToolbar(e)}updateMode(e=f(this,$e).getMode()){switch(U(this,Bn,S_).call(this),e){case pt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case pt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case pt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===pt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(Ds,xd).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,ar))==null?void 0:t.div)}setEditingState(e){f(this,$e).setEditingState(e)}addCommands(e){f(this,$e).addCommands(e)}cleanUndoStack(e){f(this,$e).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Cd))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,Qv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,Sd))==null||i.abort(),_(this,Sd,null);const e=new Set;for(const r of f(this,Bn,aN))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,$e).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,Cd);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,$e).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Qv,!1),f(this,$e)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,Lv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,ar)&&!f(this,Sd)){_(this,Sd,new AbortController);const s=f(this,$e).combinedSignal(f(this,Sd));f(this,ar).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,kv);if(d-h>500){_(this,kv,d);return}_(this,kv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let C;const b=new RegExp(`^${Ww}[0-9]+$`);for(const x of v)if(b.test(x.id)){C=x.id;break}if(!C)return;const E=f(this,Is).get(C);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,Cd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,Bn,aN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,$e).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,$e).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}U(this,Bn,S_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(Ds,xd).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Lv,!1)}getEditableAnnotation(e){var t;return((t=f(this,Cd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,$e).getActive()!==e&&f(this,$e).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,ar))!=null&&e.div&&!f(this,iu)){_(this,iu,new AbortController);const t=f(this,$e).combinedSignal(f(this,iu));f(this,ar).div.addEventListener("pointerdown",U(this,Bn,VW).bind(this),{signal:t}),f(this,ar).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,ar))!=null&&e.div&&f(this,iu)&&(f(this,iu).abort(),_(this,iu,null),f(this,ar).div.classList.remove("highlighting"))}enableClick(){if(f(this,Bd))return;_(this,Bd,new AbortController);const e=f(this,$e).combinedSignal(f(this,Bd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,Bd))==null||e.abort(),_(this,Bd,null)}attach(e){f(this,Is).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,$e).isDeletedAnnotationElement(t)&&f(this,$e).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Is).delete(e.id),(t=f(this,ap))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Lv)&&e.annotationElementId&&f(this,$e).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,$e).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,$e).addDeletedAnnotationElement(e),Pn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,$e).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Qv)),f(this,$e).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,tu)&&(e._focusEventsAllowed=!1,_(this,tu,setTimeout(()=>{_(this,tu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,$e)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,ap))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Is).values())if(t.uid===e)return t;return null}getNextId(){return f(this,$e).getId()}combinedSignal(e){return f(this,$e).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,Bn,lA))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,$e).updateMode(e.mode);const{offsetX:i,offsetY:r}=U(this,Bn,AN).call(this),s=this.getNextId(),a=U(this,Bn,oN).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,$e),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Ds,xd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,$e)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=U(this,Bn,oN).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,$e),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(U(this,Bn,AN).call(this),!0,e)}setSelected(e){f(this,$e).setSelected(e)}toggleSelected(e){f(this,$e).toggleSelected(e)}unselect(e){f(this,$e).unselect(e)}pointerup(e){var r;const{isMac:t}=Pr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,Ed)||(_(this,Ed,!1),(r=f(this,Bn,lA))!=null&&r.isDrawer&&f(this,Bn,lA).supportMultipleDrawings))return;if(!f(this,Nv)){_(this,Nv,!0);return}const i=f(this,$e).getMode();if(i===pt.STAMP||i===pt.SIGNATURE){f(this,$e).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,$e).getMode()===pt.HIGHLIGHT&&this.enableTextSelection(),f(this,Ed)){_(this,Ed,!1);return}const{isMac:t}=Pr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,Ed,!0),(r=f(this,Bn,lA))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,$e).getActive();_(this,Nv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,No)){f(this,Bn,lA).startDrawing(this,f(this,$e),!1,e);return}f(this,$e).setCurrentDrawingSession(this),_(this,No,new AbortController);const t=f(this,$e).combinedSignal(f(this,No));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,nu,null),this.commitOrRemove())},{signal:t}),f(this,Bn,lA).startDrawing(this,f(this,$e),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,nu,t);return}f(this,nu)&&setTimeout(()=>{var t;(t=f(this,nu))==null||t.focus(),_(this,nu,null)},0)}endDrawingSession(e=!1){return f(this,No)?(f(this,$e).setCurrentDrawingSession(null),f(this,No).abort(),_(this,No,null),_(this,nu,null),f(this,Bn,lA).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,$e).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,No)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,No)&&f(this,Bn,lA).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,$e).getActive())==null?void 0:e.parent)===this&&(f(this,$e).commitOrRemove(),f(this,$e).setActiveEditor(null)),f(this,tu)&&(clearTimeout(f(this,tu)),_(this,tu,null));for(const i of f(this,Is).values())(t=f(this,ap))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,Is).clear(),f(this,$e).removeLayer(this)}render({viewport:e}){this.viewport=e,_p(this.div,e);for(const t of f(this,$e).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,$e).commitOrRemove(),U(this,Bn,S_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,_p(this.div,{rotation:i}),t!==i)for(const r of f(this,Is).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,$e).viewParameters.realScale}},ap=new WeakMap,Nv=new WeakMap,Cd=new WeakMap,Bd=new WeakMap,tu=new WeakMap,Is=new WeakMap,Ed=new WeakMap,Lv=new WeakMap,Qv=new WeakMap,No=new WeakMap,nu=new WeakMap,ar=new WeakMap,iu=new WeakMap,Sd=new WeakMap,kv=new WeakMap,$e=new WeakMap,xd=new WeakMap,Bn=new WeakSet,aN=function(){return f(this,Is).size!==0?f(this,Is).values():f(this,$e).getEditors(this.pageIndex)},VW=function(e){f(this,$e).unselectAll();const{target:t}=e;if(t===f(this,ar).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,ar).div.contains(t)){const{isMac:i}=Pr.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,$e).showAllEditors("highlight",!0,!0),f(this,ar).div.classList.add("free"),this.toggleDrawing(),AT.startHighlighting(this,f(this,$e).direction==="ltr",{target:f(this,ar).div,x:e.x,y:e.y}),f(this,ar).div.addEventListener("pointerup",()=>{f(this,ar).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,$e)._signal}),e.preventDefault()}},lA=function(){return f(Ds,xd).get(f(this,$e).getMode())},oN=function(e){const t=f(this,Bn,lA);return t?new t.prototype.constructor(e):null},AN=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},S_=function(){for(const e of f(this,Is).values())e.isEmpty()&&e.remove()},we(Ds,"_initialized",!1),M(Ds,xd,new Map([HD,XD,rN,AT,iN].map(e=>[e._editorType,e]))),Ds);var Lo,ns,op,ui,oB,I1,KW,GA,lN,GW,uN;let cfe=(ui=class{constructor({pageIndex:e}){M(this,GA);M(this,Lo,null);M(this,ns,new Map);M(this,op,new Map);this.pageIndex=e}setParent(e){if(!f(this,Lo)){_(this,Lo,e);return}if(f(this,Lo)!==e){if(f(this,ns).size>0)for(const t of f(this,ns).values())t.remove(),e.append(t);_(this,Lo,e)}}static get _svgFactory(){return ft(this,"_svgFactory",new aT)}draw(e,t=!1,i=!1){const r=gi(ui,oB)._++,s=U(this,GA,lN).call(this),a=ui._svgFactory.createElement("defs");s.append(a);const o=ui._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,op).set(r,o);const u=i?U(this,GA,GW).call(this,a,l):null,d=ui._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,ns).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=gi(ui,oB)._++,r=U(this,GA,lN).call(this),s=ui._svgFactory.createElement("defs");r.append(s);const a=ui._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=ui._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=ui._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=ui._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=ui._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,ns).set(i,r),i}finalizeDraw(e,t){f(this,op).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,ns).get(e):e;if(o){if(i&&U(this,GA,uN).call(this,o,i),r&&U(l=ui,I1,KW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;U(this,GA,uN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,ns).get(e);i&&(f(t,Lo).append(i),f(this,ns).delete(e),f(t,ns).set(e,i))}remove(e){f(this,op).delete(e),f(this,Lo)!==null&&(f(this,ns).get(e).remove(),f(this,ns).delete(e))}destroy(){_(this,Lo,null);for(const e of f(this,ns).values())e.remove();f(this,ns).clear(),f(this,op).clear()}},Lo=new WeakMap,ns=new WeakMap,op=new WeakMap,oB=new WeakMap,I1=new WeakSet,KW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},GA=new WeakSet,lN=function(){const e=ui._svgFactory.create(1,1,!0);return f(this,Lo).append(e),e.setAttribute("aria-hidden",!0),e},GW=function(e,t){const i=ui._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=ui._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},uN=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},M(ui,I1),M(ui,oB,0),ui);globalThis._pdfjsTestingUtils={HighlightOutliner:KD};globalThis.pdfjsLib={AbortException:Zd,AnnotationEditorLayer:ufe,AnnotationEditorParamsType:Rt,AnnotationEditorType:pt,AnnotationEditorUIManager:Jw,AnnotationLayer:afe,AnnotationMode:Rc,AnnotationType:Mi,applyOpacity:Pce,build:kde,ColorPicker:zj,createValidAbsoluteUrl:U6,CSSConstants:Uce,DOMSVGFactory:aT,DrawLayer:cfe,FeatureTest:Pr,fetchData:XB,findContrastColor:Rce,getDocument:HQ,getFilenameFromUrl:xce,getPdfFilenameFromUrl:_ce,getRGB:ZB,getUuid:D6,getXfaPageViewport:Ice,GlobalWorkerOptions:pu,ImageKind:qx,InvalidPDFException:QR,isDataScheme:K1,isPdfFile:LQ,isValidExplicitDest:Gce,MathClamp:as,noContextMenu:co,normalizeUnicode:Bce,OPS:Yw,OutputScale:Tp,PasswordResponses:hce,PDFDataRangeTransport:Hj,PDFDateString:OR,PDFWorker:SD,PermissionFlag:fce,PixelsPerInch:ly,RenderingCancelledException:NQ,renderRichText:Q6,ResponseException:eT,setLayerDimensions:_p,shadow:ft,SignatureExtractor:Vg,stopEvent:fi,SupportedImageMimeTypes:VR,TextLayer:bD,TouchManager:sj,updateUrlHash:P6,Util:Ke,VerbosityLevel:O1,version:Gj,XfaLayer:L6};pu.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const dfe=async n=>{try{const e=await n.arrayBuffer(),t=await HQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},ffe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Qw=n=>{var i,r,s;const e=typeof import.meta<"u"&&((r=(i=import.meta)==null?void 0:i.env)==null?void 0:r[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},hfe=()=>{const n=Qw("GEMINI_API_KEY")||Qw("VITE_API_KEY"),e=Qw("API_KEY");return n||e},HK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",zW=HK(Qw("GEMINI_TTS_MODEL"))||HK(Qw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",pfe=`https://generativelanguage.googleapis.com/v1beta/${zW}:generateContent`,gfe=async(n,e)=>{var b,E,x,I,T,R;const t=zW,i=/-tts\b/.test(t),r=hfe();if(!r)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=i?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${pfe}?key=${encodeURIComponent(r)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const P=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${P}`)}const l=await o.json(),u=((I=(x=(E=(b=l==null?void 0:l.candidates)==null?void 0:b[0])==null?void 0:E.content)==null?void 0:x.parts)==null?void 0:I.find(P=>{var D;return(D=P.inlineData)==null?void 0:D.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((R=u==null?void 0:u.inlineData)==null?void 0:R.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),P=>P.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},mfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031709039769561</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031709039769561</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0019_s.xhtml">UNIT 1 </a>\r
      <ol>\r
      <li><a href="p0021_s.xhtml">CHAPTER 01   </a></li>\r
      <li><a href="p0035_s.xhtml">CHAPTER 02   </a></li>\r
      <li><a href="p0065_s.xhtml">CHAPTER 03   ,  -   </a></li>\r
      <li><a href="p0119_s.xhtml">CHAPTER 04   </a></li>\r
      <li><a href="p0149_s.xhtml">CHAPTER 05   </a></li>\r
      <li><a href="p0173_s.xhtml">CHAPTER 06   </a></li>\r
      <li><a href="p0221_s.xhtml">CHAPTER 07   </a></li>\r
      <li><a href="p0245_s.xhtml">CHAPTER 08   </a></li>\r
      <li><a href="p0287_s.xhtml">CHAPTER 09 </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0301_s.xhtml">UNIT 2  </a>\r
      <ol>\r
      <li><a href="p0303_s.xhtml">CHAPTER 10  </a></li>\r
      <li><a href="p0325_s.xhtml">CHAPTER 11    </a></li>\r
      <li><a href="p0391_s.xhtml">CHAPTER 12  </a></li>\r
      <li><a href="p0401_s.xhtml">CHAPTER 13   </a></li>\r
      <li><a href="p0449_s.xhtml">CHAPTER 14   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0475_s.xhtml">UNIT 3  </a>\r
      <ol>\r
      <li><a href="p0477_s.xhtml">CHAPTER 15  </a></li>\r
      <li><a href="p0503_s.xhtml">CHAPTER 16   </a></li>\r
      <li><a href="p0519_s.xhtml">CHAPTER 17   </a></li>\r
      <li><a href="p0531_s.xhtml">CHAPTER 18    </a></li>\r
      <li><a href="p0543_s.xhtml">CHAPTER 19    </a></li>\r
      <li><a href="p0553_s.xhtml">CHAPTER 20   </a></li>\r
      <li><a href="p0567_s.xhtml">CHAPTER 21  </a></li>\r
      <li><a href="p0577_s.xhtml">CHAPTER 22   </a></li>\r
      <li><a href="p0587_s.xhtml">CHAPTER 23   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0601_s.xhtml">UNIT 4  </a>\r
      <ol>\r
      <li><a href="p0603_s.xhtml">CHAPTER 24  </a></li>\r
      <li><a href="p0627_s.xhtml">CHAPTER 25   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0663_s.xhtml">UNIT 5  </a>\r
      <ol>\r
      <li><a href="p0665_s.xhtml">CHAPTER 26  </a></li>\r
      <li><a href="p0685_s.xhtml">CHAPTER 27    </a></li>\r
      <li><a href="p0697_s.xhtml">CHAPTER 28   </a></li>\r
      <li><a href="p0709_s.xhtml">CHAPTER 29   </a></li>\r
      <li><a href="p0725_s.xhtml">CHAPTER 30   </a></li>\r
      <li><a href="p0747_s.xhtml">CHAPTER 31   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0757_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,vfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],yfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),i=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!i)return{chapters:[],pageMap:{}};const r=new Set,s=Array.from(i.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let C=v,b=1;for(;r.has(C);)C=`${v}-${b++}`;r.add(C);const E=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(E&&E[1]){const x=parseInt(E[1],10);Number.isFinite(x)&&(a[C]=x)}return{id:C,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},qW=F.createContext(void 0),wfe=({children:n})=>{const[e,t]=F.useState(vfe),[i,r]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[u,d]=F.useState(0),[h,g]=F.useState("medium"),[v,C]=F.useState("light"),[b,E]=F.useState("single"),[x,I]=F.useState(!0),[T,R]=F.useState(()=>{if(typeof window>"u")return[];try{const pe=localStorage.getItem("pdfBookmarks");if(!pe)return[];const Ie=JSON.parse(pe);if(Array.isArray(Ie))return Ie.map(Ne=>Ne&&typeof Ne=="object"&&"page"in Ne?Ne:typeof Ne=="number"?{id:`migrated-${Ne}`,page:Ne,label:`Page ${Ne}`,createdAt:Date.now()}:null).filter(Boolean)}catch(pe){console.error("Failed to parse stored pdfBookmarks",pe)}return[]}),[P,D]=F.useState([]),[Q,H]=F.useState(null),[k,K]=F.useState("idle"),[V,q]=F.useState("#ef4444"),[J,te]=F.useState(3),[he,G]=F.useState(1),[$,re]=F.useState({}),[de,Ce]=F.useState([]),[z,X]=F.useState(!1),[oe,me]=F.useState(null),[Se,_e]=F.useState([]),[Be,Je]=F.useState(!0),[ie,Pe]=F.useState("ai"),[Ge,ye]=F.useState(""),[Nt,Ze]=F.useState(!1),[Zt,Lt]=F.useState(null),[On,ut]=F.useState({voice:"Kore",speed:1,continuous:!0}),[ei,fs]=F.useState({}),vn=F.useRef(null),hs=F.useRef(null),xe=F.useRef(!1),Te=pe=>{ut(Ie=>({...Ie,...pe}))},le=pe=>{const Ie=pe.trim();if(!Ie)return[];const Ne=Ie.match(/[^.!?]+[.!?]?/g);return Ne&&Ne.length>0?Ne.map(ke=>ke.trim()).filter(Boolean):[Ie]},be=pe=>pe.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),We=()=>{var Ne;if(Wn.length>0){const ke=[...Wn].sort((Vt,Si)=>Vt.page-Si.page),Ut=Hn||((Ne=ke[0])==null?void 0:Ne.page)||1,Vn=[];let Tn=0;return ke.forEach(Vt=>{const Si=be(Vt.text||""),Vy=le(Si);Vt.page<Ut&&(Tn+=Vy.length),Vn.push(...Vy)}),{sentences:Vn,defaultStartIndex:Tn}}const pe=be(Dr.content);return{sentences:le(pe),defaultStartIndex:0}},Ye=()=>{vn.current&&(vn.current.pause(),vn.current.src="",vn.current=null),hs.current&&(URL.revokeObjectURL(hs.current),hs.current=null)},Qt=async pe=>{if(xe.current)return;if(vn.current&&vn.current.paused&&!vn.current.ended){await vn.current.play().catch(()=>{}),Ze(!0);return}Ye();const{sentences:Ie,defaultStartIndex:Ne}=We();if(Ie.length===0){alert("  .");return}const ke=typeof pe=="number"&&pe>=0&&pe<Ie.length?pe:Math.min(Ne,Ie.length-1),Vn=Ie.slice(ke).join(" ").slice(0,8e3);if(!Vn){alert("  .");return}try{xe.current=!0,Ze(!0),Lt(ke);const{audioUrl:Tn}=await gfe(Vn,{voiceName:On.voice}),Vt=new Audio(Tn);Vt.playbackRate=On.speed,hs.current=Tn,vn.current=Vt,Vt.onended=()=>{Ze(!1),Lt(null),Ye()},Vt.onerror=()=>{Ze(!1),Lt(null),Ye()},await Vt.play().catch(Si=>{console.error("Audio playback failed",Si),Ze(!1)})}catch(Tn){console.error("Gemini TTS failed",Tn),alert("TTS    ."),Ze(!1),Lt(null)}finally{xe.current=!1}},jt=()=>{vn.current&&vn.current.pause(),Ze(!1)},ti=()=>{Ye(),Ze(!1),Lt(null)},[Yr,Rr]=F.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[Wn,ks]=F.useState([]),[Hn,vo]=F.useState(1),[Vp,Oy]=F.useState(null),[Jo,WA]=F.useState(null),[Ju,yo]=F.useState(null),Dr=e[u];F.useEffect(()=>{window.innerWidth<1024&&Je(!1)},[]),F.useEffect(()=>{const pe=setInterval(()=>{document.visibilityState==="visible"&&Zo()},5e3);return()=>clearInterval(pe)},[]),F.useEffect(()=>{Rr(pe=>({...pe,chapterVisits:{...pe.chapterVisits,[Dr.id]:(pe.chapterVisits[Dr.id]||0)+1}}))},[Dr.id]),F.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(pe){console.error("Failed to persist pdfBookmarks",pe)}},[T]),F.useEffect(()=>{const{chapters:pe,pageMap:Ie}=yfe(mfe);pe.length>0&&(t(pe),fs(Ie),d(0))},[]);const Zo=()=>{Rr(pe=>({...pe,totalReadingTime:pe.totalReadingTime+5}))},Kp=()=>{Rr(pe=>({...pe,aiInteractionCount:pe.aiInteractionCount+1}))},Zu=Nw.useCallback(pe=>{if(e.length===0||Object.keys(ei).length===0)return-1;let Ie=-1,Ne=Number.NEGATIVE_INFINITY,ke=-1,Ut=Number.POSITIVE_INFINITY;return e.forEach((Vn,Tn)=>{const Vt=ei[Vn.id];Vt&&(Vt<=pe&&Vt>Ne&&(Ne=Vt,Ie=Tn),Vt<Ut&&(Ut=Vt,ke=Tn))}),Ie!==-1?Ie:ke},[e,ei]);F.useEffect(()=>{const pe=Zu(Hn);pe!==-1&&pe!==u&&d(pe)},[Hn,Zu,u]);const se=()=>{C(pe=>pe==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},ce=()=>I(pe=>!pe),Ee=(pe,Ie)=>{!pe||pe<1||R(Ne=>Ne.some(Ut=>Ut.page===pe)?Ne:[{id:Date.now().toString(),page:pe,label:Ie||`Page ${pe}`,createdAt:Date.now()},...Ne])},Fe=pe=>{R(Ie=>Ie.filter(Ne=>Ne.id!==pe))},ze=()=>{u<e.length-1&&At(u+1)},Xe=()=>{u>0&&At(u-1)},At=pe=>{if(pe>=0&&pe<e.length){d(pe);const Ie=e[pe],Ne=ei[Ie.id];Ne&&ii(Ne)}},Et=async pe=>{l(!0);try{const Ie=await dfe(pe);Ie.chapters.length>0?(t(Ie.chapters),d(0),a(Ie.chunks),r(null),Je(!0),Pe("ai"),alert(`"${pe.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(Ie){console.error("PDF Load Failed",Ie),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},xn=(pe,Ie,Ne,ke)=>{const Ut=Ne||Dr.id,Vn={id:Date.now().toString(),chapterId:Ut,text:pe,color:"yellow",pageNumber:ke,note:Ie,createdAt:Date.now()};return D(Tn=>[Vn,...Tn]),Rr(Tn=>({...Tn,highlightCount:Tn.highlightCount+1})),Vn.id},Me=(pe,Ie)=>{D(Ne=>Ne.map(ke=>ke.id===pe?{...ke,...Ie}:ke))},ot=pe=>{D(Ie=>Ie.filter(Ne=>Ne.id!==pe))},it=pe=>{I(!0),H(pe),setTimeout(()=>H(null),2e3)},Bt=pe=>{const Ie=typeof pe=="string"?P.find(Ne=>Ne.id===pe):pe;if(Ie){if(Ie.chapterId==="reference-doc"&&!Ie.pageNumber&&Hn&&Me(Ie.id,{pageNumber:Hn}),Ie.chapterId==="reference-doc"&&Ie.pageNumber)ii(Ie.pageNumber);else{const Ne=e.findIndex(ke=>ke.id===Ie.chapterId);Ne>=0&&At(Ne)}it(Ie.id)}},_n=(pe,Ie)=>{re(Ne=>({...Ne,[pe]:[...Ne[pe]||[],Ie]}))},dr=(pe,Ie)=>{re(Ne=>({...Ne,[pe]:(Ne[pe]||[]).filter(ke=>ke.id!==Ie)}))},fr=pe=>($[pe]||[]).length>0,Ei=(pe,Ie)=>{const Ne={id:Date.now().toString(),title:pe||"Untitled Note",content:Ie,chapterId:Dr.id,chapterTitle:Dr.title,createdAt:Date.now(),updatedAt:Date.now()};Ce(ke=>[Ne,...ke])},eA=(pe,Ie,Ne)=>{Ce(ke=>ke.map(Ut=>Ut.id===pe?{...Ut,title:Ie,content:Ne,updatedAt:Date.now()}:Ut))},ni=pe=>{Ce(Ie=>Ie.filter(Ne=>Ne.id!==pe))},Hy=pe=>{let Ie=pe.content.replace(/<[^>]+>/g,"");const Ne=new Blob([`# ${pe.title}

${Ie}`],{type:"text/markdown"}),ke=URL.createObjectURL(Ne),Ut=document.createElement("a");Ut.href=ke,Ut.download=`${pe.title.replace(/\s+/g,"_")}.md`,Ut.click(),URL.revokeObjectURL(ke)},ec=async pe=>{const Ie=await pe.text();let Ne=pe.name.replace(".md","").replace(".json",""),ke=Ie.replace(/\n/g,"<br>");Ei(Ne,ke)},tA=(pe,Ie)=>{const Ne={id:Date.now().toString(),role:pe,text:Ie,timestamp:Date.now()};_e(ke=>[...ke,Ne])},hf=async pe=>{Je(!0),Pe("ai");const Ie=`Explain: "${pe}"`;tA("user",Ie),Kp();let Ne=Dr.content.substring(0,2e3);if(s.length>0){const Ut=ffe(pe,s);Ut&&(Ne=Ut)}const ke=await M6(pe,Ne);tA("model",ke)},tc=pe=>{if(!pe||pe.length<2)return[];const Ie=[],Ne=pe.toLowerCase();return e.forEach(ke=>{const Ut=ke.content.replace(/<[^>]+>/g," "),Vn=Ut.toLowerCase().indexOf(Ne);if(Vn!==-1){const Tn=Math.max(0,Vn-40),Vt=Math.min(Ut.length,Vn+40+pe.length),Si=(Tn>0?"...":"")+Ut.substring(Tn,Vt)+(Vt<Ut.length?"...":"");Ie.push({id:`ch-${ke.id}-${Vn}`,type:"chapter",title:ke.title,contentSnippet:Si,chapterId:ke.id,matchIndex:Vn})}}),P.forEach(ke=>{(ke.text.toLowerCase().includes(Ne)||ke.note&&ke.note.toLowerCase().includes(Ne))&&Ie.push({id:`hl-${ke.id}`,type:"highlight",title:"Highlight",contentSnippet:ke.note?`${ke.text} - ${ke.note}`:ke.text,chapterId:ke.chapterId,pageNumber:ke.pageNumber})}),de.forEach(ke=>{const Ut=ke.content.replace(/<[^>]+>/g," ");(ke.title.toLowerCase().includes(Ne)||Ut.toLowerCase().includes(Ne))&&Ie.push({id:`note-${ke.id}`,type:"note",title:ke.title,contentSnippet:Ut.substring(0,80)+"...",chapterId:ke.chapterId})}),Wn.forEach(ke=>{const Ut=ke.text.toLowerCase().indexOf(Ne);if(Ut!==-1){const Vn=Math.max(0,Ut-40),Tn=Math.min(ke.text.length,Ut+40+pe.length),Vt=(Vn>0?"...":"")+ke.text.substring(Vn,Tn)+(Tn<ke.text.length?"...":"");Ie.push({id:`pdf-${ke.page}-${Ut}`,type:"pdf",title:`p.${ke.page}`,contentSnippet:Vt,pageNumber:ke.page})}}),Ie},ii=pe=>{const Ie=Number.isFinite(pe)?Math.max(1,Math.round(pe)):1;vo(Ie),Vp?Vp(Ie):WA(Ie)},_E=Nw.useCallback(pe=>{Oy(()=>pe),Jo!==null&&(pe(Jo),WA(null))},[Jo]),TE=Nw.useCallback(pe=>{ks(pe)},[]),YA=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return L.jsx(qW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:Dr,goToNextChapter:ze,goToPrevChapter:Xe,goToChapter:At,uploadBook:Et,isProcessing:o,fontSize:h,setFontSize:g,viewMode:b,setViewMode:E,theme:v,toggleTheme:se,showAnnotations:x,toggleAnnotations:ce,bookmarks:T,addPdfBookmark:Ee,removePdfBookmark:Fe,highlights:P,addHighlight:xn,updateHighlight:Me,removeHighlight:ot,activeHighlightId:Q,focusHighlight:it,drawingMode:k,setDrawingMode:K,penColor:V,setPenColor:q,penWidth:J,setPenWidth:te,penOpacity:he,setPenOpacity:G,chapterStrokes:$,addStroke:_n,removeStroke:dr,hasStrokes:fr,generalNotes:de,addGeneralNote:Ei,updateGeneralNote:eA,removeGeneralNote:ni,importNotes:ec,exportNoteAsMarkdown:Hy,isCaptureMode:z,setCaptureMode:X,capturedImage:oe,setCapturedImage:me,aiChatHistory:Se,addChatMessage:tA,triggerSmartExplain:hf,isToolsOpen:Be,setToolsOpen:Je,activeToolTab:ie,setActiveToolTab:Pe,searchQuery:Ge,setSearchQuery:ye,performSearch:tc,isTtsPlaying:Nt,currentTtsSegmentIndex:Zt,ttsConfig:On,setTtsConfig:Te,startTts:Qt,stopTts:ti,pauseTts:jt,stats:Yr,incrementAiCount:Kp,updateReadingTime:Zo,saveProgress:YA,pdfTextPages:Wn,setPdfTextPages:TE,goToPdfPage:ii,goToHighlight:Bt,registerPdfNavigator:_E,pdfSearchHighlight:Ju,setPdfSearchHighlight:yo,currentPdfPage:Hn,setCurrentPdfPage:vo},children:n})},lf=()=>{const n=F.useContext(qW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),VK=n=>{const e=Cfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},$W=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Bfe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Efe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...Efe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:$W("lucide",r),...!s&&!Bfe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(n,e)=>{const t=F.forwardRef(({className:i,...r},s)=>F.createElement(Sfe,{ref:s,iconNode:e,className:$W(`lucide-${bfe(VK(n))}`,`lucide-${n}`,i),...r}));return t.displayName=VK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_fe=lt("bold",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ife=lt("book-open",Tfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],cN=lt("book",Ffe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Ufe=lt("bookmark-check",Mfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Rfe=lt("bookmark-plus",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],dN=lt("bookmark",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KK=lt("bot",Nfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qfe=lt("camera",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ofe=lt("chevron-left",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vfe=lt("chevron-right",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gfe=lt("clock",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],qfe=lt("columns-2",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jfe=lt("ellipsis-vertical",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Yfe=lt("eraser",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jfe=lt("eye",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GK=lt("file-text",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],fN=lt("file-up",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zK=lt("funnel",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],x_=lt("highlighter",nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],rhe=lt("list",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qK=lt("loader-circle",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ohe=lt("log-out",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lhe=lt("message-circle-question-mark",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dU=lt("message-square",uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M5 12h14",key:"1ays0h"}]],dhe=lt("minus",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],hhe=lt("panel-left",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ghe=lt("panel-right",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vhe=lt("pause",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],whe=lt("pen-line",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],jW=lt("pen-tool",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bhe=lt("pen",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],She=lt("play",Ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hN=lt("plus",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],The=lt("printer",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WW=lt("save",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fU=lt("search",Fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Uhe=lt("settings-2",Mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Rhe=lt("square",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Nhe=lt("sticky-note",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Qhe=lt("table",Lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pN=lt("trash-2",khe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Hhe=lt("type",Ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Khe=lt("upload",Vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zhe=lt("volume-2",Ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gN=lt("x",qhe),YW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:C,showAnnotations:b,toggleAnnotations:E,isToolsOpen:x,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:P,currentPdfPage:D,uploadBook:Q,isProcessing:H,isTtsPlaying:k,startTts:K,stopTts:V,pauseTts:q,ttsConfig:J,setTtsConfig:te,setActiveToolTab:he}=lf(),G=of(),$=j$(),re=G.pathname==="/",[de,Ce]=F.useState(!1),[z,X]=F.useState(!1),[oe,me]=F.useState(!1),[Se,_e]=F.useState(!1),Be=F.useRef(null),Je=T.find(ut=>ut.page===D),ie=!!Je,Pe=()=>{confirm("Are you sure you want to close the viewer?")&&$("/report")},Ge=()=>{var ut;(ut=Be.current)==null||ut.click()},ye=ut=>{ut.target.files&&ut.target.files[0]&&Q(ut.target.files[0])},Nt=()=>{D&&(Je?P(Je.id):R(D,`p.${D}`))},Ze=ut=>{const ei=["small","medium","large","xlarge"],fs=ei.indexOf(t);let vn=ut==="up"?fs+1:fs-1;vn<0&&(vn=0),vn>=ei.length&&(vn=ei.length-1),i(ei[vn])},Zt=["Kore","Puck","Charon","Fenrir","Zephyr"],Lt=[.75,1,1.2,1.5,2],On=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return L.jsx("header",{className:"header",children:L.jsxs("div",{className:"header_inner",children:[L.jsxs("div",{className:"header_main",children:[re&&L.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:L.jsx(hhe,{size:20})}),L.jsxs("div",{className:"logo_wrap",children:[L.jsx("div",{className:"icon",children:L.jsx(cN,{})}),L.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),L.jsxs("div",{className:"header_nav",children:[L.jsxs("div",{className:"mode_select",children:[L.jsx(W_,{to:"/",className:`reader ${re?"on":"off"}`,children:"Reader"}),L.jsx(W_,{to:"/report",className:`report ${re?"off":"on"}`,children:"Report"})]}),L.jsx("div",{className:"separate_bar"}),L.jsxs("button",{onClick:Ge,disabled:H,className:"add_file",title:"Add Reference Material (PDF)",children:[H?L.jsx(qK,{size:16,className:"animate-spin"}):L.jsx(fN,{size:16}),L.jsx("span",{children:"Add Reference"}),L.jsx("input",{type:"file",ref:Be,className:"hidden",accept:"application/pdf",onChange:ye})]})]}),L.jsxs("div",{className:"header_tools",children:[re&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>me(!oe),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:L.jsx(zhe,{size:20})}),oe&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),L.jsx("button",{onClick:()=>me(!1),className:"text-slate-400",children:L.jsx(gN,{size:14})})]}),L.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[L.jsx("button",{onClick:V,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:L.jsx(Rhe,{size:16,fill:"currentColor"})}),L.jsx("button",{onClick:()=>k?q():K(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?L.jsx(vhe,{size:24,fill:"white"}):L.jsx(She,{size:24,className:"ml-1",fill:"white"})})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),L.jsx("div",{className:"grid grid-cols-3 gap-1",children:Zt.map(ut=>L.jsx("button",{onClick:()=>te({voice:ut}),className:`px-2 py-1 rounded text-[10px] border transition-all ${J.voice===ut?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:ut},ut))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),L.jsx("div",{className:"flex justify-between gap-1",children:Lt.map(ut=>L.jsxs("button",{onClick:()=>te({speed:ut}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${J.speed===ut?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[ut,"x"]},ut))})]})]})]})]}),L.jsx("button",{onClick:Nt,className:`bookmark_icon_btn ${ie?"on":"off"}`,title:ie?"Remove bookmark for this page":"Bookmark this page",children:ie?L.jsx(Ufe,{size:20}):L.jsx(Rfe,{size:20})}),L.jsxs("div",{className:"draw_icon_wrap",children:[L.jsxs("div",{className:"draw_icon_inner",children:[L.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:L.jsx(Bhe,{size:18})}),a==="pen"&&L.jsx("button",{onClick:()=>Ce(!de),className:"detail_select",title:"Pen Settings",children:L.jsx(Uhe,{size:12})}),L.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),Ce(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:L.jsx(Yfe,{size:18})})]}),de&&a==="pen"&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),L.jsx("button",{onClick:()=>Ce(!1),className:"text-slate-400 hover:text-slate-600",children:L.jsx(gN,{size:14})})]}),L.jsx("div",{className:"flex justify-between mb-4",children:On.map(ut=>L.jsx("button",{onClick:()=>u(ut),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===ut?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:ut}},ut))}),L.jsxs("div",{className:"mb-3",children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Thickness"}),L.jsxs("span",{children:[d,"px"]})]}),L.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:ut=>h(parseInt(ut.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Opacity"}),L.jsxs("span",{children:[Math.round(g*100),"%"]})]}),L.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:ut=>v(parseFloat(ut.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>X(!z),className:"appearance",title:"Appearance",children:L.jsx(Hhe,{size:20})}),z&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),L.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[L.jsx("button",{onClick:()=>Ze("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(dhe,{size:14})}),L.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),L.jsx("button",{onClick:()=>Ze("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(hN,{size:14})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(qfe,{size:16})," Two-Page View"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(Jfe,{size:16})," Annotations"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${b?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${b?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:Nt,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(dN,{size:16})," Bookmark Page"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${ie?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${ie?"translate-x-4":""}`})})]})]})]})]}),L.jsx("button",{onClick:()=>I(!x),className:`toggle_ai_notes ${x?"on":"off"}`,title:"Toggle AI & Notes",children:L.jsx(ghe,{size:20})})]}),L.jsxs("div",{className:"relative ml-1",children:[L.jsx("button",{onClick:()=>_e(!Se),className:"more",children:L.jsx(jfe,{size:20})}),Se&&L.jsxs("div",{className:"more_list",children:[L.jsxs("button",{onClick:Ge,className:"",children:[H?L.jsx(qK,{size:14,className:"animate-spin"}):L.jsx(fN,{size:14})," ","Add Reference PDF"]}),L.jsx("input",{type:"file",ref:Be,className:"hidden",accept:"application/pdf",onChange:ye}),L.jsxs("button",{onClick:C,className:"",children:[L.jsx(WW,{size:14})," Save Progress"]}),L.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),L.jsxs("button",{onClick:Pe,className:"exit_viewer",children:[L.jsx(ohe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:$he,AnnotationEditorLayer:jhe,AnnotationEditorParamsType:rQe,AnnotationEditorType:Cs,AnnotationEditorUIManager:Whe,AnnotationLayer:Yhe,AnnotationMode:QA,AnnotationType:XW,applyOpacity:sQe,build:aQe,ColorPicker:oQe,createValidAbsoluteUrl:JW,CSSConstants:AQe,DOMSVGFactory:lQe,DrawLayer:Xhe,FeatureTest:ZW,fetchData:$K,findContrastColor:uQe,getDocument:cQe,getFilenameFromUrl:dQe,getPdfFilenameFromUrl:Jhe,getRGB:fQe,getUuid:hQe,getXfaPageViewport:pQe,GlobalWorkerOptions:gQe,ImageKind:mQe,InvalidPDFException:vQe,isDataScheme:yQe,isPdfFile:Zhe,isValidExplicitDest:epe,MathClamp:qQ,noContextMenu:wQe,normalizeUnicode:tpe,OPS:bQe,OutputScale:__,PasswordResponses:CQe,PDFDataRangeTransport:BQe,PDFDateString:EQe,PDFWorker:SQe,PermissionFlag:Eg,PixelsPerInch:Cl,RenderingCancelledException:mN,renderRichText:xQe,ResponseException:_Qe,setLayerDimensions:eY,shadow:Zw,SignatureExtractor:TQe,stopEvent:vN,SupportedImageMimeTypes:IQe,TextLayer:npe,TouchManager:FQe,updateUrlHash:ipe,Util:$Q,VerbosityLevel:MQe,version:jK,XfaLayer:hU}=globalThis.pdfjsLib,rpe="auto",tY=1,WK=1.1,spe=.1,ape=10,pU=0,ope=1.25,YK=40,XK=5,zt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Am={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},NA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},kt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},qr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function nY(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=qQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function Ape(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function q1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const JK=/[\x00-\x1F]/g;function kw(n,e=!1){return JK.test(n)?e?n.replaceAll(JK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function eb(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function ZK(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function WS(n,e){return n-n%e}function lpe(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function upe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,P=R+T.clientWidth;return r?R<l:P>o}const h=[],g=new Set,v=e.length;let C=eb(e,i?d:u);C>0&&C<v&&!i&&(C=lpe(C,e,s));let b=i?l:-1;for(let I=C;I<v;I++){const T=e[I],R=T.div,P=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,Q=R.clientWidth,H=R.clientHeight,k=P+Q,K=D+H;if(b===-1)K>=a&&(b=K);else if((i?P:D)>b)break;if(K<=s||D>=a||k<=o||P>=l)continue;const V=Math.max(0,s-D),q=Math.max(0,o-P),J=V+Math.max(0,K-a),te=q+Math.max(0,k-l),he=(H-J)/H,G=(Q-te)/Q,$=he*G*100|0;h.push({id:T.id,x:P,y:D,visibleArea:$===100?null:{minX:q,minY:V,maxX:Math.min(k,l)-P,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:G*100|0}),g.add(T.id)}const E=h[0],x=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:x,views:h,ids:g}}function iY(n){return Number.isInteger(n)&&n%90===0}function cpe(n){return Number.isInteger(n)&&Object.values(kt).includes(n)&&n!==kt.UNKNOWN}function dpe(n){return Number.isInteger(n)&&Object.values(qr).includes(n)&&n!==qr.UNKNOWN}function eG(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const fpe=document.documentElement.style;var _d,Ap,Td,Ov,lp;class hpe{constructor(e){M(this,_d,null);M(this,Ap,null);M(this,Td,0);M(this,Ov,null);M(this,lp,!0);_(this,_d,e.classList),_(this,Ov,e.style)}get percent(){return f(this,Td)}set percent(e){if(_(this,Td,qQ(e,0,100)),isNaN(e)){f(this,_d).add("indeterminate");return}f(this,_d).remove("indeterminate"),f(this,Ov).setProperty("--progressBar-percent",`${f(this,Td)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,Ov).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,Td)===100||isNaN(f(this,Td))||(f(this,Ap)&&clearTimeout(f(this,Ap)),this.show(),_(this,Ap,setTimeout(()=>{_(this,Ap,null),this.hide()},e)))}hide(){f(this,lp)&&(_(this,lp,!1),f(this,_d).add("hidden"))}show(){f(this,lp)||(_(this,lp,!0),f(this,_d).remove("hidden"))}}_d=new WeakMap,Ap=new WeakMap,Td=new WeakMap,Ov=new WeakMap,lp=new WeakMap;function ppe(n){let e=kt.VERTICAL,t=qr.NONE;switch(n){case"SinglePage":e=kt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=kt.PAGE;case"TwoColumnLeft":t=qr.ODD;break;case"TwoPageRight":e=kt.PAGE;case"TwoColumnRight":t=qr.EVEN;break}return{scrollMode:e,spreadMode:t}}const YS=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),Bo={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function gpe(n){return n<11904}function mpe(n){return(n&65408)===0}function vpe(n){return n>=97&&n<=122||n>=65&&n<=90}function ype(n){return n>=48&&n<=57}function wpe(n){return n===32||n===9||n===13||n===10}function bpe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function Cpe(n){return n>=12448&&n<=12543}function Bpe(n){return n>=12352&&n<=12447}function Epe(n){return n>=65376&&n<=65439}function Spe(n){return(n&65408)===3584}function XS(n){return gpe(n)?mpe(n)?wpe(n)?Bo.SPACE:vpe(n)||ype(n)||n===95?Bo.ALPHA_LETTER:Bo.PUNCT:Spe(n)?Bo.THAI_LETTER:n===160?Bo.SPACE:Bo.ALPHA_LETTER:bpe(n)?Bo.HAN_LETTER:Cpe(n)?Bo.KATAKANA_LETTER:Bpe(n)?Bo.HIRAGANA_LETTER:Epe(n)?Bo.HALFWIDTH_KATAKANA_LETTER:Bo.ALPHA_LETTER}let xpe;function _pe(){return xpe}const xc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Tpe=250,Ipe=-50,tG={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},nG=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let iG;const Fpe=new RegExp("\\p{M}+","gu"),Mpe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Upe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Ppe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Rpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,rG=new Map,Dpe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",sG=new Map;let gU=null,mU=null;function T_(n,e={}){const t=[];let i;for(;(i=Rpe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=rG.get(T);R||(R=T.normalize("NFD").length,rG.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&gU)a=gU;else if(r&&mU)a=mU;else{const I=Object.keys(tG).join(""),T=_pe(),Q=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?Dpe:"\\u0000"];a=new RegExp(Q.map(H=>`(${H})`).join("|"),"gum"),r?mU=a:gU=a}const o=[];for(;(i=Fpe.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,C=0,b=!1;l=l.replace(a,(I,T,R,P,D,Q,H,k,K,V,q)=>{var J,te,he;if(q-=v,T){const G=tG[T],$=G.length;for(let re=1;re<$;re++)u.push(q-g+re,g-re);return g-=$-1,G}if(R){let G=sG.get(R);G||(G=R.normalize("NFKC"),sG.set(R,G));const $=G.length;for(let re=1;re<$;re++)u.push(q-g+re,g-re);return g-=$-1,G}if(P)return b=!0,q+C===((J=o[d])==null?void 0:J[1])?++d:(u.push(q-1-g+1,g-1),g-=1,v+=1),u.push(q-g+1,g),v+=1,C+=1,P.charAt(0);if(D){const G=D.endsWith(`
`),$=G?D.length-2:D.length;b=!0;let re=$;q+C===((te=o[d])==null?void 0:te[1])&&(re-=o[d][0],++d);for(let de=1;de<=re;de++)u.push(q-1-g+de,g-de);return g-=re,v+=re,G?(q+=$-1,u.push(q-g+1,1+g),g+=1,v+=1,C+=1,D.slice(0,$)):D}if(Q){if(s)return v+=1,C+=1,Q.slice(0,-1);const G=Q.length-2;return u.push(q-g+G,1+g),g+=1,v+=1,C+=1,Q.slice(0,-2)}if(H)return v+=1,C+=1,H.slice(0,-1);if(k){const G=k.length-1;return u.push(q-g+G,g),v+=1,C+=1,k.slice(0,-1)}if(K)return u.push(q-g+1,g-1),g-=1,v+=1,C+=1," ";if(q+C===((he=t[h])==null?void 0:he[1])){const G=t[h][0]-1;++h;for(let $=1;$<=G;$++)u.push(q-(g-$),g-$);g-=G,v+=G}return V}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),x=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],x[I>>1]=u[I+1];return[l,[E,x],b]}function rY(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=eb(i,g=>g>=s);i[o]>s&&--o;let l=eb(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var Hi,Hv,up,je,sY,yN,wN,aY,oY,bN,AY,lY,I_,bw,Kg,uY,CN,BN,F_,cY,EN,SN,Cw;class Npe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){M(this,je);M(this,Hi,null);M(this,Hv,!0);M(this,up,0);this._linkService=e,this._eventBus=t,_(this,Hv,i),this.onIsPageVisible=null,U(this,je,yN).call(this),t._on("find",U(this,je,sY).bind(this)),t._on("findbarclose",U(this,je,cY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Hi)}setDocument(e){this._pdfDocument&&U(this,je,yN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,nY(e,{top:Ipe,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=U(this,je,bN).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=U(this,je,bN).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Hi),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!U(this,je,oY).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Hi=new WeakMap,Hv=new WeakMap,up=new WeakMap,je=new WeakSet,sY=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,Hi)===null||U(this,je,aY).call(this,e))&&(this._dirtyMatch=!0),_(this,Hi,e),i!=="highlightallchange"&&U(this,je,Cw).call(this,xc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;U(this,je,lY).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?U(this,je,Kg).call(this):i==="again"?(U(this,je,Kg).call(this),r&&f(this,Hi).highlightAll&&U(this,je,bw).call(this)):i==="highlightallchange"?(s?U(this,je,Kg).call(this):this._highlightMatches=!0,U(this,je,bw).call(this)):U(this,je,Kg).call(this):this._findTimeout=setTimeout(()=>{U(this,je,Kg).call(this),this._findTimeout=null},Tpe)})},yN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,up,0),_(this,Hi,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},wN=function(){const{query:e}=f(this,Hi);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=T_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>T_(t)[0])},aY=function(e){var a;const t=e.query,i=f(this,Hi).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},oY=function(e,t,i){let r=e.slice(0,t).match(Upe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(XS(s)===XS(a))return!1}if(r=e.slice(t+i).match(Ppe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(XS(s)===XS(a))return!1}return!0},bN=function(e,t){const{matchDiacritics:i}=f(this,Hi);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(Mpe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?nG.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(iG||(iG=String.fromCharCode(...nG)),r=!0,e=`${e}(?=[${iG}]|[^\\p{M}]|$)`),[r,e]},AY=function(e){if(!f(this,Hi))return;const t=f(this,je,wN);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=rY(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Hi).highlightAll&&U(this,je,I_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,U(this,je,CN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Hv)?l>0&&U(this,je,SN).call(this):++gi(this,up)._===this._linkService.pagesCount&&U(this,je,SN).call(this)},lY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=T_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},I_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},bw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Kg=function(){const e=f(this,Hi).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,up,0),this._matchesCountTotal=0,U(this,je,bw).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),U(this,je,AY).call(this,a)}))}if(f(this,je,wN).length===0){U(this,je,Cw).call(this,xc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,U(this,je,F_).call(this,!0);return}U(this,je,BN).call(this,e)}U(this,je,CN).call(this)},uY=function(e){const t=this._offset,i=e.length,r=f(this,Hi).findPrevious;return i?(t.matchIdx=r?i-1:0,U(this,je,F_).call(this,!0),!0):(U(this,je,BN).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(U(this,je,F_).call(this,!1),!0):!1)},CN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!U(this,je,uY).call(this,e))},BN=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},F_=function(e=!1){let t=xc.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?xc.WRAPPED:xc.FOUND,r!==-1&&r!==this._selected.pageIdx&&U(this,je,I_).call(this,r)}U(this,je,Cw).call(this,t,f(this,Hi).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,je,I_).call(this,this._selected.pageIdx))},cY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,je,Cw).call(this,xc.FOUND),this._highlightMatches=!1,U(this,je,bw).call(this))})},EN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},SN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,je,EN).call(this)})},Cw=function(e,t=!1){var i,r;!f(this,Hv)&&(f(this,up)!==this._linkService.pagesCount||e===xc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,Hi))==null?void 0:i.entireWord)??null,matchesCount:U(this,je,EN).call(this),rawQuery:((r=f(this,Hi))==null?void 0:r.query)??null})};const Lpe="noopener noreferrer nofollow",Df={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class jQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){we(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?Df.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case Df.NONE:break;case Df.SELF:a="_self";break;case Df.BLANK:a="_blank";break;case Df.PARENT:a="_parent";break;case Df.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Lpe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=q1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||epe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class WQ extends jQ{setDocument(e,t=null){}}var Id,AB,lB,uB,Fd,cB,Vu,fY,xN,hY;class dY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:C=null,onAppend:b=null}){M(this,Vu);M(this,Id,null);M(this,AB,null);M(this,lB,!1);M(this,uB,null);M(this,Fd,null);M(this,cB,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,AB,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=C,_(this,uB,b),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,uB))==null||l.call(this,o),U(this,Vu,fY).call(this,e,i),r.length===0){_(this,Id,r),eY(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,Id,r),this.linkService.isInPresentationMode&&U(this,Vu,xN).call(this,Am.FULLSCREEN),f(this,Fd)||(_(this,Fd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{U(this,Vu,xN).call(this,d.state)},{signal:f(this,Fd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,Fd))==null||e.abort(),_(this,Fd,null)}hide(e=!1){_(this,lB,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,Id)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,cB))return;_(this,cB,!0);const t=f(this,Id).length?U(this,Vu,hY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,lB)||(this.div.hidden=!1))}}Id=new WeakMap,AB=new WeakMap,lB=new WeakMap,uB=new WeakMap,Fd=new WeakMap,cB=new WeakMap,Vu=new WeakSet,fY=function(e,t){this.annotationLayer=new Yhe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,AB),linkService:this.linkService})},xN=function(e){if(!this.div)return;let t=!1;switch(e){case Am.FULLSCREEN:t=!0;break;case Am.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},hY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=$Q.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,Id)){if(o.annotationType!==XW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function aG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var CQ;class Qpe{constructor(){M(this,CQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));aG(r,t)}openOrDownloadData(e,t,i=null){const s=Zhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!JW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}aG(r,i)}}CQ=new WeakMap;const oG={EVENT:"event",TIMEOUT:"timeout"};async function kpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof YQ?"_on":"addEventListener";n[o](e,a.bind(null,oG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,oG.TIMEOUT),t);return i}var Vv;class YQ{constructor(){M(this,Vv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,Vv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Vv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,Vv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}Vv=new WeakMap;class lm{constructor(e){this.value=e}valueOf(){return this.value}}class Di extends lm{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class Bu extends lm{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class ef extends lm{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof lm)return ef.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof ef?(t={...e.opts,...t},e=e.value):e instanceof lm&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const AG=100,Ope="",Hpe="";function Vpe(n,e,t){if(t===e||t instanceof Bu&&e instanceof Bu&&t.value===e.value)return!0;if(e instanceof Bu&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function lG(n,e,t){return e[t]?uy(n,e[t].value):(n.reportError(new RangeError("No default")),new Di)}function _N(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=tb(n,r.value):t.push(tb(n,r));return{positional:t,named:i}}function tb(n,e){switch(e.type){case"str":return e.value;case"num":return new Bu(e.value,{minimumFractionDigits:e.precision});case"var":return Kpe(n,e);case"mesg":return Gpe(n,e);case"term":return zpe(n,e);case"func":return qpe(n,e);case"select":return $pe(n,e);default:return new Di}}function Kpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Di(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Di(`$${e}`);if(t instanceof lm)return t;switch(typeof t){case"string":return t;case"number":return new Bu(t);case"object":if(ef.supportsValue(t))return new ef(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Di(`$${e}`)}}function Gpe(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Di(e);if(t){const r=i.attributes[t];return r?uy(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Di(`${e}.${t}`))}return i.value?uy(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Di(e))}function zpe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Di(r);if(t){const o=s.attributes[t];if(o){n.params=_N(n,i).named;const l=uy(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Di(`${r}.${t}`)}n.params=_N(n,i).named;const a=uy(n,s.value);return n.params=null,a}function qpe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Di(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Di(`${e}()`);try{let r=_N(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Di(`${e}()`)}}function $pe(n,{selector:e,variants:t,star:i}){let r=tb(n,e);if(r instanceof Di)return lG(n,t,i);for(const s of t){const a=tb(n,s.key);if(Vpe(n,r,a))return uy(n,s.value)}return lG(n,t,i)}function pY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Di;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>AG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${AG}`);i&&t.push(Ope),t.push(tb(n,r).toString(n)),i&&t.push(Hpe)}return n.dirty.delete(e),t.join("")}function uy(n,e){return typeof e=="string"?n.bundle._transform(e):pY(n,e)}class jpe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function TN(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const uG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Wpe(n,e){let t=n[0];if(t instanceof Di)return new Di(`NUMBER(${t.valueOf()})`);if(t instanceof Bu)return new Bu(t.valueOf(),{...t.opts,...TN(e,uG)});if(t instanceof ef)return new Bu(t.toNumber(),{...TN(e,uG)});throw new TypeError("Invalid argument to NUMBER")}const Ype=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Xpe(n,e){let t=n[0];if(t instanceof Di)return new Di(`DATETIME(${t.valueOf()})`);if(t instanceof ef||t instanceof Bu)return new ef(t,TN(e,Ype));throw new TypeError("Invalid argument to DATETIME")}const cG=new Map;function Jpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=cG.get(e);return t===void 0&&(t=new Map,cG.set(e,t)),t}class Zpe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Wpe,DATETIME:Xpe,...t},this._useIsolating=i,this._transform=r,this._intls=Jpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new jpe(this,i,t);try{return pY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new Di().toString(r);throw s}}}const vU=/^(-?[a-zA-Z][\w-]*) *= */gm,dG=/\.([a-zA-Z][\w-]*) *= */y,ege=/\*?\[/y,yU=/(-?[0-9]+(?:\.([0-9]+))?)/y,tge=/([a-zA-Z][\w-]*)/y,fG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,nge=/^[A-Z][A-Z0-9_-]*$/,JS=/([^{}\n\r]+)/y,ige=/([^\\"\n\r]*)/y,hG=/\\([\\"])/y,pG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,rge=/^\n+/,gG=/ +$/,sge=/ *\r?\n/g,age=/( *)$/,oge=/{\s*/y,mG=/\s*}/y,Age=/\[\s*/y,lge=/\s*] */y,uge=/\s*\(\s*/y,cge=/\s*->\s*/y,dge=/\s*:\s*/y,fge=/\s*,?\s*/y,hge=/\s+/y;class pge{constructor(e){this.body=[],vU.lastIndex=0;let t=0;for(;;){let k=vU.exec(e);if(k===null)break;t=vU.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(k){return k.lastIndex=t,k.test(e)}function r(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(i(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),V=u();if(K===null&&Object.keys(V).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:V}}function u(){let k=Object.create(null);for(;i(dG);){let K=o(dG),V=d();if(V===null)throw new SyntaxError("Expected attribute value");k[K]=V}return k}function d(){let k;if(i(JS)&&(k=o(JS)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=Q(K.value,rge),h([K],K.length)):k?Q(k,gG):null}function h(k=[],K){for(;;){if(i(JS)){k.push(o(JS));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let te=D();if(te){k.push(te),K=Math.min(K,te.length);continue}break}let V=k.length-1,q=k[V];typeof q=="string"&&(k[V]=Q(q,gG));let J=[];for(let te of k)te instanceof vG&&(te=te.value.slice(0,te.value.length-K)),te&&J.push(te);return J}function g(){s(oge,SyntaxError);let k=v();if(s(mG))return k;if(s(cge)){let K=E();return s(mG,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(fG)){let[,k,K,V=null]=a(fG);if(k==="$")return{type:"var",name:K};if(s(uge)){let q=C();if(k==="-")return{type:"term",name:K,attr:V,args:q};if(nge.test(K))return{type:"func",name:K,args:q};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:V,args:[]}:{type:"mesg",name:K,attr:V}}return I()}function C(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(b()),s(fge)}}function b(){let k=v();return k.type!=="mesg"?k:s(dge)?{type:"narg",name:k.name,value:I()}:k}function E(){let k=[],K=0,V;for(;i(ege);){r("*")&&(V=K);let q=x(),J=d();if(J===null)throw new SyntaxError("Expected variant value");k[K++]={key:q,value:J}}if(K===0)return null;if(V===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:V}}function x(){s(Age,SyntaxError);let k;return i(yU)?k=T():k={type:"str",value:o(tge)},s(lge,SyntaxError),k}function I(){if(i(yU))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(yU),V=K.length;return{type:"num",value:parseFloat(k),precision:V}}function R(){r('"',SyntaxError);let k="";for(;;){if(k+=o(ige),e[t]==="\\"){k+=P();continue}if(r('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function P(){if(i(hG))return o(hG);if(i(pG)){let[,k,K]=a(pG),V=parseInt(k||K,16);return V<=55295||57344<=V?String.fromCodePoint(V):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(hge),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function Q(k,K){return k.replace(K,"")}function H(k){let K=k.replace(sge,`
`),V=age.exec(k)[1].length;return new vG(K,V)}}}class vG{constructor(e,t){this.value=e,this.length=t}}const gge=/<|&#?\w+;/,mge={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},vge={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function yge(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!gge.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,wge(i.content,n)}gY(e,n)}function wge(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=Cge(e,t);n.replaceChild(i,t);continue}if(Ege(t)){const i=Bge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(IN(t),t)}e.textContent="",e.appendChild(n)}function bge(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function gY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))yG(i.name,e,t)&&!bge(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))yG(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function Cge(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),IN(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),IN(e);n.removeChild(i);const r=i.cloneNode(!1);return mY(e,r)}function Bge(n){const e=n.ownerDocument.createElement(n.localName);return mY(n,e)}function IN(n){return n.ownerDocument.createTextNode(n.textContent)}function Ege(n){const e=mge[n.namespaceURI];return e&&e.includes(n.localName)}function yG(n,e,t=null){if(t&&t.includes(n))return!0;const i=vge[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function mY(n,e){return e.textContent=n.textContent,gY(n,e),e}class Sge extends Array{static from(e){return e instanceof this?e:new this(e)}}class xge extends Sge{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class _ge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=Fge(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,Ige)}formatValues(e){return this.formatWithFallback(e,Tge)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=xge.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Tge(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function Ige(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function Fge(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const Nf="data-l10n-id",k0="data-l10n-args",Mge=`[${Nf}]`;class Uge extends _ge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Nf,k0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Nf,t),i?e.setAttribute(k0,JSON.stringify(i)):e.removeAttribute(k0),e}getAttributes(e){return{id:e.getAttribute(Nf),args:JSON.parse(e.getAttribute(k0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Nf)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&yge(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Mge));return typeof e.hasAttribute=="function"&&e.hasAttribute(Nf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Nf),args:JSON.parse(e.getAttribute(k0)||null)}}}var dB,Md,Kv,Fs,Ey,vY,yY;const $w=class $w{constructor({lang:e,isRTL:t},i=null){M(this,dB);M(this,Md);M(this,Kv);M(this,Fs);var r,s;_(this,Kv,U(r=$w,Ey,vY).call(r,e)),_(this,Fs,i),_(this,dB,t??U(s=$w,Ey,yY).call(s,f(this,Kv))?"rtl":"ltr")}_setL10n(e){_(this,Fs,e)}getLanguage(){return f(this,Kv)}getDirection(){return f(this,dB)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,Fs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,Fs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,Md)||_(this,Md,new Set)).add(e);try{f(this,Fs).connectRoot(e),await f(this,Fs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,Fs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,Md)){for(const e of f(this,Md))f(this,Fs).disconnectRoot(e);f(this,Md).clear(),_(this,Md,null)}f(this,Fs).pauseObserving()}pause(){f(this,Fs).pauseObserving()}resume(){f(this,Fs).resumeObserving()}};dB=new WeakMap,Md=new WeakMap,Kv=new WeakMap,Fs=new WeakMap,Ey=new WeakSet,vY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},yY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},M($w,Ey);let FN=$w;function Pge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=ZW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function wG(n,e){const t=new pge(e),i=new Zpe(n,{functions:{PLATFORM:Pge}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var Ea,wY,bY,CY,BY,MN;const Kf=class Kf extends FN{constructor(e){super({lang:e});const t=e?U(Kf,Ea,wY).bind(Kf,"en-us",this.getLanguage()):U(Kf,Ea,BY).bind(Kf,this.getLanguage());this._setL10n(new Uge([],t))}};Ea=new WeakSet,wY=async function*(e,t){const{baseURL:i,paths:r}=await U(this,Ea,CY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,U(this,Ea,bY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield U(this,Ea,MN).call(this,o))}},bY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await $K(s,"text");return wG(e,a)},CY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await $K(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},BY=async function*(e){yield U(this,Ea,MN).call(this,e)},MN=async function(e){return wG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},M(Kf,Ea);let cy=Kf;const Rge=1e3,Dge=50,Nge=1e3;function wU(){return document.location.hash}var Ud,vt,yl,M_,U_,Bw,P_,UN,EY,SY,PN,xY,_Y;class Lge{constructor({linkService:e,eventBus:t}){M(this,vt);M(this,Ud,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,U(this,vt,xY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=wU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!U(this,vt,Bw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=U(this,vt,UN).call(this,!0);if(!o||r||t){U(this,vt,yl).call(this,null,!0);return}U(this,vt,yl).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;U(this,vt,P_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(U(this,vt,PN).call(this),this._initialized=!1,U(this,vt,_Y).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!U(this,vt,U_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(Qge(this._destination.hash,r)||kge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(U(this,vt,yl).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!U(this,vt,U_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(U(this,vt,yl).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||U(this,vt,M_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,vt,Bw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,vt,Bw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Ud=new WeakMap,vt=new WeakSet,yl=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};U(this,vt,P_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=ipe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},M_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){U(this,vt,yl).call(this,t);return}if(this._destination.temporary){U(this,vt,yl).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Dge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}U(this,vt,yl).call(this,t,i)},U_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},Bw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},P_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},UN=function(e=!1){const t=unescape(wU()).substring(1),i=q1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!U(this,vt,U_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},EY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||U(this,vt,M_).call(this,!0),this._updateViewareaTimeout=null},Nge))},SY=function({state:e}){const t=wU(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=U(this,vt,UN).call(this);U(this,vt,yl).call(this,{hash:s,page:a,rotation:o},!0);return}if(!U(this,vt,Bw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,kpe({target:window,name:"hashchange",delay:Rge}).then(()=>{this._blockHashChange--}));const r=e.destination;U(this,vt,P_).call(this,r,e.uid,!0),iY(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},PN=function(){(!this._destination||this._destination.temporary)&&U(this,vt,M_).call(this)},xY=function(){if(f(this,Ud))return;_(this,Ud,new AbortController);const{signal:e}=f(this,Ud);this.eventBus._on("updateviewarea",U(this,vt,EY).bind(this),{signal:e}),window.addEventListener("popstate",U(this,vt,SY).bind(this),{signal:e}),window.addEventListener("pagehide",U(this,vt,PN).bind(this),{signal:e})},_Y=function(){var e;(e=f(this,Ud))==null||e.abort(),_(this,Ud,null)};function Qge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||q1(n).get("nameddest")===e}function kge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var fB,hB,pB,gB,mB,Gv;class Oge{constructor(e){M(this,fB,null);M(this,hB,null);M(this,pB,null);M(this,gB,null);M(this,mB,null);M(this,Gv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new cy),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Gv,e.uiManager),_(this,fB,e.annotationLayer||null),_(this,mB,e.textLayer||null),_(this,hB,e.drawLayer||null),_(this,pB,e.onAppend||null),_(this,gB,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,Gv).direction,(a=f(this,pB))==null||a.call(this,r),this.annotationEditorLayer=new jhe({uiManager:f(this,Gv),div:r,structTreeLayer:f(this,gB),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,fB),textLayer:f(this,mB),drawLayer:f(this,hB)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}fB=new WeakMap,hB=new WeakMap,pB=new WeakMap,gB=new WeakMap,mB=new WeakMap,Gv=new WeakMap;{var RN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&RN.set("maxCanvasPixels",5242880)})(),(function(){i&&RN.set("useSystemFonts",!1)})()}const ue={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},DN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},gu={allowedGlobalEvents:{value:null,kind:ue.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ue.BROWSER+ue.API},isInAutomation:{value:!1,kind:ue.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ue.BROWSER},maxCanvasDim:{value:32767,kind:ue.BROWSER+ue.VIEWER},nimbusDataStr:{value:"",kind:ue.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ue.BROWSER},supportsDocumentFonts:{value:!0,kind:ue.BROWSER},supportsIntegratedFind:{value:!1,kind:ue.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ue.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ue.BROWSER},supportsPinchToZoom:{value:!0,kind:ue.BROWSER},supportsPrinting:{value:!0,kind:ue.BROWSER},toolbarDensity:{value:0,kind:ue.BROWSER+ue.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},annotationEditorMode:{value:0,kind:ue.VIEWER+ue.PREFERENCE},annotationMode:{value:2,kind:ue.VIEWER+ue.PREFERENCE},capCanvasAreaFactor:{value:200,kind:ue.VIEWER+ue.PREFERENCE},commentLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},cursorToolOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ue.VIEWER},defaultZoomDelay:{value:400,kind:ue.VIEWER+ue.PREFERENCE},defaultZoomValue:{value:"",kind:ue.VIEWER+ue.PREFERENCE},disableHistory:{value:!1,kind:ue.VIEWER},disablePageLabels:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltText:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableComment:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableDetailCanvas:{value:!0,kind:ue.VIEWER},enableGuessAltText:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePermissions:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableScripting:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableSignatureEditor:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ue.VIEWER},externalLinkTarget:{value:0,kind:ue.VIEWER+ue.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:ue.VIEWER+ue.PREFERENCE},historyUpdateUrl:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ue.VIEWER},maxCanvasPixels:{value:2**25,kind:ue.VIEWER},minDurationToUpdateCanvas:{value:500,kind:ue.VIEWER},forcePageColors:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ue.VIEWER+ue.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ue.VIEWER+ue.PREFERENCE},pdfBugEnabled:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},printResolution:{value:150,kind:ue.VIEWER},sidebarViewOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},textLayerMode:{value:1,kind:ue.VIEWER+ue.PREFERENCE},viewerCssTheme:{value:0,kind:ue.VIEWER+ue.PREFERENCE},viewOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},cMapPacked:{value:!0,kind:ue.API},cMapUrl:{value:"../web/cmaps/",kind:ue.API},disableAutoFetch:{value:!1,kind:ue.API+ue.PREFERENCE},disableFontFace:{value:!1,kind:ue.API+ue.PREFERENCE},disableRange:{value:!1,kind:ue.API+ue.PREFERENCE},disableStream:{value:!1,kind:ue.API+ue.PREFERENCE},docBaseUrl:{value:"",kind:ue.API},enableHWA:{value:!0,kind:ue.API+ue.VIEWER+ue.PREFERENCE},enableXfa:{value:!0,kind:ue.API+ue.PREFERENCE},fontExtraProperties:{value:!1,kind:ue.API},iccUrl:{value:"../web/iccs/",kind:ue.API},isEvalSupported:{value:!0,kind:ue.API},isOffscreenCanvasSupported:{value:!0,kind:ue.API},maxImageSize:{value:-1,kind:ue.API},pdfBug:{value:!1,kind:ue.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ue.API},useSystemFonts:{value:void 0,kind:ue.API,type:DN.BOOLEAN+DN.UNDEFINED},verbosity:{value:1,kind:ue.API},wasmUrl:{value:"../web/wasm/",kind:ue.API},workerPort:{value:null,kind:ue.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ue.WORKER}};gu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ue.VIEWER},gu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ue.VIEWER},gu.enableFakeMLManager={value:!0,kind:ue.VIEWER};gu.disablePreferences={value:!1,kind:ue.VIEWER};var Pd;const uA=class uA{static get(e){return f(this,Pd).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in gu){const s=gu[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,Pd).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=gu[r],a=e[r];if(!s||!(typeof a==typeof s.value||DN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&ue.BROWSER||o&ue.PREFERENCE)||(this.eventBus&&o&ue.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,Pd).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};Pd=new WeakMap,we(uA,"eventBus"),M(uA,Pd,new Map),(()=>{for(const e in gu)f(uA,Pd).set(e,gu[e].value);for(const[e,t]of RN)f(uA,Pd).set(e,t);uA._hasInvokedSet=!1,uA._checkDisablePreferences=()=>uA.get("disablePreferences")?!0:(uA._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Ow=uA;function bG({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return $Q.normalizeRect([a[0],a[1],o[0],o[1]])}function Hge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:bG(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=bG(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],$Q.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function CG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Vge({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...CG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...CG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:XW.LINK,rotation:0,...Hge(l,i),borderStyle:null}}var F1,vB;class NN{static findLinks(e){f(this,vB)??_(this,vB,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=T_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,vB)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=JW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=rY(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Vge(t,e,gi(this,F1)._++))}}F1=new WeakMap,vB=new WeakMap,M(NN,F1,0),M(NN,vB);var Rd,zv,qv,$v,ru,Dd,su,M1,yB,LN;class TY{constructor(e){M(this,yB);M(this,Rd,null);M(this,zv,0);M(this,qv,null);M(this,$v,zt.INITIAL);M(this,ru,null);M(this,Dd,0);M(this,su,null);we(this,"canvas",null);we(this,"div",null);we(this,"enableOptimizedPartialRendering",!1);we(this,"eventBus",null);we(this,"id",null);we(this,"pageColors",null);we(this,"recordedBBoxes",null);we(this,"renderingQueue",null);we(this,"renderTask",null);we(this,"resume",null);M(this,M1,e=>{var t;if((t=f(this,ru))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=zt.PAUSED,this.resume=()=>{this.renderingState=zt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,zv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,$v)}set renderingState(e){var t;if(e!==f(this,$v))switch(_(this,$v,e),f(this,Rd)&&(clearTimeout(f(this,Rd)),_(this,Rd,null)),e){case zt.PAUSED:this.div.classList.remove("loading"),_(this,Dd,0),(t=f(this,ru))==null||t.call(this,!1);break;case zt.RUNNING:this.div.classList.add("loadingIcon"),_(this,Rd,setTimeout(()=>{this.div.classList.add("loading"),_(this,Rd,null)},0)),_(this,Dd,Date.now());break;case zt.INITIAL:case zt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Dd,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,ru,l=>{if(a){let u=f(this,su);if(!l&&f(this,zv)>0){if(Date.now()-f(this,Dd)<f(this,zv))return;u||(u=_(this,su,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?U(this,yB,LN).call(this):_(this,Dd,Date.now());return}e(o),_(this,ru,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,U(this,yB,LN).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,M1),r.onError=l=>{l instanceof mN&&(t(),_(this,qv,null))};let s=null;try{await r.promise,(a=f(this,ru))==null||a.call(this,!0)}catch(l){if(l instanceof mN)return;s=l,(o=f(this,ru))==null||o.call(this,!0)}finally{_(this,qv,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=zt.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,qv)})}}Rd=new WeakMap,zv=new WeakMap,qv=new WeakMap,$v=new WeakMap,ru=new WeakMap,Dd=new WeakMap,su=new WeakMap,M1=new WeakMap,yB=new WeakSet,LN=function(){f(this,su)&&(f(this,su).width=f(this,su).height=0,_(this,su,null))};var PA;class Kge{constructor(e){M(this,PA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,PA)||this._cancelled||_(this,PA,new Xhe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,PA)&&(f(this,PA).destroy(),_(this,PA,null))}setParent(e){var t;(t=f(this,PA))==null||t.setParent(e)}getDrawLayer(){return f(this,PA)}}PA=new WeakMap;var Za,U1,IY;class Gge extends TY{constructor({pageView:t}){super(t);M(this,U1);M(this,Za,null);we(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===zt.RUNNING||this.renderingState===zt.PAUSED;this.cancelRendering(),this.renderingState=zt.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=zt.INITIAL;return}if(!U(this,U1,IY).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*__.pixelRatio**2,h=(Math.sqrt(__.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,C=l*g,b=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),x=Math.max(0,t.minY-C),I=Math.min(r.height,t.maxY+C),T=E-b,R=I-x;_(this,Za,{minX:b,minY:x,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Za),g=d/a,v=h/o,C=(d+l)/a,b=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=C&&s.maxX(E)>=g&&s.minY(E)<=b&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===zt.FINISHED||this.renderingState===zt.FINISHED;this.renderingState!==zt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=zt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=zt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var x;((x=a.firstElementChild)==null?void 0:x.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Za),{pixelRatio:g}=__,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:C}=o;C.width=`${h.width*100/u}%`,C.height=`${h.height*100/d}%`,C.top=`${h.minY*100/d}%`,C.left=`${h.minX*100/u}%`;const b=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),b}}Za=new WeakMap,U1=new WeakSet,IY=function(t){if(!f(this,Za))return!0;const i=f(this,Za).minX,r=f(this,Za).minY,s=f(this,Za).width+i,a=f(this,Za).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Za).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,C=.5,b=(1+C)/C;return i>0&&h/d>b||s<o&&d/h>b||r>0&&v/g>b||a<l&&g/v>b};const BG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},FY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),uT="http://www.w3.org/1998/Math/MathML";class EG{static get sanitizer(){return Zw(this,"sanitizer",ZW.isSanitizerSupported?new Sanitizer({elements:[...FY].map(e=>({name:e,namespace:uT})),replaceWithChildrenElements:[{name:"maction",namespace:uT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const zge=/^H(\d+)$/;var jv,Qo,Wv,Yv,Xv,Nd,zA,QN,UY,kN;class MY{constructor(e,t){M(this,zA);M(this,jv);M(this,Qo,null);M(this,Wv);M(this,Yv,new Map);M(this,Xv);M(this,Nd,null);_(this,jv,e.getStructTree()),_(this,Xv,t)}async render(){var r;if(f(this,Wv))return f(this,Wv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Wv,e);try{_(this,Qo,U(this,zA,kN).call(this,await f(this,jv)))}catch(s){i(s)}return _(this,jv,null),(r=f(this,Qo))==null||r.classList.add("structTree"),t(f(this,Qo)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Yv).get(e)}catch{}return null}hide(){f(this,Qo)&&!f(this,Qo).hidden&&(f(this,Qo).hidden=!0)}show(){var e;(e=f(this,Qo))!=null&&e.hidden&&(f(this,Qo).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Nd)){for(const[t,i]of f(this,Nd))(e=document.getElementById(t))==null||e.append(i);f(this,Nd).clear(),_(this,Nd,null)}}}jv=new WeakMap,Qo=new WeakMap,Wv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Nd=new WeakMap,zA=new WeakSet,QN=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=kw(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Yv).get(l.id);u||(u=new Map,f(this,Yv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",kw(s,!0))},UY=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Xv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Nd)||_(this,Nd,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",kw(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,Xv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},kN=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=FY.has(i)?document.createElementNS(uT,i):document.createElement("span");const r=i.match(zge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):BG[i]&&t.setAttribute("role",BG[i]),i==="Figure"&&U(this,zA,UY).call(this,e,t))return t;i==="Formula"&&(e.mathML&&EG.sanitizer&&t.setHTML(e.mathML,{sanitizer:EG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(uT,"math")))}if(t||(t=document.createElement("span")),U(this,zA,QN).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])U(this,zA,QN).call(this,e.children[0],t);else for(const i of e.children)t.append(U(this,zA,kN).call(this,i));return t};var au,eo,ou,Ld,Jv,R_,wB,HN;const im=class im{constructor(){M(this,wB);M(this,au,!1);M(this,eo,null);M(this,ou,new Map);M(this,Ld,new Map)}setTextMapping(e){_(this,eo,e)}enable(){if(f(this,au))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,eo))throw new Error("Text divs and strings have not been set.");if(_(this,au,!0),_(this,eo,f(this,eo).slice()),f(this,eo).sort(U(im,Jv,R_)),f(this,ou).size>0){const e=f(this,eo);for(const[t,i]of f(this,ou)){if(!document.getElementById(t)){f(this,ou).delete(t);continue}U(this,wB,HN).call(this,t,e[i])}}for(const[e,t]of f(this,Ld))this.addPointerInTextLayer(e,t);f(this,Ld).clear()}disable(){f(this,au)&&(f(this,Ld).clear(),_(this,eo,null),_(this,au,!1))}removePointerInTextLayer(e){if(!f(this,au)){f(this,Ld).delete(e);return}const t=f(this,eo);if(!t||t.length===0)return;const{id:i}=e,r=f(this,ou).get(i);if(r===void 0)return;const s=t[r];f(this,ou).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,au))return f(this,Ld).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,eo);if(!r||r.length===0)return null;const s=eb(r,u=>{var d;return U(d=im,Jv,R_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];U(this,wB,HN).call(this,i,o),f(this,ou).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=eb(a,l=>{var u;return U(u=im,Jv,R_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};au=new WeakMap,eo=new WeakMap,ou=new WeakMap,Ld=new WeakMap,Jv=new WeakSet,R_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},wB=new WeakSet,HN=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},M(im,Jv);let ON=im;var Qd;class qge{constructor({findController:e,eventBus:t,pageIndex:i}){M(this,Qd,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Qd)||(_(this,Qd,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Qd).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Qd))==null||e.abort(),_(this,Qd,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(x,I){const T=x.divIdx;return s[T].textContent="",g(T,0,x.offset,I)}function g(x,I,T,R){let P=s[x];if(P.nodeType===Node.TEXT_NODE){const H=document.createElement("span");P.before(H),H.append(P),s[x]=H,P=H}const D=r[x].substring(I,T),Q=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(Q),P.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=P.getBoundingClientRect().left;return k-K}return 0}return P.append(Q),0}let v=o,C=v+1;if(l)v=0,C=e.length;else if(!a)return;let b=-1,E=-1;for(let x=v;x<C;x++){const I=e[x],T=I.begin;if(T.divIdx===b&&T.offset===E)continue;b=T.divIdx,E=T.offset;const R=I.end,P=a&&x===o,D=P?" selected":"";let Q=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)Q=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{Q=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,P&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:Q,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const C=a[g];C.textContent=s[g],C.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Qd=new WeakMap;var bB,CB,cp,RA,Ms,kd,P1,PY,Sy,RY,DY;const Pc=class Pc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){M(this,P1);M(this,bB,!1);M(this,CB,null);M(this,cp,!1);M(this,RA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,bB,r===!0),_(this,CB,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,cp)&&f(this,RA)){f(this,RA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,RA,new npe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,RA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,RA).render(),_(this,cp,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),U(this,P1,PY).call(this,s),(l=f(this,CB))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,cp)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,cp)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,RA))==null||e.cancel(),_(this,RA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),U(r=Pc,Sy,RY).call(r,this.div)}};bB=new WeakMap,CB=new WeakMap,cp=new WeakMap,RA=new WeakMap,Ms=new WeakMap,kd=new WeakMap,P1=new WeakSet,PY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,bB)){const s=document.getSelection();r.clipboardData.setData("text/plain",kw(tpe(s.toString())))}vN(r)}),f(Pc,Ms).set(t,e),U(i=Pc,Sy,DY).call(i)},Sy=new WeakSet,RY=function(e){var t;f(this,Ms).delete(e),f(this,Ms).size===0&&((t=f(this,kd))==null||t.abort(),_(this,kd,null))},DY=function(){if(f(this,kd))return;_(this,kd,new AbortController);const{signal:e}=f(this,kd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,Ms).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,Ms).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,Ms).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Ms).forEach(t);return}const o=new Set;for(let C=0;C<a.rangeCount;C++){const b=a.getRangeAt(C);for(const E of f(this,Ms).keys())!o.has(E)&&b.intersectsNode(E)&&o.add(E)}for(const[C,b]of f(this,Ms))o.has(C)?C.classList.add("selecting"):t(b,C);if(r??(r=getComputedStyle(f(this,Ms).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Ms).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},M(Pc,Sy),M(Pc,Ms,new Map),M(Pc,kd,null);let cT=Pc;class NY{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,hU.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?hU.update(r):(this.div=document.createElement("div"),r.div=this.div,hU.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const $ge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new WQ}},jge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Od,Hd,BB,EB,Zv,SB,Vd,Au,ey,xB,_B,TB,ty,IB,lu,Kd,bt,Gg,D_,Ew,VN,KN,GN,zN,qN,QY,kY,OY,$N;class LY extends TY{constructor(t){var a,o;super(t);M(this,bt);M(this,Od,QA.ENABLE_FORMS);M(this,Hd,null);M(this,BB,null);M(this,EB,!0);M(this,Zv,!1);M(this,SB,!1);M(this,Vd,null);M(this,Au,!1);M(this,ey,null);M(this,xB,null);M(this,_B,1);M(this,TB,1);M(this,ty,NA.ENABLE);M(this,IB,1);M(this,lu,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});M(this,Kd,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,Vd,t.layerProperties||$ge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||tY,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,ty,t.textLayerMode??NA.ENABLE),_(this,Od,t.annotationMode??QA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Ow.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Ow.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Ow.get("capCanvasAreaFactor"),_(this,EB,t.enableAutoLinking!==!1),_(this,BB,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new cy),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,U(this,bt,D_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*Cl.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,lu).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*Cl.PDF_TO_CSS_UNITS,rotation:i}),U(this,bt,D_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Zw(this,"_textHighlighter",new qge({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Vd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,ey,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,x,I,T,R,P,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=zt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((x=this.annotationLayer)==null?void 0:x.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,C=s&&((R=this.textLayer)==null?void 0:R.div)||null,b=a&&f(this,Hd)||null;for(let Q=d.length-1;Q>=0;Q--){const H=d[Q];switch(H){case h:case g:case v:case C:case b:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,Kd).indexOf(H);k>=0&&(f(this,Kd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),C&&this.textLayer.hide(),(P=this.structTreeLayer)==null||P.hide(),!a&&f(this,Hd)&&(_(this,Hd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,SB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Au)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Gge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,lu).initialOptionalContent=d.hasInitialVisibility)})),f(this,lu).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Cl.PDF_TO_CSS_UNITS,rotation:a}),U(this,bt,D_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),U(this,bt,$N).call(this),this.canvas){const d=f(this,Zv)&&f(this,Au),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==zt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=zt.FINISHED,f(this,lu).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,ey);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,C=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${C})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&U(this,bt,VN).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&U(this,bt,GN).call(this),U(this,bt,KN).call(this)),r&&this.xfaLayer&&U(this,bt,zN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&U(this,bt,qN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,Hd);return t||(t=_(this,Hd,document.createElement("div")),t.classList.add("canvasWrapper"),U(this,bt,Gg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,Od),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,SB),recordOperations:r}}async draw(){this.renderingState!==zt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=zt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=zt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,ty)!==NA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new ON),this.textLayer=new cT({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,ty)===NA.ENABLE_PERMISSIONS,onAppend:P=>{this.l10n.pause(),U(this,bt,Gg).call(this,P,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Od)!==QA.DISABLE){const{annotationStorage:P,annotationEditorUIManager:D,downloadManager:Q,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:V,linkService:q}=f(this,Vd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new dY({pdfPage:r,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Od)===QA.ENABLE_FORMS,linkService:q,downloadManager:Q,enableComment:H,enableScripting:k,hasJSActionsPromise:V,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,BB),onAppend:J=>{U(this,bt,Gg).call(this,J,"annotationLayer")}})}const{width:o,height:l}=s;_(this,ey,s);const{canvas:u,prevCanvas:d}=this._createCanvas(P=>{a.prepend(P)});u.setAttribute("role","presentation"),this.outputScale||U(this,bt,$N).call(this);const{outputScale:h}=this;_(this,Zv,f(this,Au));const g=ZK(h.sx),v=ZK(h.sy),C=u.width=WS(YS(o*h.sx),g[0]),b=u.height=WS(YS(l*h.sy),v[0]),E=WS(YS(o),g[1]),x=WS(YS(l),v[1]);h.sx=C/E,h.sy=b/x,f(this,_B)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,_B,g[1])),f(this,TB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,TB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Zv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},P=>{f(this,lu).regularAnnotations=!P.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var Q;if(this.renderingState!==zt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new MY(r,s.rawDims));const P=U(this,bt,qN).call(this);this.annotationLayer&&(await U(this,bt,VN).call(this),f(this,EB)&&this.annotationLayer&&this.textLayer&&await U(this,bt,OY).call(this,P));const{annotationEditorUIManager:D}=f(this,Vd);D&&(this.drawLayer||(this.drawLayer=new Kge({pageIndex:this.id})),await U(this,bt,GN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Od)===QA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Oge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(Q=this.annotationLayer)==null?void 0:Q.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{U(this,bt,Gg).call(this,H,"annotationEditorLayer")}})),U(this,bt,KN).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:P,linkService:D}=f(this,Vd);this.xfaLayer=new NY({pdfPage:r,annotationStorage:P,linkService:D})}U(this,bt,zN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,lu);return t&&i&&r?this.canvas:null}}Od=new WeakMap,Hd=new WeakMap,BB=new WeakMap,EB=new WeakMap,Zv=new WeakMap,SB=new WeakMap,Vd=new WeakMap,Au=new WeakMap,ey=new WeakMap,xB=new WeakMap,_B=new WeakMap,TB=new WeakMap,ty=new WeakMap,IB=new WeakMap,lu=new WeakMap,Kd=new WeakMap,bt=new WeakSet,Gg=function(t,i){const r=jge.get(i),s=f(this,Kd)[r];if(f(this,Kd)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,Kd)[a];if(o){o.after(t);return}}this.div.prepend(t)},D_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,IB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,IB,i.userUnit)),this.pdfPage){if(f(this,xB)===i.rotation)return;_(this,xB,i.rotation)}eY(t,i,!0,!1)},Ew=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},VN=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{U(this,bt,Ew).call(this,"annotationlayerrendered",t)}},KN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{U(this,bt,Ew).call(this,"annotationeditorlayerrendered",t)}},GN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},zN=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&U(this,bt,kY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),U(this,bt,Gg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),U(this,bt,Ew).call(this,"xfalayerrendered",t)}},qN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof $he)return;console.error("#renderTextLayer:",i),t=i}U(this,bt,Ew).call(this,"textlayerrendered",t),U(this,bt,QY).call(this)},QY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},kY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},OY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(NN.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},$N=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new __;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,Au,!0)}else if(_(this,Au,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Au)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function Wge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Jhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class Yge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var DA,dp,FB,fp,hp,MB,is,uu,ny,Vi,to,Ar,HY,N_,jN,VY,Sw;class Xge{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){M(this,Ar);M(this,DA,null);M(this,dp,null);M(this,FB,null);M(this,fp,null);M(this,hp,null);M(this,MB,null);M(this,is,null);M(this,uu,null);M(this,ny,!1);M(this,Vi,null);M(this,to,null);_(this,hp,e),_(this,MB,t),_(this,FB,i)}setViewer(e){_(this,uu,e)}async setDocument(e){var o;if(f(this,is)&&await U(this,Ar,Sw).call(this),_(this,is,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await U(this,Ar,Sw).call(this);return}if(e!==f(this,is))return;try{_(this,Vi,U(this,Ar,VY).call(this))}catch(l){console.error("setDocument:",l),await U(this,Ar,Sw).call(this);return}const s=f(this,hp);_(this,fp,new AbortController);const{signal:a}=f(this,fp);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&U(this,Ar,HY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Vi))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(U(this,Ar,jN).call(this,u),U(this,Ar,N_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,uu).currentPageNumber&&U(this,Ar,N_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await U(this,Ar,jN).call(this,f(this,uu).currentPageNumber),await((l=f(this,Vi))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,DA))==null||u.resolve()},{signal:a});try{const l=await f(this,FB).call(this,e);if(e!==f(this,is))return;await f(this,Vi).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await U(this,Ar,Sw).call(this);return}await((o=f(this,Vi))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await U(this,Ar,N_).call(this,f(this,uu).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,is)&&_(this,ny,!0)})}async dispatchWillSave(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Vi)){await((e=f(this,to))==null?void 0:e.promise),_(this,to,Promise.withResolvers());try{await f(this,Vi).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,to).resolve(),_(this,to,null),t}await f(this,to).promise}}async dispatchDidPrint(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,dp))==null?void 0:e.promise)||null}get ready(){return f(this,ny)}get _pageOpenPending(){return Zw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Zw(this,"_visitedPages",new Map)}}DA=new WeakMap,dp=new WeakMap,FB=new WeakMap,fp=new WeakMap,hp=new WeakMap,MB=new WeakMap,is=new WeakMap,uu=new WeakMap,ny=new WeakMap,Vi=new WeakMap,to=new WeakMap,Ar=new WeakSet,HY=async function(e){var u,d;const t=f(this,uu),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=ppe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,hp).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,hp).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,to))==null||u.resolve(),_(this,to,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,is))==null||d.annotationStorage.setValue(h,e)}},N_=async function(e,t=!1){const i=f(this,is),r=this._visitedPages;if(t&&_(this,DA,Promise.withResolvers()),!f(this,DA))return;const s=f(this,uu).getPageView(e-1);if((s==null?void 0:s.renderingState)!==zt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,is)&&await((u=f(this,Vi))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},jN=async function(e){var s;const t=f(this,is),i=this._visitedPages;if(!f(this,DA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,is)&&await((s=f(this,Vi))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},VY=function(){if(_(this,dp,Promise.withResolvers()),f(this,Vi))throw new Error("#initScripting: Scripting already exists.");return f(this,MB).createScripting()},Sw=async function(){var e,t,i,r;if(!f(this,Vi)){_(this,is,null),(e=f(this,dp))==null||e.resolve();return}f(this,DA)&&(await Promise.race([f(this,DA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,DA,null)),_(this,is,null);try{await f(this,Vi).destroySandbox()}catch{}(t=f(this,to))==null||t.reject(new Error("Scripting destroyed.")),_(this,to,null),(i=f(this,fp))==null||i.abort(),_(this,fp,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Vi,null),_(this,ny,!1),(r=f(this,dp))==null||r.resolve()};class Jge extends Xge{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Yge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Wge(t)),super(e)}}const Zge=3e4;class eme{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Zge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,C=u-l;v<C;v++){const b=i?l+v:u-v;if(g.has(b))continue;const E=t[b-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===zt.FINISHED}renderView(e){switch(e.renderingState){case zt.FINISHED:return!1;case zt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case zt.RUNNING:this.highestPriorityPage=e.renderingId;break;case zt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof mN||console.error("renderView:",t)});break}return!0}}const SG=10,ZS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function xG(n){return Object.values(Cs).includes(n)&&n!==Cs.DISABLE}var cu,pp,UB,WN;class tme{constructor(e){M(this,UB);M(this,cu,new Set);M(this,pp,0);_(this,pp,e)}push(e){const t=f(this,cu);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,pp)&&U(this,UB,WN).call(this)}resize(e,t=null){_(this,pp,e);const i=f(this,cu);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,pp);)U(this,UB,WN).call(this)}has(e){return f(this,cu).has(e)}[Symbol.iterator](){return f(this,cu).keys()}}cu=new WeakMap,pp=new WeakMap,UB=new WeakSet,WN=function(){const e=f(this,cu).keys().next().value;e==null||e.destroy(),f(this,cu).delete(e)};var du,PB,RB,no,fa,gp,mp,DB,NB,LB,QB,kB,OB,HB,VB,Gd,KB,iy,fu,ko,vp,yp,ry,zd,sy,GB,ay,wp,hu,oy,zB,Ay,qB,et,KY,GY,zY,xw,L_,qY,YN,$Y,_c,XN,jY,WY,YY,JN,XY,ZN,Q_,eL;class XQ{constructor(e){M(this,et);M(this,du,null);M(this,PB,null);M(this,RB,null);M(this,no,Cs.NONE);M(this,fa,null);M(this,gp,QA.ENABLE_FORMS);M(this,mp,null);M(this,DB,null);M(this,NB,null);M(this,LB,!1);M(this,QB,!1);M(this,kB,!1);M(this,OB,!1);M(this,HB,!1);M(this,VB,!0);M(this,Gd,null);M(this,KB,0);M(this,iy,null);M(this,fu,!0);M(this,ko,null);M(this,vp,null);M(this,yp,null);M(this,ry,!1);M(this,zd,null);M(this,sy,!1);M(this,GB,0);M(this,ay,new ResizeObserver(U(this,et,XY).bind(this)));M(this,wp,null);M(this,hu,null);M(this,oy,null);M(this,zB,!0);M(this,Ay,NA.ENABLE);M(this,qB,null);var r,s;const t="5.4.449";if(jK!==t)throw new Error(`The API version "${jK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,qB,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,ay).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new WQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,PB,e.altTextManager||null),_(this,mp,e.commentManager||null),_(this,oy,e.signatureManager||null),_(this,NB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,Ay,e.textLayerMode??NA.ENABLE),_(this,gp,e.annotationMode??QA.ENABLE_FORMS),_(this,no,e.annotationEditorMode??Cs.NONE),_(this,RB,e.annotationEditorHighlightColors||null),_(this,QB,e.enableHighlightFloatingButton===!0),_(this,OB,e.enableUpdatedAddImage===!0),_(this,HB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new cy),_(this,kB,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,iy,e.mlManager||null),_(this,LB,e.enableHWA||!1),_(this,zB,e.supportsPinchToZoom!==!1),_(this,VB,e.enableAutoLinking!==!1),_(this,KB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new eme,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,ay).disconnect(),_(this,ay,null)},{once:!0}),this.scroll=Ape(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=Am.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),U(this,et,JN).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,du).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,fu)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,du))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,gp)===QA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&U(this,et,XN).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&U(this,et,XN).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==pU?this._currentScale:tY}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&U(this,et,_c).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&U(this,et,_c).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!iY(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&U(this,et,_c).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Zw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,fa)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,mp)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,sy))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(kw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,C;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(C=f(this,fa))==null||C.destroy(),_(this,fa,null),_(this,no,Cs.NONE),_(this,fu,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,kB)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Gd,new AbortController);const{signal:u}=f(this,Gd);if(t>ZS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const b=this._scrollMode=kt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:b})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=b=>{const E=this._pages[b.pageNumber-1];E&&f(this,du).push(E)};a._on("pagerender",d,{signal:u});const h=b=>{b.cssTransform||b.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:b.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([b,E])=>{var Q;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(b),this._optionalContentConfigPromise=r;const{annotationEditorMode:x,annotationMode:I,textLayerMode:T}=U(this,et,KY).call(this,E);if(T!==NA.DISABLE){const H=_(this,zd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(x!==Cs.DISABLE){const H=x;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):xG(H)?(_(this,fa,new Whe(this.container,l,f(this,qB),f(this,PB),f(this,mp),f(this,oy),a,e,o,f(this,RB),f(this,QB),f(this,OB),f(this,HB),f(this,iy),f(this,NB),f(this,zB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,fa)}),H!==Cs.NONE&&(U(this,et,eL).call(this,H),f(this,fa).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===kt.PAGE?null:l,P=this.currentScale,D=b.getViewport({scale:P*Cl.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new LY({container:R,eventBus:a,id:H,scale:P,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,LB),enableAutoLinking:f(this,VB),minDurationToUpdateCanvas:f(this,KB),commentManager:f(this,mp)});this._pages.push(k)}(Q=this._pages[0])==null||Q.setPdfPage(b),this._scrollMode===kt.PAGE?U(this,et,xw).call(this):this._spreadMode!==qr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,fa)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,no)})},{once:!0,signal:u}),U(this,et,GY).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,zd)&&document.addEventListener("copy",U(this,et,zY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>ZS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let V=2;V<=t;++V){const q=e.getPage(V).then(J=>{const te=this._pages[V-1];te.pdfPage||te.setPdfPage(J),--H===0&&this._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${V} to initialize viewer`,J),--H===0&&this._pagesCapability.resolve()});V%ZS.PAUSE_EAGER_PAGE_INIT===0&&await q}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(b=>{console.error("Unable to initialize viewer",b),this._pagesCapability.reject(b)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=pU,this._currentScaleValue=null,this._pageLabels=null,_(this,du,new tme(SG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=kt.VERTICAL,this._previousScrollMode=kt.UNKNOWN,this._spreadMode=qr.NONE,_(this,wp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Gd))==null||e.abort(),_(this,Gd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,zd))==null||t.remove(),_(this,zd,null),U(this,et,ZN).call(this),U(this,et,Q_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,ko)&&clearTimeout(f(this,ko)),_(this,ko,setTimeout(()=>{_(this,ko,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,C=(v?a.height:a.width)/a.scale/Cl.PDF_TO_CSS_UNITS,b=(v?a.width:a.height)/a.scale/Cl.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:b;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=b);break;case"FitV":case"FitBV":o=t[2],u=C,d=b,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=YK,P=XK;this.removePageBorders&&(R=P=0),h=(this.container.clientWidth-R)/u/Cl.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-P)/d/Cl.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===pU&&(this.currentScaleValue=rpe)),E==="page-fit"&&!t[4]){U(this,et,L_).call(this,a);return}const x=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(x[0][0],x[1][0]),T=Math.min(x[0][1],x[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(x[1][1]-x[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(x[1][0]-x[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),U(this,et,L_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(SG,2*i+1);f(this,du).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,du))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===qr.NONE&&(this._scrollMode===kt.PAGE||this._scrollMode===kt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Am.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Am.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===kt.PAGE?f(this,wp).pages:this._pages,t=this._scrollMode===kt.HORIZONTAL,i=t&&this._isContainerRtl;return upe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==zt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=U(this,et,YY).call(this,t),r=this._spreadMode!==qr.NONE&&this._scrollMode!==kt.HORIZONTAL,s=f(this,hu)!==null||f(this,ko)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(U(this,et,WY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=eG(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!cpe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>ZS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===kt.HORIZONTAL),i.classList.toggle("scrollWrapped",t===kt.WRAPPED),!(!this.pdfDocument||!e)&&(t===kt.PAGE?U(this,et,xw).call(this):this._previousScrollMode===kt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,et,_c).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!dpe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===kt.PAGE)U(this,et,xw).call(this);else if(t.textContent="",this._spreadMode===qr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,et,_c).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case kt.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case kt.HORIZONTAL:break;case kt.PAGE:case kt.VERTICAL:{if(this._spreadMode===qr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?WK:1/WK,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=qQ(s,spe,ape),U(this,et,_c).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,DB)||_(this,DB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,fa)?f(this,no):Cs.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,fa))throw new Error("The AnnotationEditor is not enabled.");if(f(this,no)===e)return;if(!xG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;U(this,et,eL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{U(this,et,Q_).call(this),_(this,no,e),await f(this,fa).updateMode(e,t,i,r,s),!(e!==f(this,no)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Cs.NONE||f(this,no)===Cs.NONE){const u=e!==Cs.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=U(this,et,jY).call(this);if(u&&d){U(this,et,Q_).call(this),_(this,vp,new AbortController);const h=AbortSignal.any([f(this,Gd).signal,f(this,vp).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,yp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);U(this,et,ZN).call(this),e||this.update()}}}du=new WeakMap,PB=new WeakMap,RB=new WeakMap,no=new WeakMap,fa=new WeakMap,gp=new WeakMap,mp=new WeakMap,DB=new WeakMap,NB=new WeakMap,LB=new WeakMap,QB=new WeakMap,kB=new WeakMap,OB=new WeakMap,HB=new WeakMap,VB=new WeakMap,Gd=new WeakMap,KB=new WeakMap,iy=new WeakMap,fu=new WeakMap,ko=new WeakMap,vp=new WeakMap,yp=new WeakMap,ry=new WeakMap,zd=new WeakMap,sy=new WeakMap,GB=new WeakMap,ay=new WeakMap,wp=new WeakMap,hu=new WeakMap,oy=new WeakMap,zB=new WeakMap,Ay=new WeakMap,qB=new WeakMap,et=new WeakSet,KY=function(e){const t={annotationEditorMode:f(this,no),annotationMode:f(this,gp),textLayerMode:f(this,Ay)};return e?(_(this,fu,e.includes(Eg.PRINT_HIGH_QUALITY)||e.includes(Eg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,fu)}),!e.includes(Eg.COPY)&&f(this,Ay)===NA.ENABLE&&(t.textLayerMode=NA.ENABLE_PERMISSIONS),e.includes(Eg.MODIFY_CONTENTS)||(t.annotationEditorMode=Cs.DISABLE),!e.includes(Eg.MODIFY_ANNOTATIONS)&&!e.includes(Eg.FILL_INTERACTIVE_FORMS)&&f(this,gp)===QA.ENABLE_FORMS&&(t.annotationMode=QA.ENABLE),t):(_(this,fu,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,fu)}),t)},GY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},zY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,zd))){if(f(this,ry)||e===NA.ENABLE_PERMISSIONS){vN(t);return}_(this,ry,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,sy,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,ry,!1),_(this,sy,!1),o.abort(),a.remove("copyAll")}),vN(t)}},xw=function(){if(this._scrollMode!==kt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,wp),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===qr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},L_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===kt.PAGE&&(U(this,et,xw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===kt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}nY(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},qY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},YN=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),U(this,et,qY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Cl.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,hu,setTimeout(()=>{_(this,hu,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},$Y=function(){return this._spreadMode!==qr.NONE&&this._scrollMode!==kt.HORIZONTAL?2:1},_c=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,U(this,et,YN).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=YK,a=XK;this.isInPresentationMode?(s=a=4,this._spreadMode!==qr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===kt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,et,$Y),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=eG(r)?o:Math.min(l,o);i=Math.min(ope,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,U(this,et,YN).call(this,i,e,t)}},XN=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&U(this,et,_c).call(this,this._currentScaleValue,{noScroll:!0}),U(this,et,L_).call(this,e)},jY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},WY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},YY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case kt.PAGE:return f(this,wp).scrollDown;case kt.HORIZONTAL:return this.scroll.right}return this.scroll.down},JN=function(e=this.container.clientHeight){e!==f(this,GB)&&(_(this,GB,e),fpe.setProperty("--viewer-container-height",`${e}px`))},XY=function(e){for(const t of e)if(t.target===this.container){U(this,et,JN).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,DB,null);break}},ZN=function(){f(this,hu)!==null&&(clearTimeout(f(this,hu)),_(this,hu,null)),f(this,ko)!==null&&(clearTimeout(f(this,ko)),_(this,ko,null))},Q_=function(){var e;(e=f(this,vp))==null||e.abort(),_(this,vp,null),f(this,yp)!==null&&(clearTimeout(f(this,yp)),_(this,yp,null))},eL=function(e){var t,i;switch(e){case Cs.STAMP:(t=f(this,iy))==null||t.loadModel("altText");break;case Cs.SIGNATURE:(i=f(this,oy))==null||i.loadSignatures();break}};class nme extends XQ{_resetView(){super._resetView(),this._scrollMode=kt.PAGE,this._spreadMode=qr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:dY,DownloadManager:Qpe,EventBus:YQ,FindState:xc,GenericL10n:cy,LinkTarget:Df,parseQueryString:q1,PDFFindController:Npe,PDFHistory:Lge,PDFLinkService:jQ,PDFPageView:LY,PDFScriptingManager:Jge,PDFSinglePageViewer:nme,PDFViewer:XQ,ProgressBar:hpe,RenderingStates:zt,ScrollMode:kt,SimpleLinkService:WQ,SpreadMode:qr,StructTreeLayerBuilder:MY,TextLayerBuilder:cT,XfaLayerBuilder:NY};const _G=(n,e,t,i)=>{const r=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=s.left-r.left+n.scrollLeft,o=s.top-r.top+n.scrollTop,l=t>0?s.width/t:1,u=i>0?s.height/i:1;return{pageOffsetLeft:a,pageOffsetTop:o,scaleX:l,scaleY:u}},TG=(n,e,t)=>{const i=e.getBoundingClientRect(),r=t(),s=(n.clientX-i.left)/r,a=(n.clientY-i.top)/r;return{x:s,y:a}};pu.workerSrc=`https://unpkg.com/pdfjs-dist@${Gj}/build/pdf.worker.mjs`;const ime=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:i})=>{const r=F.useRef(null),s=F.useRef(null),a=F.useRef(null),o=F.useRef(new Map),l=F.useRef(null),{addHighlight:u,highlights:d,activeHighlightId:h,triggerSmartExplain:g,setPdfTextPages:v,pdfSearchHighlight:C,drawingMode:b,penColor:E,penWidth:x,penOpacity:I,chapterStrokes:T,addStroke:R,removeStroke:P,showAnnotations:D}=lf(),Q=typeof navigator<"u"&&navigator.userAgent||"",H=/iP(hone|od|ad)/.test(Q)&&/Safari/i.test(Q)&&!/Chrome/i.test(Q)&&!/CriOS/i.test(Q),k=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(Q)||window.innerWidth<=1300,[Q]),K=F.useMemo(()=>{},[]),V=F.useRef(null),[q,J]=F.useState(!0),[te,he]=F.useState(0),[G,$]=F.useState(null),[re,de]=F.useState(""),Ce=F.useRef(null),[z,X]=F.useState([]),[oe,me]=F.useState({text:"",top:0,left:0,show:!1}),[Se,_e]=F.useState(0),Be=F.useRef(null),Je=F.useRef(!1),ie=F.useRef([]),Pe=F.useRef(b),Ge=F.useRef(E),ye=F.useRef(x),Nt=F.useRef(I),Ze=F.useRef(T),Zt=F.useRef(D);F.useEffect(()=>{Pe.current=b},[b]),F.useEffect(()=>{Ge.current=E},[E]),F.useEffect(()=>{ye.current=x},[x]),F.useEffect(()=>{Nt.current=I},[I]),F.useEffect(()=>{Ze.current=T},[T]),F.useEffect(()=>{Zt.current=D},[D]);const Lt=()=>{Be.current===null&&(Be.current=requestAnimationFrame(()=>{Be.current=null,Ye(),Qt(),Hn(),vo()}))};F.useEffect(()=>{X(se=>se.filter(ce=>d.some(Ee=>Ee.id===ce.id)))},[d]),F.useEffect(()=>{if(!s.current||!r.current)return;const se=()=>{var Me;(Me=s.current)==null||Me.querySelectorAll('.textLayer span[role="presentation"]').forEach(ot=>{const it=ot;it.dataset.origText!==void 0&&(it.textContent=it.dataset.origText,delete it.dataset.origText)})};if(!C){se();return}se();let ce=!1,Ee=null,Fe=0;const ze=10,Xe=Me=>{const ot=Array.from(Me.querySelectorAll("span"));return ot.length===0?!1:ot.some(it=>{const Bt=it;return Bt.style.left!==""||Bt.style.top!==""||Bt.style.transform!==""})},At=Me=>{const ot=Me.querySelector(".pdf_search_hit");if(!ot||!r.current)return;const it=r.current,Bt=it.getBoundingClientRect(),_n=ot.getBoundingClientRect(),dr=On(),fr=(_n.top-Bt.top)/dr+it.scrollTop-40,Ei=(_n.left-Bt.left)/dr+it.scrollLeft-20;it.scrollTo({top:Math.max(0,fr),left:Math.max(0,Ei),behavior:"smooth"})},Et=()=>{var _n;const Me=(_n=s.current)==null?void 0:_n.querySelector(`.page[data-page-number="${C.page}"]`),ot=Me==null?void 0:Me.querySelector(".textLayer");if(!ot||!Xe(ot))return!1;const it=C.term.trim();if(!it)return!1;const Bt=new RegExp(it.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return ot.querySelectorAll('span[role="presentation"]').forEach(dr=>{const fr=dr,Ei=fr.textContent||"",eA=Ei.replace(Bt,ni=>`<span class="pdf_search_hit">${ni}</span>`);eA!==Ei&&(fr.dataset.origText===void 0&&(fr.dataset.origText=Ei),fr.innerHTML=eA)}),Me&&requestAnimationFrame(()=>At(Me)),!0},xn=()=>{ce||Et()||Fe<ze&&(Fe+=1,Ee=window.setTimeout(xn,150))};return xn(),()=>{ce=!0,Ee!==null&&clearTimeout(Ee)}},[C]),F.useEffect(()=>{var ot;if(!h||!r.current)return;const se=z.find(it=>it.id===h);if(!se||se.rects.length===0)return;const ce=se.rects[0],Ee=r.current,Fe=(ot=s.current)==null?void 0:ot.querySelector(`.page[data-page-number="${ce.pageNumber}"]`);if(!Ee||!Fe)return;const{pageOffsetLeft:ze,pageOffsetTop:Xe,scaleX:At,scaleY:Et}=_G(Ee,Fe,ce.pageWidth,ce.pageHeight),xn=Math.max(0,Xe+ce.top*Et-40),Me=Math.max(0,ze+ce.left*At-20);Ee.scrollTo({top:xn,left:Me,behavior:"smooth"})},[h,z]),F.useEffect(()=>()=>{Ce.current&&clearTimeout(Ce.current)},[]),F.useEffect(()=>{if(!r.current||!s.current)return;X([]),me(Me=>({...Me,show:!1})),v([]),t==null||t(0),e==null||e(1),J(!0),he(1),$(null);const se=new YQ,ce=new jQ({eventBus:se}),Ee={container:r.current,viewer:s.current,eventBus:se,linkService:ce,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};K!==void 0&&(Ee.maxCanvasPixels=K);const Fe=new XQ(Ee);V.current=Fe;const ze=1,Xe=()=>{Lt()};se.on("pagesinit",()=>{Fe.currentScale=ze,Lt()}),se.on("pagechanging",Me=>{Me!=null&&Me.pageNumber&&(e==null||e(Me.pageNumber))}),se.on("pagesloaded",Me=>{Me!=null&&Me.pagesCount&&(t==null||t(Me.pagesCount)),Xe()}),se.on("pagerendered",Xe),se.on("pagedestroy",Me=>{Me!=null&&Me.pageNumber&&be(Me.pageNumber)}),i==null||i(Me=>{if(!V.current||!V.current.pdfDocument||!V.current.pagesCount)return;const ot=V.current.pdfDocument.numPages,it=Math.min(Math.max(Me,1),ot);V.current.currentPageNumber=it,V.current.scrollPageIntoView({pageNumber:it})}),ce.setViewer(Fe);let At=!1,Et=HQ(n);Et.onProgress=({loaded:Me=0,total:ot=0})=>{if(At)return;if(!ot){he(Bt=>Math.min(95,Math.max(1,Bt+1)));return}const it=Math.min(99,Math.max(1,Math.round(Me/ot*100)));he(it)};const xn=window.setTimeout(()=>{At||(console.warn("[PdfViewer] load timeout, cancelling task"),$("PDF   .  ."),he(0),J(!1),Et==null||Et.destroy())},k?2e4:3e4);return Et.promise.then(Me=>{if(At)return;clearTimeout(xn),he(100),$(null),Fe.setDocument(Me),ce.setDocument(Me,null),t==null||t(Me.numPages),J(!1),(async()=>{if(H)return;const it=[];try{for(let Bt=1;Bt<=Me.numPages;Bt++){const fr=(await(await Me.getPage(Bt)).getTextContent()).items.map(Ei=>"str"in Ei?Ei.str:"").join(" ");it.push({page:Bt,text:fr})}At||v(it)}catch(Bt){console.error("PDF text extraction failed",Bt)}})()}).catch(Me=>{if(!At){if(clearTimeout(xn),(Me==null?void 0:Me.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",Me),$((Me==null?void 0:Me.message)||"PDF  "),he(0),J(!1)}}),()=>{var Me;At=!0,clearTimeout(xn),Et.destroy(),V.current=null,(Me=se.off)==null||Me.call(se,"pagerendered",Xe),o.current.forEach(({layer:ot})=>ot.remove()),o.current.clear(),l.current=null,Be.current!==null&&(cancelAnimationFrame(Be.current),Be.current=null)}},[n,e,t,i,v,H,k]);const On=()=>{if(!a.current)return 1;const se=getComputedStyle(a.current).getPropertyValue("--visual-scale"),ce=parseFloat(se);return Number.isFinite(ce)?ce:1},ut=se=>{const Ee=se.target.closest(".page");if(!Ee)return null;const Fe=Number(Ee.dataset.pageNumber);return Fe?{pageEl:Ee,pageNumber:Fe}:null},ei=se=>s.current?s.current.querySelector(`.page[data-page-number="${se}"]`):null,fs=se=>{const ce=se.getBoundingClientRect(),Ee=window.devicePixelRatio||1,Fe=On(),ze=ce.width/Fe,Xe=ce.height/Fe;return{rect:ce,dpr:Ee,visualScale:Fe,width:ze,height:Xe}},vn=(se,ce,Ee)=>{const{width:Fe,height:ze,dpr:Xe}=fs(se);!Fe||!ze||[ce,Ee].forEach(At=>{At.width=Fe*Xe,At.height=ze*Xe,At.style.width="100%",At.style.height="100%";const Et=At.getContext("2d");Et&&(Et.setTransform(1,0,0,1,0,0),Et.scale(Xe,Xe))})},hs=(se,ce)=>{const Ee=document.createElement("canvas");return Ee.className=se,ce&&Ee.setAttribute("aria-hidden",ce),Ee},xe=se=>{se.dataset.penBound||(se.addEventListener("pointerdown",Yr),se.addEventListener("pointermove",Rr),se.addEventListener("pointerup",Wn),se.addEventListener("pointerleave",Wn),se.dataset.penBound="1")},Te=se=>{se.dataset.penBound&&(se.removeEventListener("pointerdown",Yr),se.removeEventListener("pointermove",Rr),se.removeEventListener("pointerup",Wn),se.removeEventListener("pointerleave",Wn),delete se.dataset.penBound)},le=se=>{let ce=se.querySelector(".pdf_pen_page_layer"),Ee=null,Fe=null;return ce?(Ee=ce.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Fe=ce.querySelector(".pdf_pen_page_canvas_live"),Fe&&xe(Fe)):(ce=document.createElement("div"),ce.className="pdf_pen_page_layer",Ee=hs("pdf_pen_page_canvas","true"),Fe=hs("pdf_pen_page_canvas pdf_pen_page_canvas_live"),xe(Fe),ce.appendChild(Ee),ce.appendChild(Fe),se.appendChild(ce)),!ce||!Ee||!Fe?null:{layer:ce,staticCanvas:Ee,liveCanvas:Fe}},be=se=>{var Ee;const ce=o.current.get(se);ce&&(Te(ce.liveCanvas),(Ee=ce.layer)==null||Ee.remove(),o.current.delete(se))},We=(se,ce,Ee)=>{const Fe=se.getBoundingClientRect();return Fe.bottom>=ce.top-Ee&&Fe.top<=ce.bottom+Ee},Ye=()=>{if(!s.current||!r.current)return;const se=r.current.getBoundingClientRect(),ce=800,Ee=Array.from(s.current.querySelectorAll(".page")).filter(ze=>We(ze,se,ce)),Fe=new Set;Ee.forEach(ze=>{const Xe=Number(ze.dataset.pageNumber);if(!Xe)return;Fe.add(Xe);const At=le(ze);At&&(o.current.set(Xe,At),vn(ze,At.staticCanvas,At.liveCanvas))});for(const[ze,Xe]of o.current.entries())Fe.has(ze)||be(ze)},Qt=()=>{const se=Pe.current||"idle",ce=se==="pen"||se==="eraser";o.current.forEach(({liveCanvas:Ee})=>{Ee.style.pointerEvents=ce?"auto":"none",Ee.style.touchAction=ce?"none":"auto",Ee.style.cursor=ce?"crosshair":"default"})},jt=(se,ce)=>se.pageNumber===void 0?ce===1:se.pageNumber===ce,ti=se=>(Ze.current["pdf-main"]||[]).filter(ce=>jt(ce,se)),Yr=se=>{if(Pe.current==="idle")return;const ce=ut(se);if(!ce)return;const{pageEl:Ee,pageNumber:Fe}=ce;se.target.setPointerCapture(se.pointerId);const ze=TG(se,Ee,On);ze&&(l.current=Fe,Je.current=!0,ie.current=[ze],vo())},Rr=se=>{var ze;if(Pe.current==="idle"||se.buttons===0&&!Je.current)return;const ce=l.current||((ze=ut(se))==null?void 0:ze.pageNumber)||null;if(!ce)return;const Ee=ei(ce);if(!Ee)return;se.preventDefault();const Fe=TG(se,Ee,On);Fe&&(Pe.current==="pen"?(Je.current=!0,l.current=ce,ie.current.length===0?ie.current=[Fe]:ie.current.push(Fe),vo()):Pe.current==="eraser"&&ti(ce).forEach(At=>{At.points.some(xn=>Math.hypot(xn.x-Fe.x,xn.y-Fe.y)<16)&&P("pdf-main",At.id)}))},Wn=se=>{var Fe;if(!Je.current&&Pe.current!=="eraser")return;const ce=se.target;(Fe=ce.hasPointerCapture)!=null&&Fe.call(ce,se.pointerId)&&ce.releasePointerCapture(se.pointerId);const Ee=l.current;if(Pe.current==="pen"&&Ee&&ie.current.length>1){const ze={id:Date.now().toString(),points:ie.current,color:Ge.current,width:ye.current,opacity:Nt.current,pageNumber:Ee};R("pdf-main",ze)}Je.current=!1,ie.current=[],l.current=null,vo()},ks=(se,ce,Ee,Fe,ze)=>{if(!(ce.length<2)){se.beginPath(),se.lineWidth=Fe,se.strokeStyle=Ee,se.lineCap="round",se.lineJoin="round",se.globalAlpha=ze,se.moveTo(ce[0].x,ce[0].y);for(let Xe=1;Xe<ce.length-1;Xe++){const At={x:(ce[Xe].x+ce[Xe+1].x)/2,y:(ce[Xe].y+ce[Xe+1].y)/2};se.quadraticCurveTo(ce[Xe].x,ce[Xe].y,At.x,At.y)}se.lineTo(ce[ce.length-1].x,ce[ce.length-1].y),se.stroke(),se.globalAlpha=1}},Hn=()=>{o.current.forEach(({staticCanvas:se},ce)=>{const Ee=se.getContext("2d");if(!Ee||(Ee.save(),Ee.setTransform(1,0,0,1,0,0),Ee.clearRect(0,0,se.width,se.height),Ee.restore(),!Zt.current))return;ti(ce).forEach(ze=>ks(Ee,ze.points,ze.color,ze.width||3,ze.opacity??1))})},vo=()=>{if(o.current.forEach(({liveCanvas:Fe})=>{const ze=Fe.getContext("2d");ze&&(ze.save(),ze.setTransform(1,0,0,1,0,0),ze.clearRect(0,0,Fe.width,Fe.height),ze.restore())}),Pe.current!=="pen"||ie.current.length===0)return;const se=l.current;if(!se)return;const ce=o.current.get(se);if(!ce)return;const Ee=ce.liveCanvas.getContext("2d");if(Ee){if(ie.current.length===1){const Fe=ie.current[0];Ee.beginPath(),Ee.fillStyle=Ge.current,Ee.globalAlpha=Nt.current,Ee.arc(Fe.x,Fe.y,ye.current/2,0,Math.PI*2),Ee.fill(),Ee.globalAlpha=1;return}ks(Ee,ie.current,Ge.current,ye.current,Nt.current)}},Vp=()=>{Ye(),Qt(),Hn(),vo()};F.useEffect(()=>{Vp()},[b,D]),F.useEffect(()=>{Hn()},[T]),F.useEffect(()=>{vo()},[b,E,x,I]),F.useEffect(()=>{const se=new ResizeObserver(()=>{Lt(),_e(Ee=>Ee+1)});s.current&&se.observe(s.current),r.current&&se.observe(r.current);const ce=()=>_e(Ee=>Ee+1);return window.addEventListener("resize",ce),()=>{se.disconnect(),window.removeEventListener("resize",ce)}},[]),F.useEffect(()=>{const se=r.current;if(!se)return;const ce=()=>Lt();return se.addEventListener("scroll",ce,{passive:!0}),()=>se.removeEventListener("scroll",ce)},[]),F.useEffect(()=>()=>{o.current.forEach(se=>{var ce;Te(se.liveCanvas),(ce=se.layer)==null||ce.remove()}),o.current.clear()},[]);const Oy=async()=>{var ce;Ce.current&&clearTimeout(Ce.current);const se=((ce=window.getSelection())==null?void 0:ce.toString())??"";if(!se.trim()){de("fail"),Ce.current=window.setTimeout(()=>de(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(se):document.execCommand("copy"),de("ok")}catch(Ee){console.error("copy failed",Ee),de("fail")}finally{Ce.current=window.setTimeout(()=>de(""),1e3)}},Jo=1,WA=se=>{const ce=new Map;se.forEach(ze=>{const Xe=ce.get(ze.pageNumber)??[];Xe.push({...ze}),ce.set(ze.pageNumber,Xe)});const Ee=1.5,Fe=[];return ce.forEach(ze=>{const Xe=ze;let At=!0;for(;At;){At=!1;for(let Et=0;Et<Xe.length;Et++){for(let xn=Et+1;xn<Xe.length;xn++){const Me=Xe[Et],ot=Xe[xn],it=Me.left<=ot.left+ot.width+Ee&&Me.left+Me.width>=ot.left-Ee,Bt=Me.top<=ot.top+ot.height+Ee&&Me.top+Me.height>=ot.top-Ee;if(it&&Bt){const _n=Math.min(Me.left,ot.left),dr=Math.min(Me.top,ot.top),fr=Math.max(Me.left+Me.width,ot.left+ot.width),Ei=Math.max(Me.top+Me.height,ot.top+ot.height);Xe[Et]={...Me,left:_n,top:dr,width:fr-_n,height:Ei-dr},Xe.splice(xn,1),At=!0;break}}if(At)break}}Fe.push(...Xe)}),Fe},Ju=()=>{const se=window.getSelection();if(!se||!se.toString().trim()||!r.current){me(At=>({...At,show:!1}));return}if(!(r.current.contains(se.anchorNode)&&r.current.contains(se.focusNode))){me(At=>({...At,show:!1}));return}const Fe=se.getRangeAt(0).getBoundingClientRect();let ze=Fe.top-50,Xe=Fe.left+Fe.width/2-80;ze<8&&(ze=Fe.bottom+8),Xe<8&&(Xe=8),Xe+180>window.innerWidth&&(Xe=window.innerWidth-200),me({text:se.toString(),top:ze,left:Xe,show:!0})},yo=()=>{b==="idle"&&setTimeout(Ju,10)},Dr=()=>{var _n,dr,fr,Ei,eA;const se=window.getSelection();if(!se||!se.toString().trim()||!r.current||!a.current){me(ni=>({...ni,show:!1}));return}const ce=se.getRangeAt(0),Fe=((dr=(_n=ce.startContainer)==null?void 0:_n.closest)==null?void 0:dr.call(_n,".page"))||((eA=(Ei=(fr=ce.startContainer)==null?void 0:fr.parentElement)==null?void 0:Ei.closest)==null?void 0:eA.call(Ei,".page")),ze=Fe?Number(Fe.dataset.pageNumber):null;if(!Fe||!ze){me(ni=>({...ni,show:!1}));return}r.current.getBoundingClientRect(),r.current.scrollLeft,r.current.scrollTop;const Xe=Fe.getBoundingClientRect(),At=getComputedStyle(a.current).getPropertyValue("--visual-scale"),Et=parseFloat(At)||1,xn=.5,Me=1,ot=Array.from(ce.getClientRects()).map(ni=>({left:(ni.left-Xe.left)/Et,top:(ni.top-Xe.top)/Et-xn/Math.max(Et,1e-4),width:ni.width/Et,height:Math.max(ni.height/Et-Me,1),pageNumber:ze,pageWidth:Xe.width/Et,pageHeight:Xe.height/Et})),it=u(se.toString(),void 0,"reference-doc",ze),Bt=WA(ot);X(ni=>[...ni,{id:it,rects:Bt}]),me(ni=>({...ni,show:!1})),se.removeAllRanges()},Zo=()=>{var se;(se=window.getSelection())==null||se.removeAllRanges(),me(ce=>({...ce,show:!1}))},Kp=()=>{var se;if(!oe.text.trim()){me(ce=>({...ce,show:!1}));return}g(oe.text),me(ce=>({...ce,show:!1})),(se=window.getSelection())==null||se.removeAllRanges()},Zu=Math.min(100,Math.max(1,Math.round(te||0)));return L.jsxs("div",{className:"pdf_viewer",children:[q&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:L.jsxs("div",{className:"pdf_viewer_progress",children:[L.jsx("div",{className:"pdf_viewer_progress_title",children:"PDF  ..."}),L.jsx("div",{className:"pdf_viewer_progress_bar",children:L.jsx("div",{className:"pdf_viewer_progress_bar_fill",style:{width:`${Zu}%`}})}),L.jsxs("div",{className:"pdf_viewer_progress_percent",children:[Zu,"%"]})]})}),G&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:L.jsxs("div",{className:"pdf_viewer_error",children:[L.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),L.jsx("div",{children:G})]})}),L.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:a,style:{"--visual-scale":Jo},children:L.jsxs("div",{ref:r,className:"pdf_viewer_container",onPointerUp:yo,children:[L.jsx("div",{ref:s,className:"pdfViewer pdf_viewer_content"}),L.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":Se,children:z.flatMap(se=>se.rects.map((ce,Ee)=>{var _n;const Fe=r.current,ze=(_n=s.current)==null?void 0:_n.querySelector(`.page[data-page-number="${ce.pageNumber}"]`);if(!Fe||!ze)return null;const{pageOffsetLeft:Xe,pageOffsetTop:At,scaleX:Et,scaleY:xn}=_G(Fe,ze,ce.pageWidth,ce.pageHeight),Me=Xe+ce.left*Et,ot=At+ce.top*xn,it=ce.width*Et,Bt=ce.height*xn;return L.jsx("div",{className:"pdf_highlight","data-highlight-id":se.id,style:{left:Me,top:ot,width:it,height:Bt}},`${se.id}-${Ee}`)}))})]})}),oe.show&&L.jsxs("div",{className:"pdf_selection_menu",style:{top:oe.top,left:oe.left},children:[(re==="ok"||re==="fail")&&L.jsx("span",{className:`pdf_selection_menu_copy_status ${re==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:re==="ok"?"":" "}),L.jsx("button",{onClick:Dr,children:"Highlight"}),L.jsx("div",{className:"pdf_selection_menu_copy_block",children:L.jsx("button",{onClick:Oy,children:"Copy"})}),L.jsx("button",{onClick:Kp,children:"AI"}),L.jsx("button",{onClick:Zo,children:"Cancel"})]})]})},rme=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{var x;const{chapters:i,currentChapterIndex:r,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=lf(),l=!!t&&(n||0)>0,u=l?n||1:i.length,d=l?e||1:r+1,h=d-1,g=((x=i[r])==null?void 0:x.title)||(l?"PDF":"Chapter"),[v,C]=F.useState(d.toString());F.useEffect(()=>{C(d.toString())},[d]);const b=I=>{I.preventDefault();const T=parseInt(v);if(isNaN(T)||T<1||T>u){C(d.toString());return}l?t==null||t(T):o(T-1)},E=I=>{const T=parseInt(I.target.value);l?t==null||t(T+1):o(T)};return L.jsxs("div",{className:"navigation_inner",children:[L.jsxs("div",{className:"prograss_bar_wrap",children:[L.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:E,className:"prograss_max"}),L.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:L.jsx("div",{className:"prograss_pointer"})})]}),L.jsxs("div",{className:"navigation_bottom_box",children:[L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:r===0,className:`
            ${l?d<=1?"off":"on":r===0?"off":"on"}
          `,children:[L.jsx(Ofe,{size:18}),L.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),L.jsxs("div",{className:"chapter_page",children:[L.jsxs("form",{onSubmit:b,className:"",children:[L.jsx("span",{className:"text_xs",children:"Page"}),L.jsx("input",{type:"text",value:v,onChange:I=>C(I.target.value),className:""}),L.jsxs("span",{className:"slash",children:["/ ",u]})]}),L.jsx("span",{className:"chapter_name",children:g})]}),L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:r===i.length-1,className:`
            ${l?d>=u?"off":"on":r===i.length-1?"off":"on"}
          `,children:[L.jsx("span",{className:"hidden sm:inline",children:"Next"}),L.jsx(Vfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tL=function(n,e){return tL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},tL(n,e)};function Yo(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nL=function(){return nL=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},nL.apply(this,arguments)};function rs(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function Gr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ex(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var Mu=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),$1=function(n,e){return Mu.fromClientRect(n,e.getBoundingClientRect())},sme=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Mu(0,0,i,r)},j1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},bi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},IG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ame=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tx=0;tx<IG.length;tx++)ame[IG.charCodeAt(tx)]=tx;var FG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_w=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nx=0;nx<FG.length;nx++)_w[FG.charCodeAt(nx)]=nx;var ome=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=_w[n.charCodeAt(i)],a=_w[n.charCodeAt(i+1)],o=_w[n.charCodeAt(i+2)],l=_w[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},Ame=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},lme=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},bp=5,JQ=11,bU=2,ume=JQ-bp,JY=65536>>bp,cme=1<<bp,CU=cme-1,dme=1024>>bp,fme=JY+dme,hme=fme,pme=32,gme=hme+pme,mme=65536>>JQ,vme=1<<ume,yme=vme-1,MG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},wme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},bme=function(n,e){var t=ome(n),i=Array.isArray(t)?lme(t):new Uint32Array(t),r=Array.isArray(t)?Ame(t):new Uint16Array(t),s=24,a=MG(r,s/2,i[4]/2),o=i[5]===2?MG(r,(s+i[4])/2):wme(i,Math.ceil((s+i[4])/4));return new Cme(i[0],i[1],i[2],i[3],a,o)},Cme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>bp],t=(t<<bU)+(e&CU),this.data[t];if(e<=65535)return t=this.index[JY+(e-55296>>bp)],t=(t<<bU)+(e&CU),this.data[t];if(e<this.highStart)return t=gme-mme+(e>>JQ),t=this.index[t],t+=e>>bp&yme,t=this.index[t],t=(t<<bU)+(e&CU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),UG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ix=0;ix<UG.length;ix++)Bme[UG.charCodeAt(ix)]=ix;var Eme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",PG=50,Sme=1,ZY=2,eX=3,xme=4,_me=5,RG=7,tX=8,DG=9,$d=10,iL=11,NG=12,rL=13,Tme=14,Tw=15,sL=16,rx=17,O0=18,Ime=19,LG=20,aL=21,H0=22,BU=23,Sg=24,$s=25,Iw=26,Fw=27,xg=28,Fme=29,Of=30,Mme=31,sx=32,ax=33,oL=34,AL=35,lL=36,nb=37,uL=38,k_=39,O_=40,EU=41,nX=42,Ume=43,Pme=[9001,65288],iX="!",Mt="",ox="",cL=bme(Eme),hl=[Of,lL],dL=[Sme,ZY,eX,_me],rX=[$d,tX],QG=[Fw,Iw],Rme=dL.concat(rX),kG=[uL,k_,O_,oL,AL],Dme=[Tw,rL],Nme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=cL.get(s);if(o>PG?(r.push(!0),o-=PG):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(sL);if(o===xme||o===iL){if(a===0)return i.push(a),t.push(Of);var l=t[a-1];return Rme.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(Of))}if(i.push(a),o===Mme)return t.push(e==="strict"?aL:nb);if(o===nX||o===Fme)return t.push(Of);if(o===Ume)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(nb):t.push(Of);t.push(o)}),[i,t,r]},SU=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==$d)break}if(r===$d)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==$d)break}if(o!==$d)break}return!1},OG=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===$d)t--;else return i}return 0},Lme=function(n,e,t,i,r){if(t[i]===0)return Mt;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return Mt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===ZY&&d===eX)return Mt;if(dL.indexOf(l)!==-1)return iX;if(dL.indexOf(d)!==-1||rX.indexOf(d)!==-1)return Mt;if(OG(s,e)===tX)return ox;if(cL.get(n[s])===iL||(l===sx||l===ax)&&cL.get(n[o])===iL||l===RG||d===RG||l===DG||[$d,rL,Tw].indexOf(l)===-1&&d===DG||[rx,O0,Ime,Sg,xg].indexOf(d)!==-1||OG(s,e)===H0||SU(BU,H0,s,e)||SU([rx,O0],aL,s,e)||SU(NG,NG,s,e))return Mt;if(l===$d)return ox;if(l===BU||d===BU)return Mt;if(d===sL||l===sL)return ox;if([rL,Tw,aL].indexOf(d)!==-1||l===Tme||u===lL&&Dme.indexOf(l)!==-1||l===xg&&d===lL||d===LG||hl.indexOf(d)!==-1&&l===$s||hl.indexOf(l)!==-1&&d===$s||l===Fw&&[nb,sx,ax].indexOf(d)!==-1||[nb,sx,ax].indexOf(l)!==-1&&d===Iw||hl.indexOf(l)!==-1&&QG.indexOf(d)!==-1||QG.indexOf(l)!==-1&&hl.indexOf(d)!==-1||[Fw,Iw].indexOf(l)!==-1&&(d===$s||[H0,Tw].indexOf(d)!==-1&&e[o+1]===$s)||[H0,Tw].indexOf(l)!==-1&&d===$s||l===$s&&[$s,xg,Sg].indexOf(d)!==-1)return Mt;if([$s,xg,Sg,rx,O0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===$s)return Mt;if([xg,Sg].indexOf(g)!==-1)h--;else break}if([Fw,Iw].indexOf(d)!==-1)for(var h=[rx,O0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===$s)return Mt;if([xg,Sg].indexOf(g)!==-1)h--;else break}if(uL===l&&[uL,k_,oL,AL].indexOf(d)!==-1||[k_,oL].indexOf(l)!==-1&&[k_,O_].indexOf(d)!==-1||[O_,AL].indexOf(l)!==-1&&d===O_||kG.indexOf(l)!==-1&&[LG,Iw].indexOf(d)!==-1||kG.indexOf(d)!==-1&&l===Fw||hl.indexOf(l)!==-1&&hl.indexOf(d)!==-1||l===Sg&&hl.indexOf(d)!==-1||hl.concat($s).indexOf(l)!==-1&&d===H0&&Pme.indexOf(n[o])===-1||hl.concat($s).indexOf(d)!==-1&&l===O0)return Mt;if(l===EU&&d===EU){for(var v=t[s],C=1;v>0&&(v--,e[v]===EU);)C++;if(C%2!==0)return Mt}return l===sx&&d===ax?Mt:ox},Qme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Nme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[$s,Of,nX].indexOf(o)!==-1?nb:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},kme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===iX,this.start=i,this.end=r}return n.prototype.slice=function(){return bi.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Ome=function(n,e){var t=j1(n),i=Qme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Mt;u<o&&(d=Lme(t,s,r,++u,a))===Mt;);if(d!==Mt||u===o){var h=new kme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},Hme=1,Vme=2,iE=4,HG=8,dT=10,VG=47,Hw=92,Kme=9,Gme=32,Ax=34,V0=61,zme=35,qme=36,$me=37,lx=39,ux=40,K0=41,jme=95,Rs=45,Wme=33,Yme=60,Xme=62,Jme=64,Zme=91,eve=93,tve=61,nve=123,cx=63,ive=125,KG=124,rve=126,sve=128,GG=65533,xU=42,Gf=43,ave=44,ove=58,Ave=59,ib=46,lve=0,uve=8,cve=11,dve=14,fve=31,hve=127,AA=-1,sX=48,aX=97,oX=101,pve=102,gve=117,mve=122,AX=65,lX=69,uX=70,vve=85,yve=90,$r=function(n){return n>=sX&&n<=57},wve=function(n){return n>=55296&&n<=57343},_g=function(n){return $r(n)||n>=AX&&n<=uX||n>=aX&&n<=pve},bve=function(n){return n>=aX&&n<=mve},Cve=function(n){return n>=AX&&n<=yve},Bve=function(n){return bve(n)||Cve(n)},Eve=function(n){return n>=sve},dx=function(n){return n===dT||n===Kme||n===Gme},fT=function(n){return Bve(n)||Eve(n)||n===jme},zG=function(n){return fT(n)||$r(n)||n===Rs},Sve=function(n){return n>=lve&&n<=uve||n===cve||n>=dve&&n<=fve||n===hve},Fc=function(n,e){return n!==Hw?!1:e!==dT},fx=function(n,e,t){return n===Rs?fT(e)||Fc(e,t):fT(n)?!0:!!(n===Hw&&Fc(n,e))},_U=function(n,e,t){return n===Gf||n===Rs?$r(e)?!0:e===ib&&$r(t):$r(n===ib?e:n)},xve=function(n){var e=0,t=1;(n[e]===Gf||n[e]===Rs)&&(n[e]===Rs&&(t=-1),e++);for(var i=[];$r(n[e]);)i.push(n[e++]);var r=i.length?parseInt(bi.apply(void 0,i),10):0;n[e]===ib&&e++;for(var s=[];$r(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(bi.apply(void 0,s),10):0;(n[e]===lX||n[e]===oX)&&e++;var l=1;(n[e]===Gf||n[e]===Rs)&&(n[e]===Rs&&(l=-1),e++);for(var u=[];$r(n[e]);)u.push(n[e++]);var d=u.length?parseInt(bi.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},_ve={type:2},Tve={type:3},Ive={type:4},Fve={type:13},Mve={type:8},Uve={type:21},Pve={type:9},Rve={type:10},Dve={type:11},Nve={type:12},Lve={type:14},hx={type:23},Qve={type:1},kve={type:25},Ove={type:24},Hve={type:26},Vve={type:27},Kve={type:28},Gve={type:29},zve={type:31},fL={type:32},cX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(j1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==fL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ax:return this.consumeStringToken(Ax);case zme:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(zG(t)||Fc(i,r)){var s=fx(t,i,r)?Vme:Hme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case qme:if(this.peekCodePoint(0)===V0)return this.consumeCodePoint(),Fve;break;case lx:return this.consumeStringToken(lx);case ux:return _ve;case K0:return Tve;case xU:if(this.peekCodePoint(0)===V0)return this.consumeCodePoint(),Lve;break;case Gf:if(_U(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ave:return Ive;case Rs:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(_U(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(fx(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Rs&&u===Xme)return this.consumeCodePoint(),this.consumeCodePoint(),Ove;break;case ib:if(_U(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case VG:if(this.peekCodePoint(0)===xU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===xU&&(d=this.consumeCodePoint(),d===VG))return this.consumeToken();if(d===AA)return this.consumeToken()}break;case ove:return Hve;case Ave:return Vve;case Yme:if(this.peekCodePoint(0)===Wme&&this.peekCodePoint(1)===Rs&&this.peekCodePoint(2)===Rs)return this.consumeCodePoint(),this.consumeCodePoint(),kve;break;case Jme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(fx(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Zme:return Kve;case Hw:if(Fc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case eve:return Gve;case tve:if(this.peekCodePoint(0)===V0)return this.consumeCodePoint(),Mve;break;case nve:return Dve;case ive:return Nve;case gve:case vve:var C=this.peekCodePoint(0),b=this.peekCodePoint(1);return C===Gf&&(_g(b)||b===cx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case KG:if(this.peekCodePoint(0)===V0)return this.consumeCodePoint(),Pve;if(this.peekCodePoint(0)===KG)return this.consumeCodePoint(),Uve;break;case rve:if(this.peekCodePoint(0)===V0)return this.consumeCodePoint(),Rve;break;case AA:return fL}return dx(e)?(this.consumeWhiteSpace(),zve):$r(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):fT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:bi(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();_g(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===cx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(bi.apply(void 0,e.map(function(l){return l===cx?sX:l})),16),s=parseInt(bi.apply(void 0,e.map(function(l){return l===cx?uX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(bi.apply(void 0,e),16);if(this.peekCodePoint(0)===Rs&&_g(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];_g(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(bi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ux?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ux?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===AA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===lx||t===Ax){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===AA||this.peekCodePoint(0)===K0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),hx)}for(;;){var r=this.consumeCodePoint();if(r===AA||r===K0)return{type:22,value:bi.apply(void 0,e)};if(dx(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===AA||this.peekCodePoint(0)===K0?(this.consumeCodePoint(),{type:22,value:bi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),hx);if(r===Ax||r===lx||r===ux||Sve(r))return this.consumeBadUrlRemnants(),hx;if(r===Hw)if(Fc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hx;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;dx(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===K0||e===AA)return;Fc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=bi.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===AA||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===dT)return this._value.splice(0,i),Qve;if(r===Hw){var s=this._value[i+1];s!==AA&&s!==void 0&&(s===dT?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):Fc(r,s)&&(t+=this.consumeStringSlice(i),t+=bi(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=iE,i=this.peekCodePoint(0);for((i===Gf||i===Rs)&&e.push(this.consumeCodePoint());$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===ib&&$r(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HG;$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===lX||i===oX)&&((r===Gf||r===Rs)&&$r(s)||$r(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HG;$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[xve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(fx(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===$me?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(_g(e)){for(var t=bi(e);_g(this.peekCodePoint(0))&&t.length<6;)t+=bi(this.consumeCodePoint());dx(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||wve(i)||i>1114111?GG:i}return e===AA?GG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(zG(t))e+=bi(t);else if(Fc(t,this.peekCodePoint(0)))e+=bi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),dX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new cX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||$ve(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?fL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),rE=function(n){return n.type===15},My=function(n){return n.type===17},mn=function(n){return n.type===20},qve=function(n){return n.type===0},hL=function(n,e){return mn(n)&&n.value===e},fX=function(n){return n.type!==31},dy=function(n){return n.type!==31&&n.type!==4},$A=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},$ve=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},tf=function(n){return n.type===17||n.type===15},Ri=function(n){return n.type===16||tf(n)},hX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Mr={type:17,number:0,flags:iE},ZQ={type:16,number:50,flags:iE},jd={type:16,number:100,flags:iE},Mw=function(n,e,t){var i=n[0],r=n[1];return[Un(i,e),Un(typeof r<"u"?r:i,t)]},Un=function(n,e){if(n.type===16)return n.number/100*e;if(rE(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},pX="deg",gX="grad",mX="rad",vX="turn",W1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case pX:return Math.PI*e.number/180;case gX:return Math.PI/200*e.number;case mX:return e.number;case vX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},yX=function(n){return n.type===15&&(n.unit===pX||n.unit===gX||n.unit===mX||n.unit===vX)},wX=function(n){var e=n.filter(mn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mr,Mr];case"to top":case"bottom":return so(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mr,jd];case"to right":case"left":return so(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jd,jd];case"to bottom":case"top":return so(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jd,Mr];case"to left":case"right":return so(270)}return 0},so=function(n){return Math.PI*n/180},Yd={name:"color",parse:function(n,e){if(e.type===18){var t=jve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return Wd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Wd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return Wd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Wd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Eu[e.value.toUpperCase()];if(typeof o<"u")return o}return Eu.TRANSPARENT}},Xd=function(n){return(255&n)===0},Xi=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},Wd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},qG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},$G=function(n,e){var t=e.filter(dy);if(t.length===3){var i=t.map(qG),r=i[0],s=i[1],a=i[2];return Wd(r,s,a,1)}if(t.length===4){var o=t.map(qG),r=o[0],s=o[1],a=o[2],l=o[3];return Wd(r,s,a,l)}return 0};function TU(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var jG=function(n,e){var t=e.filter(dy),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?so(i.number):W1.parse(n,i))/(Math.PI*2),l=Ri(r)?r.number/100:0,u=Ri(s)?s.number/100:0,d=typeof a<"u"&&Ri(a)?Un(a,1):1;if(l===0)return Wd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=TU(g,h,o+1/3),C=TU(g,h,o),b=TU(g,h,o-1/3);return Wd(v*255,C*255,b*255,d)},jve={hsl:jG,hsla:jG,rgb:$G,rgba:$G},Vw=function(n,e){return Yd.parse(n,dX.create(e).parseComponentValue())},Eu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Wve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Yve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y1=function(n,e){var t=Yd.parse(n,e[0]),i=e[1];return i&&Ri(i)?{color:t,stop:i}:{color:t,stop:null}},WG=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=Mr),i.stop===null&&(i.stop=jd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=Un(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),C=1;C<=h;C++)r[u+C-1]=v*C;u=null}}return n.map(function(b,E){var x=b.color;return{color:x,stop:Math.max(Math.min(1,r[E]/e),0)}})},Xve=function(n,e,t){var i=e/2,r=t/2,s=Un(n[0],e)-i,a=r-Un(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Jve=function(n,e,t){var i=typeof n=="number"?n:Xve(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},So=function(n,e){return Math.sqrt(n*n+e*e)},YG=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=So(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Zve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(So(e,t),So(e,t-r),So(e-i,t),So(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=YG(i,r,e,t,!0),u=l[0],d=l[1];s=So(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(So(e,t),So(e,t-r),So(e-i,t),So(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=YG(i,r,e,t,!1),u=h[0],d=h[1];s=So(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=Un(n.size[0],i),a=n.size.length===2?Un(n.size[1],r):s),[s,a]},eye=function(n,e){var t=so(180),i=[];return $A(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=wX(r);return}else if(yX(a)){t=W1.parse(n,a);return}}var o=Y1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},px=function(n,e){var t=so(180),i=[];return $A(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=wX(r);return}else if(yX(a)){t=(W1.parse(n,a)+so(270))%so(360);return}}var o=Y1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},tye=function(n,e){var t=so(180),i=[],r=1,s=0,a=3,o=[];return $A(e).forEach(function(l,u){var d=l[0];if(u===0){if(mn(d)&&d.value==="linear"){r=1;return}else if(mn(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=Yd.parse(n,d.values[0]);i.push({stop:Mr,color:h})}else if(d.name==="to"){var h=Yd.parse(n,d.values[0]);i.push({stop:jd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(dy);if(g.length===2){var h=Yd.parse(n,g[1]),v=g[0];My(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+so(180))%so(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},bX="closest-side",CX="farthest-side",BX="closest-corner",EX="farthest-corner",SX="circle",xX="ellipse",_X="cover",TX="contain",nye=function(n,e){var t=0,i=3,r=[],s=[];return $A(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(mn(g))switch(g.value){case"center":return s.push(ZQ),h;case"top":case"left":return s.push(Mr),h;case"right":case"bottom":return s.push(jd),h}else(Ri(g)||tf(g))&&s.push(g);else if(mn(g))switch(g.value){case SX:return t=0,!1;case xX:return t=1,!1;case"at":return u=!0,!1;case bX:return i=0,!1;case _X:case CX:return i=1,!1;case TX:case BX:return i=2,!1;case EX:return i=3,!1}else if(tf(g)||Ri(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=Y1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},gx=function(n,e){var t=0,i=3,r=[],s=[];return $A(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(mn(h))switch(h.value){case"center":return s.push(ZQ),!1;case"top":case"left":return s.push(Mr),!1;case"right":case"bottom":return s.push(jd),!1}else if(Ri(h)||tf(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(mn(h))switch(h.value){case SX:return t=0,!1;case xX:return t=1,!1;case TX:case bX:return i=0,!1;case CX:return i=1,!1;case BX:return i=2,!1;case _X:case EX:return i=3,!1}else if(tf(h)||Ri(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=Y1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},iye=function(n){return n.type===1},rye=function(n){return n.type===2},ek={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=IX[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function sye(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!IX[n.name])}var IX={"linear-gradient":eye,"-moz-linear-gradient":px,"-ms-linear-gradient":px,"-o-linear-gradient":px,"-webkit-linear-gradient":px,"radial-gradient":nye,"-moz-radial-gradient":gx,"-ms-radial-gradient":gx,"-o-radial-gradient":gx,"-webkit-radial-gradient":gx,"-webkit-gradient":tye},aye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return dy(i)&&sye(i)}).map(function(i){return ek.parse(n,i)})}},oye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Aye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return $A(e).map(function(t){return t.filter(Ri)}).map(hX)}},lye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return $A(e).map(function(t){return t.filter(mn).map(function(i){return i.value}).join(" ")}).map(uye)}},uye=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},um;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(um||(um={}));var cye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return $A(e).map(function(t){return t.filter(dye)})}},dye=function(n){return mn(n)||Ri(n)},X1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fye=X1("top"),hye=X1("right"),pye=X1("bottom"),gye=X1("left"),J1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return hX(t.filter(Ri))}}},mye=J1("top-left"),vye=J1("top-right"),yye=J1("bottom-right"),wye=J1("bottom-left"),Z1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},bye=Z1("top"),Cye=Z1("right"),Bye=Z1("bottom"),Eye=Z1("left"),eI=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return rE(t)?t.number:0}}},Sye=eI("top"),xye=eI("right"),_ye=eI("bottom"),Tye=eI("left"),Iye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Mye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).reduce(function(t,i){return t|Uye(i.value)},0)}},Uye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Pye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Rye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},hT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(hT||(hT={}));var Dye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return hT.STRICT;case"normal":default:return hT.NORMAL}}},Nye={name:"line-height",initialValue:"normal",prefix:!1,type:4},XG=function(n,e){return mn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Ri(n)?Un(n,e):e},Lye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:ek.parse(n,e)}},Qye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},pL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},tI=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},kye=tI("top"),Oye=tI("right"),Hye=tI("bottom"),Vye=tI("left"),Kye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Gye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},nI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zye=nI("top"),qye=nI("right"),$ye=nI("bottom"),jye=nI("left"),Wye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Yye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Xye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&hL(e[0],"none")?[]:$A(e).map(function(t){for(var i={color:Eu.TRANSPARENT,offsetX:Mr,offsetY:Mr,blur:Mr},r=0,s=0;s<t.length;s++){var a=t[s];tf(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=Yd.parse(n,a)}return i})}},Jye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Zye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=n0e[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},e0e=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},t0e=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},n0e={matrix:e0e,matrix3d:t0e},JG={type:16,number:50,flags:iE},i0e=[JG,JG],r0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Ri);return t.length!==2?i0e:[t[0],t[1]]}},s0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Kw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Kw||(Kw={}));var a0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Kw.BREAK_ALL;case"keep-all":return Kw.KEEP_ALL;case"normal":default:return Kw.NORMAL}}},o0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(My(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},FX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},A0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return My(e)?e.number:1}},l0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},u0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},c0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},d0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},f0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(My(e))return e.number;if(mn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},h0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(mn).map(function(t){return t.value})}},p0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gi=function(n,e){return(n&e)!==0},g0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},m0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(fX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&My(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},v0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(fX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(mn(s)&&s.value!=="none"){var o=a&&My(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},y0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(rE).map(function(t){return FX.parse(n,t)})}},w0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(qve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},ZG=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},b0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&hL(e[0],"none")?[]:$A(e).map(function(t){for(var i={color:255,offsetX:Mr,offsetY:Mr,blur:Mr,spread:Mr,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];hL(a,"inset")?i.inset=!0:tf(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=Yd.parse(n,a)}return i})}},C0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(mn).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},B0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},E0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return rE(e)?e.number:0}},S0e=(function(){function n(e,t){var i,r;this.animationDuration=Le(e,y0e,t.animationDuration),this.backgroundClip=Le(e,Wve,t.backgroundClip),this.backgroundColor=Le(e,Yve,t.backgroundColor),this.backgroundImage=Le(e,aye,t.backgroundImage),this.backgroundOrigin=Le(e,oye,t.backgroundOrigin),this.backgroundPosition=Le(e,Aye,t.backgroundPosition),this.backgroundRepeat=Le(e,lye,t.backgroundRepeat),this.backgroundSize=Le(e,cye,t.backgroundSize),this.borderTopColor=Le(e,fye,t.borderTopColor),this.borderRightColor=Le(e,hye,t.borderRightColor),this.borderBottomColor=Le(e,pye,t.borderBottomColor),this.borderLeftColor=Le(e,gye,t.borderLeftColor),this.borderTopLeftRadius=Le(e,mye,t.borderTopLeftRadius),this.borderTopRightRadius=Le(e,vye,t.borderTopRightRadius),this.borderBottomRightRadius=Le(e,yye,t.borderBottomRightRadius),this.borderBottomLeftRadius=Le(e,wye,t.borderBottomLeftRadius),this.borderTopStyle=Le(e,bye,t.borderTopStyle),this.borderRightStyle=Le(e,Cye,t.borderRightStyle),this.borderBottomStyle=Le(e,Bye,t.borderBottomStyle),this.borderLeftStyle=Le(e,Eye,t.borderLeftStyle),this.borderTopWidth=Le(e,Sye,t.borderTopWidth),this.borderRightWidth=Le(e,xye,t.borderRightWidth),this.borderBottomWidth=Le(e,_ye,t.borderBottomWidth),this.borderLeftWidth=Le(e,Tye,t.borderLeftWidth),this.boxShadow=Le(e,b0e,t.boxShadow),this.color=Le(e,Iye,t.color),this.direction=Le(e,Fye,t.direction),this.display=Le(e,Mye,t.display),this.float=Le(e,Pye,t.cssFloat),this.fontFamily=Le(e,c0e,t.fontFamily),this.fontSize=Le(e,d0e,t.fontSize),this.fontStyle=Le(e,p0e,t.fontStyle),this.fontVariant=Le(e,h0e,t.fontVariant),this.fontWeight=Le(e,f0e,t.fontWeight),this.letterSpacing=Le(e,Rye,t.letterSpacing),this.lineBreak=Le(e,Dye,t.lineBreak),this.lineHeight=Le(e,Nye,t.lineHeight),this.listStyleImage=Le(e,Lye,t.listStyleImage),this.listStylePosition=Le(e,Qye,t.listStylePosition),this.listStyleType=Le(e,pL,t.listStyleType),this.marginTop=Le(e,kye,t.marginTop),this.marginRight=Le(e,Oye,t.marginRight),this.marginBottom=Le(e,Hye,t.marginBottom),this.marginLeft=Le(e,Vye,t.marginLeft),this.opacity=Le(e,A0e,t.opacity);var s=Le(e,Kye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Le(e,Gye,t.overflowWrap),this.paddingTop=Le(e,zye,t.paddingTop),this.paddingRight=Le(e,qye,t.paddingRight),this.paddingBottom=Le(e,$ye,t.paddingBottom),this.paddingLeft=Le(e,jye,t.paddingLeft),this.paintOrder=Le(e,C0e,t.paintOrder),this.position=Le(e,Yye,t.position),this.textAlign=Le(e,Wye,t.textAlign),this.textDecorationColor=Le(e,l0e,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Le(e,u0e,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Le(e,Xye,t.textShadow),this.textTransform=Le(e,Jye,t.textTransform),this.transform=Le(e,Zye,t.transform),this.transformOrigin=Le(e,r0e,t.transformOrigin),this.visibility=Le(e,s0e,t.visibility),this.webkitTextStrokeColor=Le(e,B0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Le(e,E0e,t.webkitTextStrokeWidth),this.wordBreak=Le(e,a0e,t.wordBreak),this.zIndex=Le(e,o0e,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Xd(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Gi(this.display,4)||Gi(this.display,33554432)||Gi(this.display,268435456)||Gi(this.display,536870912)||Gi(this.display,67108864)||Gi(this.display,134217728)},n})(),x0e=(function(){function n(e,t){this.content=Le(e,g0e,t.content),this.quotes=Le(e,w0e,t.quotes)}return n})(),ez=(function(){function n(e,t){this.counterIncrement=Le(e,m0e,t.counterIncrement),this.counterReset=Le(e,v0e,t.counterReset)}return n})(),Le=function(n,e,t){var i=new cX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new dX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,mn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return W1.parse(n,s.parseComponentValue());case"color":return Yd.parse(n,s.parseComponentValue());case"image":return ek.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return tf(o)?o:Mr;case"length-percentage":var l=s.parseComponentValue();return Ri(l)?l:Mr;case"time":return FX.parse(n,s.parseComponentValue())}break}},_0e="data-html2canvas-debug",T0e=function(n){var e=n.getAttribute(_0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gL=function(n,e){var t=T0e(n);return t===1||e===t},jA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,gL(t,3))debugger;this.styles=new S0e(e,window.getComputedStyle(t,null)),yL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=$1(this.context,t),gL(t,4)&&(this.flags|=16)}return n})(),I0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mx=0;mx<tz.length;mx++)Uw[tz.charCodeAt(mx)]=mx;var F0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=Uw[n.charCodeAt(i)],a=Uw[n.charCodeAt(i+1)],o=Uw[n.charCodeAt(i+2)],l=Uw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},M0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},U0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Cp=5,tk=11,IU=2,P0e=tk-Cp,MX=65536>>Cp,R0e=1<<Cp,FU=R0e-1,D0e=1024>>Cp,N0e=MX+D0e,L0e=N0e,Q0e=32,k0e=L0e+Q0e,O0e=65536>>tk,H0e=1<<P0e,V0e=H0e-1,nz=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},K0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},G0e=function(n,e){var t=F0e(n),i=Array.isArray(t)?U0e(t):new Uint32Array(t),r=Array.isArray(t)?M0e(t):new Uint16Array(t),s=24,a=nz(r,s/2,i[4]/2),o=i[5]===2?nz(r,(s+i[4])/2):K0e(i,Math.ceil((s+i[4])/4));return new z0e(i[0],i[1],i[2],i[3],a,o)},z0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Cp],t=(t<<IU)+(e&FU),this.data[t];if(e<=65535)return t=this.index[MX+(e-55296>>Cp)],t=(t<<IU)+(e&FU),this.data[t];if(e<this.highStart)return t=k0e-O0e+(e>>tk),t=this.index[t],t+=e>>Cp&V0e,t=this.index[t],t=(t<<IU)+(e&FU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),iz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vx=0;vx<iz.length;vx++)q0e[iz.charCodeAt(vx)]=vx;var $0e=1,MU=2,UU=3,rz=4,sz=5,j0e=7,az=8,PU=9,RU=10,oz=11,Az=12,lz=13,uz=14,DU=15,W0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Y0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},X0e=G0e(I0e),Oa="",NU="",J0e=function(n){return X0e.get(n)},Z0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===MU&&a===UU)return Oa;if(s===MU||s===UU||s===rz||a===MU||a===UU||a===rz)return NU;if(s===az&&[az,PU,oz,Az].indexOf(a)!==-1||(s===oz||s===PU)&&(a===PU||a===RU)||(s===Az||s===RU)&&a===RU||a===lz||a===sz||a===j0e||s===$0e)return Oa;if(s===lz&&a===uz){for(;r===sz;)r=e[--i];if(r===uz)return Oa}if(s===DU&&a===DU){for(var o=0;r===DU;)o++,r=e[--i];if(o%2===0)return Oa}return NU},ewe=function(n){var e=W0e(n),t=e.length,i=0,r=0,s=e.map(J0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=Oa;i<t&&(a=Z0e(e,s,++i))===Oa;);if(a!==Oa||i===t){var o=Y0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},twe=function(n){for(var e=ewe(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},nwe=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},iwe=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=j1(i.data).map(function(l){return bi(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},rwe=function(){return typeof new Image().crossOrigin<"u"},swe=function(){return typeof new XMLHttpRequest().responseType=="string"},awe=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},cz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},owe=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=mL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),dz(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",cz(l)?dz(mL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),cz(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},mL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},dz=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},xr={get SUPPORT_RANGE_BOUNDS(){var n=nwe(document);return Object.defineProperty(xr,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=xr.SUPPORT_RANGE_BOUNDS&&iwe(document);return Object.defineProperty(xr,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=awe(document);return Object.defineProperty(xr,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?owe(document):Promise.resolve(!1);return Object.defineProperty(xr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=rwe();return Object.defineProperty(xr,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=swe();return Object.defineProperty(xr,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(xr,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(xr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Gw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Awe=function(n,e,t,i){var r=cwe(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(xr.SUPPORT_RANGE_BOUNDS){var l=fz(i,a,o.length).getClientRects();if(l.length>1){var u=nk(o),d=0;u.forEach(function(g){s.push(new Gw(g,Mu.fromDOMRectList(n,fz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Gw(o,Mu.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new Gw(o,lwe(n,i))),i=h}else xr.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},lwe=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=$1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return Mu.EMPTY},fz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},nk=function(n){if(xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return twe(n)},uwe=function(n,e){if(xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return fwe(n,e)},cwe=function(n,e){return e.letterSpacing!==0?nk(n):uwe(n,e)},dwe=[32,160,4961,65792,65793,4153,4241],fwe=function(n,e){for(var t=Ome(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=j1(a),l="";o.forEach(function(u){dwe.indexOf(u)===-1?l+=bi(u):(l.length&&i.push(l),i.push(bi(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},hwe=(function(){function n(e,t,i){this.text=pwe(t.data,i.textTransform),this.textBounds=Awe(e,this.text,i,t)}return n})(),pwe=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(gwe,mwe);case 2:return n.toUpperCase();default:return n}},gwe=/(^|\s|:|-|\(|\))([a-z])/g,mwe=function(n,e,t){return n.length>0?e+t.toUpperCase():n},UX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(jA),PX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(jA),RX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=$1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(jA),DX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(jA),vL=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(jA),vwe=[{type:15,flags:0,unit:"px",number:3}],ywe=[{type:16,flags:0,number:50}],wwe=function(n){return n.width>n.height?new Mu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Mu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},bwe=function(n){var e=n.type===Cwe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},pT="checkbox",gT="radio",Cwe="password",hz=707406591,ik=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=bwe(i),(r.type===pT||r.type===gT)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=wwe(r.bounds)),r.type){case pT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=vwe;break;case gT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ywe;break}return r}return e})(jA),NX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(jA),LX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(jA),QX=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=OX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Vw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Eu.TRANSPARENT,a=i.contentWindow.document.body?Vw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):Eu.TRANSPARENT;r.backgroundColor=Xd(s)?Xd(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(jA),Bwe=["OL","UL","MENU"],H_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,HX(r)&&r.data.trim().length>0)t.textNodes.push(new hwe(n,r,t.styles));else if(Xg(r))if(zX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return H_(n,o,t,i)});else{var a=kX(n,r);a.styles.isVisible()&&(Ewe(r,a,i)?a.flags|=4:Swe(a.styles)&&(a.flags|=2),Bwe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?H_(n,r.shadowRoot,a,i):!mT(r)&&!VX(r)&&!vT(r)&&H_(n,r,a,i))}},kX=function(n,e){return wL(e)?new UX(n,e):KX(e)?new PX(n,e):VX(e)?new RX(n,e):xwe(e)?new DX(n,e):_we(e)?new vL(n,e):Twe(e)?new ik(n,e):vT(e)?new NX(n,e):mT(e)?new LX(n,e):GX(e)?new QX(n,e):new jA(n,e)},OX=function(n,e){var t=kX(n,e);return t.flags|=4,H_(n,e,t,t),t},Ewe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||rk(n)&&t.styles.isTransparent()},Swe=function(n){return n.isPositioned()||n.isFloating()},HX=function(n){return n.nodeType===Node.TEXT_NODE},Xg=function(n){return n.nodeType===Node.ELEMENT_NODE},yL=function(n){return Xg(n)&&typeof n.style<"u"&&!V_(n)},V_=function(n){return typeof n.className=="object"},xwe=function(n){return n.tagName==="LI"},_we=function(n){return n.tagName==="OL"},Twe=function(n){return n.tagName==="INPUT"},Iwe=function(n){return n.tagName==="HTML"},VX=function(n){return n.tagName==="svg"},rk=function(n){return n.tagName==="BODY"},KX=function(n){return n.tagName==="CANVAS"},pz=function(n){return n.tagName==="VIDEO"},wL=function(n){return n.tagName==="IMG"},GX=function(n){return n.tagName==="IFRAME"},gz=function(n){return n.tagName==="STYLE"},Fwe=function(n){return n.tagName==="SCRIPT"},mT=function(n){return n.tagName==="TEXTAREA"},vT=function(n){return n.tagName==="SELECT"},zX=function(n){return n.tagName==="SLOT"},mz=function(n){return n.tagName.indexOf("-")>0},Mwe=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),vz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},yz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Uwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Pwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tg=function(n,e,t,i,r,s){return n<e||n>t?rb(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},qX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},mi=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(qX(Math.abs(n),s,i,function(a){return bi(Math.floor(a%s)+e)})+r)},Mf=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return qX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},zg=1,Tc=2,Ic=4,Pw=8,pl=function(n,e,t,i,r,s){if(n<-9999||n>9999)return rb(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Gi(s,zg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Gi(s,Tc)||u===1&&l===1&&Gi(s,Ic)&&n>100||u===1&&l>1&&Gi(s,Pw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},wz="",bz="",Cz="",LU="",rb=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=mi(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return Mf(n,"",r);case 6:return Tg(n,1,3999,vz,3,i).toLowerCase();case 7:return Tg(n,1,3999,vz,3,i);case 8:return mi(n,945,969,!1,i);case 9:return mi(n,97,122,!1,i);case 10:return mi(n,65,90,!1,i);case 11:return mi(n,1632,1641,!0,i);case 12:case 49:return Tg(n,1,9999,yz,3,i);case 35:return Tg(n,1,9999,yz,3,i).toLowerCase();case 13:return mi(n,2534,2543,!0,i);case 14:case 30:return mi(n,6112,6121,!0,i);case 15:return Mf(n,"",r);case 16:return Mf(n,"",r);case 17:case 48:return pl(n,"",wz,"",r,Tc|Ic|Pw);case 47:return pl(n,"",bz,"",r,zg|Tc|Ic|Pw);case 42:return pl(n,"",wz,"",r,Tc|Ic|Pw);case 41:return pl(n,"",bz,"",r,zg|Tc|Ic|Pw);case 26:return pl(n,"","",Cz,r,0);case 25:return pl(n,"","",Cz,r,zg|Tc|Ic);case 31:return pl(n,"","",LU,s,zg|Tc|Ic);case 33:return pl(n,"","",LU,s,0);case 32:return pl(n,"","",LU,s,zg|Tc|Ic);case 18:return mi(n,2406,2415,!0,i);case 20:return Tg(n,1,19999,Pwe,3,i);case 21:return mi(n,2790,2799,!0,i);case 22:return mi(n,2662,2671,!0,i);case 22:return Tg(n,1,10999,Uwe,3,i);case 23:return Mf(n,"");case 24:return Mf(n,"");case 27:return mi(n,3302,3311,!0,i);case 28:return Mf(n,"",r);case 29:return Mf(n,"",r);case 34:return mi(n,3792,3801,!0,i);case 37:return mi(n,6160,6169,!0,i);case 38:return mi(n,4160,4169,!0,i);case 39:return mi(n,2918,2927,!0,i);case 40:return mi(n,1776,1785,!0,i);case 43:return mi(n,3046,3055,!0,i);case 44:return mi(n,3174,3183,!0,i);case 45:return mi(n,3664,3673,!0,i);case 46:return mi(n,3872,3881,!0,i);case 3:default:return mi(n,48,57,!0,i)}},$X="data-html2canvas-ignore",Bz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new Mwe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=Rwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=Lwe(r).then(function(){return rs(i,void 0,void 0,function(){var d,h;return Gr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Hwe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Nwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(kwe(document.doctype)+"<html></html>"),Owe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(gL(e,2))debugger;if(KX(e))return this.createCanvasClone(e);if(pz(e))return this.createVideoClone(e);if(gz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wL(t)&&(wL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),mz(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return QU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!Xg(t)||!Fwe(t)&&!t.hasAttribute($X)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Xg(t)||!gz(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Xg(s)&&zX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(HX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Xg(e)&&(yL(e)||V_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&yL(r)&&(this.clonedReferenceElement=r),rk(r)&&Gwe(r);var l=this.counters.parse(new ez(this.context,s)),u=this.resolvePseudoContent(e,r,a,zw.BEFORE);mz(e)&&(t=!0),pz(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,zw.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||V_(e))&&!GX(e)||t)&&QU(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(mT(e)||vT(e))&&(mT(r)||vT(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new ez(this.context,i));var l=new x0e(this.context,i),u=o.createElement("html2canvaspseudoelement");QU(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(mn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var C=h.values.filter(dy),b=C[0],E=C[1];if(b&&mn(b)){var x=s.counters.getCounterValue(b.value),I=E&&mn(E)?pL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(rb(x,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(dy),b=T[0],R=T[1],E=T[2];if(b&&mn(b)){var P=s.counters.getCounterValues(b.value),D=E&&mn(E)?pL.parse(s.context,E.value):3,Q=R&&R.type===0?R.value:"",H=P.map(function(V){return rb(V,D,!1)}).join(Q);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(ZG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(ZG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=bL+" "+CL;var d=r===zw.BEFORE?" "+bL:" "+CL;return V_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),zw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(zw||(zw={}));var Rwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute($X,"true"),n.body.appendChild(t),t},Dwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Nwe=function(n){return Promise.all([].slice.call(n.images,0).map(Dwe))},Lwe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Qwe=["all","d","content"],QU=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);Qwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},kwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Owe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Hwe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},Vwe=":before",Kwe=":after",bL="___html2canvas___pseudoelement_before",CL="___html2canvas___pseudoelement_after",Ez=`{
    content: "" !important;
    display: none !important;
}`,Gwe=function(n){zwe(n,"."+bL+Vwe+Ez+`
         .`+CL+Kwe+Ez)},zwe=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},jX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),qwe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(OU(e)||Ywe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return rs(this,void 0,void 0,function(){var t,i,r,s,a=this;return Gr(this,function(o){switch(o.label){case 0:return t=jX.isSameOrigin(e),i=!kU(e)&&this._options.useCORS===!0&&xr.SUPPORT_CORS_IMAGES&&!t,r=!kU(e)&&!t&&!OU(e)&&typeof this._options.proxy=="string"&&xr.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!kU(e)&&!OU(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(Xwe(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=xr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),$we=/^data:image\/svg\+xml/i,jwe=/^data:image\/.*;base64,/i,Wwe=/^data:image\/.*/i,Ywe=function(n){return xr.SUPPORT_SVG_DRAWING||!Jwe(n)},kU=function(n){return Wwe.test(n)},Xwe=function(n){return jwe.test(n)},OU=function(n){return n.substr(0,4)==="blob"},Jwe=function(n){return n.substr(-3).toLowerCase()==="svg"||$we.test(n)},De=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Ig=function(n,e,t){return new De(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},yx=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=Ig(this.start,this.startControl,e),r=Ig(this.startControl,this.endControl,e),s=Ig(this.endControl,this.end,e),a=Ig(i,r,e),o=Ig(r,s,e),l=Ig(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),io=function(n){return n.type===1},Zwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=Mw(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=Mw(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=Mw(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=Mw(t.borderBottomLeftRadius,i.width,i.height),C=v[0],b=v[1],E=[];E.push((s+l)/i.width),E.push((C+h)/i.width),E.push((a+b)/i.height),E.push((u+g)/i.height);var x=Math.max.apply(Math,E);x>1&&(s/=x,a/=x,l/=x,u/=x,h/=x,g/=x,C/=x,b/=x);var I=i.width-l,T=i.height-g,R=i.width-h,P=i.height-b,D=t.borderTopWidth,Q=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=Un(t.paddingTop,e.bounds.width),V=Un(t.paddingRight,e.bounds.width),q=Un(t.paddingBottom,e.bounds.width),J=Un(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Gn(i.left+k/3,i.top+D/3,s-k/3,a-D/3,Xt.TOP_LEFT):new De(i.left+k/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Gn(i.left+I,i.top+D/3,l-Q/3,u-D/3,Xt.TOP_RIGHT):new De(i.left+i.width-Q/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?Gn(i.left+R,i.top+T,h-Q/3,g-H/3,Xt.BOTTOM_RIGHT):new De(i.left+i.width-Q/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=C>0||b>0?Gn(i.left+k/3,i.top+P,C-k/3,b-H/3,Xt.BOTTOM_LEFT):new De(i.left+k/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Gn(i.left+k*2/3,i.top+D*2/3,s-k*2/3,a-D*2/3,Xt.TOP_LEFT):new De(i.left+k*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Gn(i.left+I,i.top+D*2/3,l-Q*2/3,u-D*2/3,Xt.TOP_RIGHT):new De(i.left+i.width-Q*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?Gn(i.left+R,i.top+T,h-Q*2/3,g-H*2/3,Xt.BOTTOM_RIGHT):new De(i.left+i.width-Q*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||b>0?Gn(i.left+k*2/3,i.top+P,C-k*2/3,b-H*2/3,Xt.BOTTOM_LEFT):new De(i.left+k*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Gn(i.left+k/2,i.top+D/2,s-k/2,a-D/2,Xt.TOP_LEFT):new De(i.left+k/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?Gn(i.left+I,i.top+D/2,l-Q/2,u-D/2,Xt.TOP_RIGHT):new De(i.left+i.width-Q/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?Gn(i.left+R,i.top+T,h-Q/2,g-H/2,Xt.BOTTOM_RIGHT):new De(i.left+i.width-Q/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=C>0||b>0?Gn(i.left+k/2,i.top+P,C-k/2,b-H/2,Xt.BOTTOM_LEFT):new De(i.left+k/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?Gn(i.left,i.top,s,a,Xt.TOP_LEFT):new De(i.left,i.top),this.topRightBorderBox=l>0||u>0?Gn(i.left+I,i.top,l,u,Xt.TOP_RIGHT):new De(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?Gn(i.left+R,i.top+T,h,g,Xt.BOTTOM_RIGHT):new De(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=C>0||b>0?Gn(i.left,i.top+P,C,b,Xt.BOTTOM_LEFT):new De(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?Gn(i.left+k,i.top+D,Math.max(0,s-k),Math.max(0,a-D),Xt.TOP_LEFT):new De(i.left+k,i.top+D),this.topRightPaddingBox=l>0||u>0?Gn(i.left+Math.min(I,i.width-Q),i.top+D,I>i.width+Q?0:Math.max(0,l-Q),Math.max(0,u-D),Xt.TOP_RIGHT):new De(i.left+i.width-Q,i.top+D),this.bottomRightPaddingBox=h>0||g>0?Gn(i.left+Math.min(R,i.width-k),i.top+Math.min(T,i.height-H),Math.max(0,h-Q),Math.max(0,g-H),Xt.BOTTOM_RIGHT):new De(i.left+i.width-Q,i.top+i.height-H),this.bottomLeftPaddingBox=C>0||b>0?Gn(i.left+k,i.top+Math.min(P,i.height-H),Math.max(0,C-k),Math.max(0,b-H),Xt.BOTTOM_LEFT):new De(i.left+k,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?Gn(i.left+k+J,i.top+D+K,Math.max(0,s-(k+J)),Math.max(0,a-(D+K)),Xt.TOP_LEFT):new De(i.left+k+J,i.top+D+K),this.topRightContentBox=l>0||u>0?Gn(i.left+Math.min(I,i.width+k+J),i.top+D+K,I>i.width+k+J?0:l-k+J,u-(D+K),Xt.TOP_RIGHT):new De(i.left+i.width-(Q+V),i.top+D+K),this.bottomRightContentBox=h>0||g>0?Gn(i.left+Math.min(R,i.width-(k+J)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(Q+V)),g-(H+q),Xt.BOTTOM_RIGHT):new De(i.left+i.width-(Q+V),i.top+i.height-(H+q)),this.bottomLeftContentBox=C>0||b>0?Gn(i.left+k+J,i.top+P,Math.max(0,C-(k+J)),b-(H+q),Xt.BOTTOM_LEFT):new De(i.left+k+J,i.top+i.height-(H+q))}return n})(),Xt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Xt||(Xt={}));var Gn=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Xt.TOP_LEFT:return new yx(new De(n,u),new De(n,u-o),new De(l-a,e),new De(l,e));case Xt.TOP_RIGHT:return new yx(new De(n,e),new De(n+a,e),new De(l,u-o),new De(l,u));case Xt.BOTTOM_RIGHT:return new yx(new De(l,e),new De(l,e+o),new De(n+a,u),new De(n,u));case Xt.BOTTOM_LEFT:default:return new yx(new De(l,u),new De(l-a,u),new De(n,e+o),new De(n,e))}},yT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},ebe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},wT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},tbe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),wx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),nbe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),ibe=function(n){return n.type===0},WX=function(n){return n.type===1},rbe=function(n){return n.type===2},Sz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},sbe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},YX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),XX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Zwe(this.container),this.container.styles.opacity<1&&this.effects.push(new nbe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new tbe(i,r,s))}if(this.container.styles.overflowX!==0){var a=yT(this.curves),o=wT(this.curves);Sz(a,o)?this.effects.push(new wx(a,6)):(this.effects.push(new wx(a,2)),this.effects.push(new wx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!WX(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=yT(i.curves),o=wT(i.curves);Sz(a,o)||r.unshift(new wx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return Gi(l.target,e)})},n})(),BL=function(n,e,t,i){n.container.elements.forEach(function(r){var s=Gi(r.flags,4),a=Gi(r.flags,2),o=new XX(r,n);Gi(r.styles.display,2048)&&i.push(o);var l=Gi(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new YX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(C,b){return h>C.element.container.styles.zIndex.order?(g=b,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(C,b){return h>=C.element.container.styles.zIndex.order?(v=b+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);BL(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),BL(o,e,t,l);Gi(r.flags,8)&&JX(r,l)})},JX=function(n,e){for(var t=n instanceof vL?n.start:1,i=n instanceof vL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof DX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=rb(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},abe=function(n){var e=new XX(n,null),t=new YX(e),i=[];return BL(e,t,t,i),JX(e.container,i),t},xz=function(n,e){switch(e){case 0:return ao(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return ao(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return ao(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return ao(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},obe=function(n,e){switch(e){case 0:return ao(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return ao(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return ao(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return ao(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Abe=function(n,e){switch(e){case 0:return ao(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return ao(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return ao(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return ao(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},lbe=function(n,e){switch(e){case 0:return bx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return bx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return bx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return bx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},bx=function(n,e){var t=[];return io(n)?t.push(n.subdivide(.5,!1)):t.push(n),io(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ao=function(n,e,t,i){var r=[];return io(n)?r.push(n.subdivide(.5,!1)):r.push(n),io(t)?r.push(t.subdivide(.5,!0)):r.push(t),io(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),io(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},ZX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},bT=function(n){var e=n.styles,t=n.bounds,i=Un(e.paddingLeft,t.width),r=Un(e.paddingRight,t.width),s=Un(e.paddingTop,t.width),a=Un(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},ube=function(n,e){return n===0?e.bounds:n===2?bT(e):ZX(e)},cbe=function(n,e){return n===0?e.bounds:n===2?bT(e):ZX(e)},HU=function(n,e,t){var i=ube(qg(n.styles.backgroundOrigin,e),n),r=cbe(qg(n.styles.backgroundClip,e),n),s=dbe(qg(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=Mw(qg(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=fbe(qg(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},Fg=function(n){return mn(n)&&n.value===um.AUTO},Cx=function(n){return typeof n=="number"},dbe=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Ri(a)&&o&&Ri(o))return[Un(a,t.width),Un(o,t.height)];var l=Cx(s);if(mn(a)&&(a.value===um.CONTAIN||a.value===um.COVER)){if(Cx(s)){var u=t.width/t.height;return u<s!=(a.value===um.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=Cx(i),h=Cx(r),g=d||h;if(Fg(a)&&(!o||Fg(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,C=h?r:i/s;return[v,C]}var b=d?i:t.width,E=h?r:t.height;return[b,E]}if(l){var x=0,I=0;return Ri(a)?x=Un(a,t.width):Ri(o)&&(I=Un(o,t.height)),Fg(a)?x=I*s:(!o||Fg(o))&&(I=x/s),[x,I]}var T=null,R=null;if(Ri(a)?T=Un(a,t.width):o&&Ri(o)&&(R=Un(o,t.height)),T!==null&&(!o||Fg(o))&&(R=d&&h?T/i*r:t.height),R!==null&&Fg(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},qg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},fbe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new De(Math.round(i.left),Math.round(i.top+a)),new De(Math.round(i.left+i.width),Math.round(i.top+a)),new De(Math.round(i.left+i.width),Math.round(l+i.top+a)),new De(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new De(Math.round(i.left+s),Math.round(i.top)),new De(Math.round(i.left+s+o),Math.round(i.top)),new De(Math.round(i.left+s+o),Math.round(i.height+i.top)),new De(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new De(Math.round(i.left+s),Math.round(i.top+a)),new De(Math.round(i.left+s+o),Math.round(i.top+a)),new De(Math.round(i.left+s+o),Math.round(i.top+a+l)),new De(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new De(Math.round(r.left),Math.round(r.top)),new De(Math.round(r.left+r.width),Math.round(r.top)),new De(Math.round(r.left+r.width),Math.round(r.height+r.top)),new De(Math.round(r.left),Math.round(r.height+r.top))]}},hbe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_z="Hidden Text",pbe=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=hbe,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(_z)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(_z)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),e9=(function(){function n(e,t){this.context=e,this.options=t}return n})(),gbe=1e4,mbe=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new pbe(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),rbe(t)&&(this.ctx.globalAlpha=t.opacity),ibe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),WX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return rs(this,void 0,void 0,function(){var i;return Gr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return rs(this,void 0,void 0,function(){return Gr(this,function(i){switch(i.label){case 0:if(Gi(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=nk(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=Cbe(t.fontFamily).join(", "),s=rE(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return rs(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return Gr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(C){h.forEach(function(b){switch(b){case 0:g.ctx.fillStyle=Xi(i.color),g.renderTextWithLetterSpacing(C,i.letterSpacing,u);var E=i.textShadow;E.length&&C.text.trim().length&&(E.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Xi(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(C,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Xi(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+u),C.bounds.width,1);break;case 2:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:g.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+d),C.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&C.text.trim().length&&(g.ctx.strokeStyle=Xi(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=bT(t),a=wT(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return rs(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,C,P,b,E,x,I,T,R,P;return Gr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof UX))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof PX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof RX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof QX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof ik&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===pT?i.checked&&(this.ctx.save(),this.path([new De(i.bounds.left+h*.39363,i.bounds.top+h*.79),new De(i.bounds.left+h*.16,i.bounds.top+h*.5549),new De(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new De(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new De(i.bounds.left+h*.72983,i.bounds.top+h*.23),new De(i.bounds.left+h*.84,i.bounds.top+h*.34085),new De(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Xi(hz),this.ctx.fill(),this.ctx.restore()):i.type===gT&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xi(hz),this.ctx.fill(),this.ctx.restore())),vbe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],C=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Xi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wbe(i.styles.textAlign),P=bT(i),b=0,i.styles.textAlign){case 1:b+=P.width/2;break;case 2:b+=P.width;break}E=P.add(b,0,0,-P.height/2+1),this.ctx.save(),this.path([new De(P.left,P.top),new De(P.left+P.width,P.top),new De(P.left+P.width,P.top+P.height),new De(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Gw(i.value,E),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gi(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(x=i.styles.listStyleImage,x.type!==0)return[3,18];I=void 0,T=x.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Xi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Mu(i.bounds.left,i.bounds.top+Un(i.styles.paddingTop,i.bounds.width),i.bounds.width,XG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Gw(t.listValue,P),s.letterSpacing,XG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return rs(this,void 0,void 0,function(){var i,r,x,s,a,x,o,l,x,u,d,x,h,g,x,v,C,x,b,E,x;return Gr(this,function(I){switch(I.label){case 0:if(Gi(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(x=r[i],[4,this.renderStack(x)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,C=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<C.length?(x=C[v],[4,this.renderStack(x)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:b=0,E=t.positiveZIndex,I.label=27;case 27:return b<E.length?(x=E[b],[4,this.renderStack(x)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=io(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),io(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return rs(this,void 0,void 0,function(){var i,r,s,a,o,l;return Gr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,G,$,J,te,H,C,K,G,$,J,te,b,E,x,I,T,R,P,D,Q,H,k,K,V,q,J,te,he,G,$,re,de,Ce,z,X,oe,me,Se;return Gr(this,function(_e){switch(_e.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=_e.sent(),[3,4];case 3:return _e.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=HU(t,i,[h.width,h.height,h.width/h.height]),K=v[0],G=v[1],$=v[2],J=v[3],te=v[4],H=s.ctx.createPattern(s.resizeImage(h,J,te),"repeat"),s.renderRepeat(K,H,G,$)),[3,6];case 5:iye(d)?(C=HU(t,i,[null,null,null]),K=C[0],G=C[1],$=C[2],J=C[3],te=C[4],b=Jve(d.angle,J,te),E=b[0],x=b[1],I=b[2],T=b[3],R=b[4],P=document.createElement("canvas"),P.width=J,P.height=te,D=P.getContext("2d"),Q=D.createLinearGradient(x,T,I,R),WG(d.stops,E).forEach(function(Be){return Q.addColorStop(Be.stop,Xi(Be.color))}),D.fillStyle=Q,D.fillRect(0,0,J,te),J>0&&te>0&&(H=s.ctx.createPattern(P,"repeat"),s.renderRepeat(K,H,G,$))):rye(d)&&(k=HU(t,i,[null,null,null]),K=k[0],V=k[1],q=k[2],J=k[3],te=k[4],he=d.position.length===0?[ZQ]:d.position,G=Un(he[0],J),$=Un(he[he.length-1],te),re=Zve(d,G,$,J,te),de=re[0],Ce=re[1],de>0&&Ce>0&&(z=s.ctx.createRadialGradient(V+G,q+$,0,V+G,q+$,de),WG(d.stops,de*2).forEach(function(Be){return z.addColorStop(Be.stop,Xi(Be.color))}),s.path(K),s.ctx.fillStyle=z,de!==Ce?(X=t.bounds.left+.5*t.bounds.width,oe=t.bounds.top+.5*t.bounds.height,me=Ce/de,Se=1/me,s.ctx.save(),s.ctx.translate(X,oe),s.ctx.transform(1,0,0,me,0,0),s.ctx.translate(-X,-oe),s.ctx.fillRect(V,Se*(q-oe)+oe,J,te*Se),s.ctx.restore()):s.ctx.fill())),_e.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return rs(this,void 0,void 0,function(){return Gr(this,function(s){return this.path(xz(r,i)),this.ctx.fillStyle=Xi(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return rs(this,void 0,void 0,function(){var a,o;return Gr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=obe(s,r),this.path(a),this.ctx.fillStyle=Xi(t),this.ctx.fill(),o=Abe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return rs(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return Gr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Xd(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=ybe(qg(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Xd(i.backgroundColor)||(this.ctx.fillStyle=Xi(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var C=yT(t.curves),b=v.inset?0:gbe,E=sbe(C,-b+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(C),h.ctx.clip(),h.mask(E)):(h.mask(C),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+b,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Xi(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Xi(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Xd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return rs(this,void 0,void 0,function(){var o,l,u,d,h,g,v,C,b,E,x,I,T,R,P,D,P,D;return Gr(this,function(Q){return this.ctx.save(),o=lbe(s,r),l=xz(s,r),a===2&&(this.path(l),this.ctx.clip()),io(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),io(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),C=i<3?i*3:i*2,b=i<3?i*2:i,a===3&&(C=i,b=i),E=!0,v<=C*2?E=!1:v<=C*2+b?(x=v/(2*C+b),C*=x,b*=x):(I=Math.floor((v+b)/(C+b)),T=(v-I*C)/(I-1),R=(v-(I+1)*C)/I,b=R<=0||Math.abs(b-T)<Math.abs(b-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,C+b]):this.ctx.setLineDash([C,b])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Xi(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(io(l[0])&&(P=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new De(P.end.x,P.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke()),io(l[1])&&(P=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new De(P.end.x,P.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return rs(this,void 0,void 0,function(){var i;return Gr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=abe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(e9),vbe=function(n){return n instanceof LX||n instanceof NX?!0:n instanceof ik&&n.type!==gT&&n.type!==pT},ybe=function(n,e){switch(n){case 0:return yT(e);case 2:return ebe(e);case 1:default:return wT(e)}},wbe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},bbe=["-apple-system","system-ui"],Cbe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return bbe.indexOf(e)===-1}):n},Bbe=(function(n){Yo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return rs(this,void 0,void 0,function(){var i,r;return Gr(this,function(s){switch(s.label){case 0:return i=mL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Ebe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(e9),Ebe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Sbe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ex([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ex([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ex([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ex([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),xbe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new Sbe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new qwe(this,e)}return n.instanceCount=1,n})(),_be=function(n,e){return e===void 0&&(e={}),Tbe(n,e)};typeof window<"u"&&jX.setContext(window);var Tbe=function(n,e){return rs(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,C,b,E,x,I,T,R,P,Q,D,Q,H,k,K,V,q,J,te,he,G,$,re,de,Ce,z,X,oe,me;return Gr(this,function(Se){switch(Se.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=nL({logging:(V=e.logging)!==null&&V!==void 0?V:!0,cache:e.cache},r),a={windowWidth:(q=e.windowWidth)!==null&&q!==void 0?q:i.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:i.innerHeight,scrollX:(te=e.scrollX)!==null&&te!==void 0?te:i.pageXOffset,scrollY:(he=e.scrollY)!==null&&he!==void 0?he:i.pageYOffset},o=new Mu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new xbe(s,o),u=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new Bz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=Se.sent(),C=rk(g)||Iwe(g)?sme(g.ownerDocument):$1(l,g),b=C.width,E=C.height,x=C.left,I=C.top,T=Ibe(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(de=(re=e.scale)!==null&&re!==void 0?re:i.devicePixelRatio)!==null&&de!==void 0?de:1,x:((Ce=e.x)!==null&&Ce!==void 0?Ce:0)+x,y:((z=e.y)!==null&&z!==void 0?z:0)+I,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(b),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),Q=new Bbe(l,R),[4,Q.render(g)]):[3,3];case 2:return P=Se.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+I+" with size "+b+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=OX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=Eu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),Q=new mbe(l,R),[4,Q.render(D)];case 4:P=Se.sent(),Se.label=5;case 5:return(!((me=e.removeContainer)!==null&&me!==void 0)||me)&&(Bz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,P]}})})},Ibe=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?Vw(n,getComputedStyle(i.documentElement).backgroundColor):Eu.TRANSPARENT,s=i.body?Vw(n,getComputedStyle(i.body).backgroundColor):Eu.TRANSPARENT,a=typeof t=="string"?Vw(n,t):t===null?Eu.TRANSPARENT:4294967295;return e===i.documentElement?Xd(r)?Xd(s)?a:s:r:a};const Fbe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:C,showAnnotations:b,triggerSmartExplain:E,isCaptureMode:x,setCaptureMode:I,setCapturedImage:T}=lf(),R=n||t,P=e==="main",D=F.useRef(null),Q=F.useRef(null),H=F.useRef(0),[k,K]=F.useState({text:"",top:0,left:0,show:!1}),[V,q]=F.useState({show:!1,text:""}),[J,te]=F.useState(!1),[he,G]=F.useState([]),[$,re]=F.useState(null),[de,Ce]=F.useState(null);F.useEffect(()=>{if(!P)return;const xe=Te=>{Te.key==="Escape"&&x&&(I(!1),re(null),Ce(null))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[x,I,P]);const z=F.useMemo(()=>{let xe=R.content;return b&&[...v.filter(be=>be.chapterId===R.id)].sort((be,We)=>We.text.length-be.text.length).forEach(be=>{const We=be.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Ye=new RegExp(We,"g"),Qt=`<mark id="hl-${be.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${be.note||"Highlight"}">${be.text}</mark>`;xe=xe.replace(Ye,Qt)}),xe},[R.content,R.id,v,b]);F.useEffect(()=>{if(C&&b){const xe=document.getElementById(`hl-${C}`);xe&&document.body.contains(xe)&&(xe.scrollIntoView({behavior:"smooth",block:"center"}),xe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{xe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[C,z,b]),F.useEffect(()=>{const xe=Te=>{const le=Te.target;!le.closest(`#selection-menu-${e}`)&&!le.closest(`#memo-dialog-${e}`)&&K(be=>({...be,show:!1}))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[e]);const X=()=>{var Te,le;const xe=window.getSelection();if(xe&&xe.toString().trim().length>0){if(!(((Te=D.current)==null?void 0:Te.contains(xe.anchorNode))||((le=D.current)==null?void 0:le.contains(xe.focusNode))))return;const Ye=xe.getRangeAt(0).getBoundingClientRect();let Qt=Ye.top-60,jt=Ye.left+Ye.width/2-100;Qt<0&&(Qt=Ye.bottom+10),jt<10&&(jt=10),jt+200>window.innerWidth&&(jt=window.innerWidth-220),K({text:xe.toString(),top:Qt,left:jt,show:!0})}else K(be=>({...be,show:!1}))},oe=xe=>{P&&x||a==="idle"&&setTimeout(X,10)},me=()=>{var xe;s(k.text,void 0,R.id),K(Te=>({...Te,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Se=()=>{K(xe=>({...xe,show:!1})),q({show:!0,text:""})},_e=()=>{var xe;V.text.trim()&&s(k.text,V.text,R.id),q({show:!1,text:""}),(xe=window.getSelection())==null||xe.removeAllRanges()},Be=()=>{var xe;E(k.text),K(Te=>({...Te,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Je=xe=>{if(!Q.current)return null;const Te=Q.current.getBoundingClientRect();if(Te.width===0||Te.height===0)return null;const le=Q.current.width/Te.width,be=Q.current.height/Te.height;return{x:(xe.clientX-Te.left)*le,y:(xe.clientY-Te.top)*be}},ie=xe=>{var le;if(P&&x||a==="idle")return;xe.target.setPointerCapture(xe.pointerId);const Te=Je(xe);if(Te&&(te(!0),G([Te]),D.current&&a==="pen")){const be=Array.from(D.current.children);let We=0;const Ye=(le=Q.current)==null?void 0:le.getBoundingClientRect(),Qt=xe.clientY-((Ye==null?void 0:Ye.top)||0);for(let jt=0;jt<be.length;jt++){const ti=be[jt];if(Qt>=ti.offsetTop&&Qt<=ti.offsetTop+ti.offsetHeight){We=jt;break}if(Qt<ti.offsetTop){We=Math.max(0,jt-1);break}We=jt}H.current=We}},Pe=xe=>{if(P&&x||!J||a==="idle")return;xe.preventDefault();const Te=Je(xe);if(Te){if(a==="pen")G(le=>[...le,Te]);else if(a==="eraser"){const le=d[R.id]||[],be=D.current?Array.from(D.current.children):[];le.forEach(We=>{let Ye=We.points;if(We.anchorIndex!==void 0&&be[We.anchorIndex]){const jt=be[We.anchorIndex].offsetTop;Ye=We.points.map(ti=>({x:ti.x,y:ti.y+jt}))}Ye.some(jt=>Math.hypot(jt.x-Te.x,jt.y-Te.y)<20)&&g(R.id,We.id)})}}},Ge=xe=>{if(!(P&&x)&&J){if(xe.target.releasePointerCapture(xe.pointerId),te(!1),a==="pen"&&he.length>1){let Te=he,le;if(D.current){le=H.current;const We=D.current.children;if(We[le]){const Ye=We[le].offsetTop;Te=he.map(Qt=>({x:Qt.x,y:Qt.y-Ye}))}}const be={id:Date.now().toString(),points:Te,color:o,width:l,opacity:u,anchorIndex:le};h(R.id,be)}G([])}},ye=xe=>{if(!P||!x)return;const Te={x:xe.clientX,y:xe.clientY};re(Te),Ce(Te)},Nt=xe=>{!P||!x||!$||Ce({x:xe.clientX,y:xe.clientY})},Ze=async xe=>{if(!P||!x||!$||!de){re(null),Ce(null);return}const Te=$,le={x:xe.clientX,y:xe.clientY},be={x:Math.min(Te.x,le.x),y:Math.min(Te.y,le.y),width:Math.abs(le.x-Te.x),height:Math.abs(le.y-Te.y)};if(re(null),Ce(null),!(be.width<10||be.height<10))try{const We=await _be(document.body,{x:be.x+window.scrollX,y:be.y+window.scrollY,width:be.width,height:be.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Ye=>Ye.classList.contains("capture-overlay-ui")});T(We.toDataURL())}catch(We){console.error(We)}finally{I(!1)}};F.useEffect(()=>{const xe=Q.current;if(!xe||!D.current)return;const Te=()=>{if(!xe||!D.current)return;const be=window.devicePixelRatio||1;xe.width=D.current.offsetWidth*be,xe.height=D.current.offsetHeight*be;const We=xe.getContext("2d");We&&We.scale(be,be)};Te();const le=new ResizeObserver(Te);return le.observe(D.current),()=>le.disconnect()},[R.id,r]),F.useEffect(()=>{const xe=Q.current;if(!xe||!D.current)return;const Te=xe.getContext("2d");if(!Te||(Te.save(),Te.setTransform(1,0,0,1,0,0),Te.clearRect(0,0,xe.width,xe.height),Te.restore(),!b&&!J))return;const le=(Ye,Qt,jt,ti)=>{if(!(Ye.length<2)){Te.beginPath(),Te.lineWidth=jt,Te.strokeStyle=Qt,Te.lineCap="round",Te.lineJoin="round",Te.globalAlpha=ti,Te.moveTo(Ye[0].x,Ye[0].y);for(let Yr=1;Yr<Ye.length-1;Yr++){const Rr={x:(Ye[Yr].x+Ye[Yr+1].x)/2,y:(Ye[Yr].y+Ye[Yr+1].y)/2};Te.quadraticCurveTo(Ye[Yr].x,Ye[Yr].y,Rr.x,Rr.y)}Te.lineTo(Ye[Ye.length-1].x,Ye[Ye.length-1].y),Te.stroke(),Te.globalAlpha=1}},be=Array.from(D.current.children);(d[R.id]||[]).forEach(Ye=>{let Qt=Ye.points;if(Ye.anchorIndex!==void 0&&be[Ye.anchorIndex]){const jt=be[Ye.anchorIndex].offsetTop;Qt=Ye.points.map(ti=>({x:ti.x,y:ti.y+jt}))}le(Qt,Ye.color,Ye.width||3,Ye.opacity!==void 0?Ye.opacity:1)}),J&&he.length>1&&a==="pen"&&le(he,o,l,u)},[d,R.id,J,he,o,l,u,a,b]);const Zt=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},Lt=P&&x&&$&&de?{position:"fixed",left:Math.min($.x,de.x),top:Math.min($.y,de.y),width:Math.abs(de.x-$.x),height:Math.abs(de.y-$.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},On={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},ut=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,ei=e==="main"&&r==="double",fs=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${ei?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",vn=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Zt()} ${ei?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,hs=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return L.jsxs("div",{className:hs,onPointerUp:oe,children:[P&&x&&L.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:ye,onMouseMove:Nt,onMouseUp:Ze,children:!$&&L.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),P&&x&&$&&de&&L.jsx("div",{style:Lt,className:"capture-overlay-ui"}),L.jsxs("div",{className:fs,children:[L.jsx("div",{ref:D,className:vn,dangerouslySetInnerHTML:{__html:z},onContextMenu:xe=>xe.preventDefault()}),L.jsx("canvas",{ref:Q,className:ut,style:On,onPointerDown:ie,onPointerMove:Pe,onPointerUp:Ge,onPointerLeave:Ge})]}),k.show&&!x&&L.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[L.jsxs("button",{onClick:me,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(x_,{size:14,className:"text-yellow-400"})," High"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:Se,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(Nhe,{size:14,className:"text-green-400"})," Memo"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:Be,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(lhe,{size:14,className:"text-blue-400"})," AI"]})]}),V.show&&L.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),L.jsx("textarea",{autoFocus:!0,value:V.text,onChange:xe=>q(Te=>({...Te,text:xe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),L.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[L.jsx("button",{onClick:()=>q({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),L.jsx("button",{onClick:_e,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},G0=({text:n,query:e})=>{if(!e||!e.trim())return L.jsx(L.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return L.jsx("span",{children:r.map((s,a)=>i.test(s)?L.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},t9=({isOpen:n,onClose:e,side:t,title:i,children:r})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),L.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:L.jsxs("div",{className:"h-full",children:[L.jsxs("div",{className:"hidden",children:[i&&L.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:L.jsx(gN,{size:18})})]}),L.jsx("div",{className:"flex-1 h-full",children:r})]})})]}),Mbe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u,goToHighlight:d}=lf(),[h,g]=F.useState("contents"),v=F.useRef(null),C=F.useRef([]);return F.useEffect(()=>{if(h!=="contents")return;const b=C.current[i];if(!b)return;const E=v.current;if(!E){b.scrollIntoView({block:"center",behavior:"smooth"});return}const x=E.getBoundingClientRect(),I=b.getBoundingClientRect();I.top>=x.top&&I.bottom<=x.bottom||b.scrollIntoView({block:"center",behavior:"smooth"})},[i,h]),L.jsx(t9,{isOpen:n,onClose:e,side:"left",title:"Contents",children:L.jsxs("div",{className:"",children:[L.jsxs("div",{className:"chapter_favor_wrap",children:[L.jsxs("button",{onClick:()=>g("contents"),className:`chapter ${h==="contents"?"on":"off"}`,children:[L.jsx(rhe,{size:14})," Chapters"]}),L.jsxs("button",{onClick:()=>g("bookmarks"),className:`favor ${h==="bookmarks"?"on":"off"}`,children:[L.jsx(dN,{size:14})," Favorites"]})]}),L.jsxs("div",{className:"chapter_list",ref:v,children:[h==="contents"&&t.map((b,E)=>L.jsx("button",{ref:x=>{C.current[E]=x},onClick:()=>{r(E),window.innerWidth<768&&e()},className:` ${E===i?"on":"off"}`,children:L.jsxs("div",{className:"chapter_list_inner",children:[L.jsxs("div",{className:"",children:[L.jsx("span",{className:`text_xs ${E===i?"on":"off"}`,children:String(E+1).padStart(2,"0")}),L.jsx("span",{className:"line_clamp_1",children:b.title})]}),s(b.id)&&L.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:L.jsx(jW,{size:10})})]})},b.id)),h==="bookmarks"&&a.map(b=>L.jsxs("div",{className:`bookmark_item_row ${b.page===u?"active":""}`,children:[L.jsxs("button",{onClick:()=>{o(b.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[L.jsx("div",{className:"bookmark_page_badge",children:L.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${b.page}`})}),L.jsx("div",{className:"bookmark_item_text",children:L.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(b.createdAt).toLocaleDateString()]})})]}),L.jsx("button",{onClick:E=>{E.stopPropagation(),l(b.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:L.jsx(pN,{size:14})})]},b.id)),h==="bookmarks"&&a.length===0&&L.jsxs("div",{className:"non_book_mark",children:[L.jsx(dN,{size:24,className:"mx-auto mb-2 text-slate-400"}),L.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),L.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})})},Ube=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:C,chapters:b,aiChatHistory:E,addChatMessage:x,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:P,setCapturedImage:D,referenceDocument:Q,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:V,goToPdfPage:q,pdfSearchHighlight:J,setPdfSearchHighlight:te,goToHighlight:he}=lf(),[G,$]=F.useState(""),[re,de]=F.useState(!1),[Ce,z]=F.useState(null),[X,oe]=F.useState(null),[me,Se]=F.useState(""),[_e,Be]=F.useState(""),Je=F.useRef(null),ie=F.useRef(null);F.useEffect(()=>{Ce&&Je.current&&Je.current.innerHTML!==(Ce.content||"")&&(Je.current.innerHTML=Ce.content||"")},[Ce==null?void 0:Ce.id]);const Pe=()=>Je.current?Je.current.innerHTML:"",Ge=le=>{if(I==="notebook"&&Ce){const be=Pe();z(We=>We?{...We,content:be}:null)}T(le),Be("")},ye=le=>{oe(le.id),Se(le.note||"")},Nt=le=>{r(le,{note:me}),oe(null),Se("")},Ze=t.filter(le=>le.text.toLowerCase().includes(_e.toLowerCase())||le.note&&le.note.toLowerCase().includes(_e.toLowerCase())),Zt=o.filter(le=>le.title.toLowerCase().includes(_e.toLowerCase())||le.content.toLowerCase().includes(_e.toLowerCase()));F.useEffect(()=>{if(P&&Ce){const le=`<div class="capture-img-container"><img src="${P}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,be=(Ce.content||"")+le;z(We=>We?{...We,content:be}:null),Je.current&&(Je.current.innerHTML=be),D(null)}},[P,D]);const Lt=async le=>{if(le.preventDefault(),!G.trim())return;const be=G;x("user",be),$(""),de(!0),a();const We=await M6(be,s.content.substring(0,1e3));x("model",We),de(!1)},On=()=>{if(Ce){const le=Pe();Ce.title&&(Ce.id?u(Ce.id,Ce.title,le):l(Ce.title,le),z(null))}},ut=(le,be=void 0)=>{document.execCommand(le,!1,be),Je.current&&Je.current.focus()},ei=(le,be,We)=>{le.preventDefault(),ut(be,We)},fs=le=>{le.preventDefault();const be=Pe();z(We=>We?{...We,content:be}:null),setTimeout(()=>R(!0),50)},vn=le=>{le.preventDefault();const be=window.getSelection();if(be&&be.rangeCount>0){const Qt=be.getRangeAt(0);Je.current&&Je.current.contains(Qt.commonAncestorContainer)?ie.current=Qt.cloneRange():ie.current=null}const We=parseInt(prompt("Rows:","2")||"0"),Ye=parseInt(prompt("Columns:","2")||"0");if(Je.current&&(Je.current.focus(),ie.current&&(be==null||be.removeAllRanges(),be==null||be.addRange(ie.current)),We>0&&Ye>0)){let Qt='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let jt=0;jt<We;jt++){Qt+="<tr>";for(let ti=0;ti<Ye;ti++)Qt+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Qt+="</tr>"}Qt+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Qt)}},hs=le=>{le.target.files&&le.target.files[0]&&H(le.target.files[0])},xe=()=>{const le=Pe();z(be=>be?{...be,content:le}:null)},Te=()=>{if(!Ce)return;const le=Pe(),be=window.open("","","height=600,width=800");be&&(be.document.write(`<html><head><title>${Ce.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${Ce.title}</h1>${le}</body></html>`),be.document.close(),be.print())};return I==="search"&&V(k),L.jsx(t9,{isOpen:n,onClose:e,side:"right",children:L.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[L.jsxs("div",{className:"right_panel_menu",children:[L.jsx("button",{onClick:()=>Ge("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:L.jsx(dU,{size:14})}),L.jsx("button",{onClick:()=>Ge("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:L.jsx(x_,{size:14})}),L.jsx("button",{onClick:()=>Ge("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:L.jsx(cN,{size:14})}),L.jsx("button",{onClick:()=>Ge("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:L.jsx(GK,{size:14})}),L.jsx("button",{onClick:()=>Ge("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:L.jsx(fU,{size:14})})]}),L.jsxs("div",{className:"text_area",children:[I==="ai"&&L.jsxs("div",{className:"ai",children:[L.jsxs("div",{className:"ai_talk",children:[E.length===0&&L.jsxs("div",{className:"ai_talk_inner",children:[L.jsx("div",{className:"icon",children:L.jsx(dU,{className:"text-blue-500",size:24})}),L.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),E.map((le,be)=>L.jsx("div",{className:`txt ${le.role==="user"?"ai_user_txt":"ai_txt"}`,children:L.jsx("div",{className:` ${le.role==="user"?"on":"off"}`,children:le.text})},be)),re&&L.jsx("div",{className:"flex flex-col items-start",children:L.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:L.jsxs("div",{className:"flex space-x-1",children:[L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),L.jsx("div",{className:"ai_user",children:L.jsxs("form",{onSubmit:Lt,className:"user_form",children:[L.jsx("input",{type:"text",value:G,onChange:le=>$(le.target.value),placeholder:"Ask AI...",className:""}),L.jsx("button",{type:"submit",disabled:!G.trim()||re,className:"enter",children:L.jsx(dU,{size:16})})]})})]}),I==="notes"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Filter highlights...",value:_e,onChange:le=>Be(le.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Ze.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(x_,{size:24,className:"mx-auto mb-2"}),L.jsx("p",{className:"text-sm",children:"No highlights"})]}),Ze.map(le=>L.jsxs("div",{onClick:()=>he(le),className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[L.jsx("span",{children:le.chapterId==="reference-doc"?"Reference PDF":`Chapter ${b.findIndex(be=>be.id===le.chapterId)+1}`}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:be=>{be.stopPropagation(),ye(le)},title:"Edit Note",children:L.jsx(whe,{size:12})}),L.jsx("button",{onClick:be=>{be.stopPropagation(),i(le.id)},title:"Delete",children:L.jsx(pN,{size:12})})]})]}),L.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',L.jsx(G0,{text:le.text,query:_e}),'"']}),X===le.id?L.jsxs("div",{onClick:be=>be.stopPropagation(),className:"mt-2 animate-fade-in",children:[L.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:me,onChange:be=>Se(be.target.value),autoFocus:!0,rows:3}),L.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[L.jsx("button",{onClick:()=>oe(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),L.jsx("button",{onClick:()=>Nt(le.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):le.note?L.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:L.jsx(G0,{text:le.note,query:_e})}):L.jsxs("button",{onClick:be=>{be.stopPropagation(),ye(le)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[L.jsx(hN,{size:10})," Add Note"]})]},le.id))]})]}),I==="notebook"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:Ce?L.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[L.jsx("button",{onClick:()=>z(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),L.jsxs("button",{onClick:On,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[L.jsx(WW,{size:14})," Save"]})]}),L.jsx("div",{className:"px-4 pt-4 pb-2",children:L.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:Ce.title||"",onChange:le=>{const be=Pe();z(We=>We?{...We,title:le.target.value,content:be}:null)}})}),L.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[L.jsx("button",{onMouseDown:le=>ei(le,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(_fe,{size:14})}),L.jsx("button",{onMouseDown:le=>ei(le,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx("span",{className:"italic",children:"I"})}),L.jsx("button",{onMouseDown:le=>ei(le,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(x_,{size:14})}),L.jsx("button",{onMouseDown:vn,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Qhe,{size:14})}),L.jsx("button",{onMouseDown:fs,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:L.jsx(Qfe,{size:14})}),L.jsx("button",{onClick:Te,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(The,{size:14})})]}),L.jsx("div",{ref:Je,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:xe},Ce.id)]}):L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[L.jsx(Khe,{size:14}),L.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:hs})]}),L.jsxs("button",{onClick:()=>z({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[L.jsx(hN,{size:14})," New"]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search notes...",value:_e,onChange:le=>Be(le.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[Zt.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(cN,{size:32,className:"mx-auto text-slate-300 mb-2"}),L.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),Zt.map(le=>L.jsxs("div",{onClick:()=>z(le),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-1",children:[L.jsx("h4",{className:"font-semibold text-sm",children:L.jsx(G0,{text:le.title,query:_e})}),L.jsx("button",{onClick:be=>{be.stopPropagation(),d(le.id)},children:L.jsx(pN,{size:12,"text-slate-300":!0})})]}),L.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:L.jsx(G0,{text:le.content.replace(/<[^>]+>/g," "),query:_e})})]},le.id))]})]})}),I==="reference"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:Q?L.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:L.jsx(Fbe,{customChapter:Q,variant:"side"})}):L.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[L.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:L.jsx(GK,{size:32,className:"text-slate-400"})}),L.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),L.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",L.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",L.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),L.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[L.jsx(fN,{size:16}),L.jsx("span",{children:"Upload PDF"}),L.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:hs})]})]})}),I==="search"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[L.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:le=>{K(le.target.value),te(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),L.jsx(fU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&V(k).length>0?V(k).map(le=>L.jsxs("div",{onClick:()=>{if(le.type==="note"){const be=o.find(We=>`note-${We.id}`===le.id);be&&(z(be),T("notebook"))}else if(le.type==="pdf")le.pageNumber&&(q(le.pageNumber),te({page:le.pageNumber,term:k}));else if(le.type==="highlight"){if(le.chapterId==="reference-doc"){const be=Number(le.pageNumber);Number.isFinite(be)&&be>0?q(be):console.warn("[highlight] pageNumber missing for search result",le.id)}else if(idx!==-1){const be=b.findIndex(We=>We.id===le.chapterId);be!==-1&&C(be)}v(le.id.replace("hl-",""))}else{const be=b.findIndex(We=>We.id===le.chapterId);be!==-1&&C(be)}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${le.type==="chapter"?"bg-blue-100 text-blue-600":le.type==="highlight"?"bg-yellow-100 text-yellow-600":le.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:le.type}),L.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:le.title})]}),L.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:L.jsx(G0,{text:le.contentSnippet,query:k})})]},le.id)):L.jsx("div",{className:"text-center py-10 opacity-50",children:L.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(fU,{size:24,className:"mx-auto mb-2 text-slate-300"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},Pbe=()=>{const[n,e]=F.useState(!0),[t,i]=F.useState(!1),{isToolsOpen:r,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o}=lf(),[l,u]=F.useState(0),[d,h]=F.useState(1),g=F.useRef(),v=F.useCallback(V=>{h(V),o(V)},[o]),C=F.useCallback(V=>{u(V)},[]),b=F.useCallback(V=>{g.current=V,a(V)},[a]),[E,x]=F.useState(300),[I,T]=F.useState(350),[R,P]=F.useState(!1),[D,Q]=F.useState(!1),H=F.useRef(null);F.useEffect(()=>{const V=()=>{const q=window.innerWidth<=1300;i(q),q?(e(!1),s(!0)):(e(!0),s(!0))};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[s]),F.useEffect(()=>{t&&r&&e(!1)},[r,t]),F.useEffect(()=>{const V=J=>{if(!H.current)return;(R||D)&&J.preventDefault();const te=H.current.getBoundingClientRect();if(R){const he=J.clientX-te.left;he>200&&he<500&&x(he)}if(D){const he=te.right-J.clientX;he>280&&he<600&&T(he)}},q=()=>{P(!1),Q(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(R||D)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",V),window.addEventListener("mouseup",q)),()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",q),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[R,D]);const k=()=>{if(t){const V=!n;e(V),V&&s(!1);return}e(!n)};return L.jsxs("div",{children:[L.jsx(YW,{toggleSidebar:k,isSidebarOpen:n}),L.jsxs("div",{ref:H,className:"split_container",children:[L.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${E}px`:"0px"},children:[L.jsx("div",{className:"left_side_inner",children:L.jsx(Mbe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&L.jsx("div",{className:"",onMouseDown:()=>P(!0),children:L.jsx("div",{className:""})})]}),L.jsxs("main",{className:"content_container",children:[L.jsx("div",{className:"cc_top",children:L.jsx(ime,{file:"https://media.githubusercontent.com/media/gh1343/campusbook-viewer-ai/main/public/pdf/test4.pdf",onPageChange:v,onPagesCount:C,registerGoToPage:b})}),L.jsx("div",{className:"cc_bottom",children:L.jsx(rme,{pdfPageCount:l,pdfCurrentPage:d,onPdfGoToPage:V=>{var q;return(q=g.current)==null?void 0:q.call(g,V)}})})]}),L.jsxs("div",{className:`right_panel_wrap ${r?"on":"off"}`,style:{width:r?window.innerWidth<768?"0px":`${I}px`:"0px"},children:[r&&window.innerWidth>=768&&L.jsx("div",{className:"separate",onMouseDown:()=>Q(!0),children:L.jsx("div",{className:""})}),L.jsx("div",{className:"h-full w-full overflow-hidden",children:L.jsx(Ube,{isOpen:r,onClose:()=>s(!1)})})]})]})]})};function n9(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=n9(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function kn(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=n9(n))&&(i&&(i+=" "),i+=e);return i}var Rbe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sk(n){if(typeof n!="string")return!1;var e=Rbe;return e.includes(n)}var Dbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nbe=new Set(Dbe);function i9(n){return typeof n!="string"?!1:Nbe.has(n)}function r9(n){return typeof n=="string"&&n.startsWith("data-")}function nf(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i9(t)||r9(t))&&(e[t]=n[t]);return e}function ak(n){if(n==null)return null;if(F.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return nf(e)}return typeof n=="object"&&!Array.isArray(n)?nf(n):null}function fo(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i9(t)||r9(t)||sk(t))&&(e[t]=n[t]);return e}var Lbe=["children","width","height","viewBox","className","style","title","desc"];function EL(){return EL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EL.apply(null,arguments)}function Qbe(n,e){if(n==null)return{};var t,i,r=kbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function kbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var s9=F.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=Qbe(n,Lbe),h=s||{width:i,height:r,x:0,y:0},g=kn("recharts-surface",a);return F.createElement("svg",EL({},fo(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),F.createElement("title",null,l),F.createElement("desc",null,u),t)}),Obe=["children","className"];function SL(){return SL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SL.apply(null,arguments)}function Hbe(n,e){if(n==null)return{};var t,i,r=Vbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Vbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Uu=F.forwardRef((n,e)=>{var{children:t,className:i}=n,r=Hbe(n,Obe),s=kn("recharts-layer",i);return F.createElement("g",SL({className:s},fo(r),{ref:e}),t)}),Kbe=F.createContext(null);function Mn(n){return function(){return n}}const a9=Math.cos,CT=Math.sin,Xo=Math.sqrt,BT=Math.PI,iI=2*BT,xL=Math.PI,_L=2*xL,Lf=1e-6,Gbe=_L-Lf;function o9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function zbe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return o9;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class qbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o9:zbe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Lf)if(!(Math.abs(h*l-u*d)>Lf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,C=r-o,b=l*l+u*u,E=v*v+C*C,x=Math.sqrt(b),I=Math.sqrt(g),T=s*Math.tan((xL-Math.acos((b+g-E)/(2*x*I)))/2),R=T/I,P=T/x;Math.abs(R-1)>Lf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*C)},${this._x1=e+P*l},${this._y1=t+P*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lf||Math.abs(this._y1-d)>Lf)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%_L+_L),g>Gbe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>Lf&&this._append`A${i},${i},0,${+(g>=xL)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function ok(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new qbe(e)}function Ak(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function A9(n){this._context=n}A9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function rI(n){return new A9(n)}function l9(n){return n[0]}function u9(n){return n[1]}function c9(n,e){var t=Mn(!0),i=null,r=rI,s=null,a=ok(o);n=typeof n=="function"?n:n===void 0?l9:Mn(n),e=typeof e=="function"?e:e===void 0?u9:Mn(e);function o(l){var u,d=(l=Ak(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Mn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Mn(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function Bx(n,e,t){var i=null,r=Mn(!0),s=null,a=rI,o=null,l=ok(u);n=typeof n=="function"?n:n===void 0?l9:Mn(+n),e=typeof e=="function"?e:Mn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?u9:Mn(+t);function u(h){var g,v,C,b=(h=Ak(h)).length,E,x=!1,I,T=new Array(b),R=new Array(b);for(s==null&&(o=a(I=l())),g=0;g<=b;++g){if(!(g<b&&r(E=h[g],g,h))===x)if(x=!x)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=g-1;C>=v;--C)o.point(T[C],R[C]);o.lineEnd(),o.areaEnd()}x&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return c9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:Mn(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Mn(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:Mn(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Mn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Mn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Mn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Mn(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class d9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function $be(n){return new d9(n,!0)}function jbe(n){return new d9(n,!1)}const lk={draw(n,e){const t=Xo(e/BT);n.moveTo(t,0),n.arc(0,0,t,0,iI)}},Wbe={draw(n,e){const t=Xo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},f9=Xo(1/3),Ybe=f9*2,Xbe={draw(n,e){const t=Xo(e/Ybe),i=t*f9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Jbe={draw(n,e){const t=Xo(e),i=-t/2;n.rect(i,i,t,t)}},Zbe=.8908130915292852,h9=CT(BT/10)/CT(7*BT/10),eCe=CT(iI/10)*h9,tCe=-a9(iI/10)*h9,nCe={draw(n,e){const t=Xo(e*Zbe),i=eCe*t,r=tCe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=iI*s/5,o=a9(a),l=CT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},VU=Xo(3),iCe={draw(n,e){const t=-Xo(e/(VU*3));n.moveTo(0,t*2),n.lineTo(-VU*t,-t),n.lineTo(VU*t,-t),n.closePath()}},La=-.5,Qa=Xo(3)/2,TL=1/Xo(12),rCe=(TL/2+1)*3,sCe={draw(n,e){const t=Xo(e/rCe),i=t/2,r=t*TL,s=i,a=t*TL+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(La*i-Qa*r,Qa*i+La*r),n.lineTo(La*s-Qa*a,Qa*s+La*a),n.lineTo(La*o-Qa*l,Qa*o+La*l),n.lineTo(La*i+Qa*r,La*r-Qa*i),n.lineTo(La*s+Qa*a,La*a-Qa*s),n.lineTo(La*o+Qa*l,La*l-Qa*o),n.closePath()}};function aCe(n,e){let t=null,i=ok(r);n=typeof n=="function"?n:Mn(n||lk),e=typeof e=="function"?e:Mn(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:Mn(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:Mn(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function ET(){}function ST(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function p9(n){this._context=n}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ST(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function oCe(n){return new p9(n)}function g9(n){this._context=n}g9.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function ACe(n){return new g9(n)}function m9(n){this._context=n}m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function lCe(n){return new m9(n)}function v9(n){this._context=n}v9.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function uCe(n){return new v9(n)}function Tz(n){return n<0?-1:1}function Iz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(Tz(s)+Tz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Fz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function KU(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function xT(n){this._context=n}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KU(this,this._t0,Fz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,KU(this,Fz(this,t=Iz(this,n,e)),t);break;default:KU(this,this._t0,t=Iz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function y9(n){this._context=new w9(n)}(y9.prototype=Object.create(xT.prototype)).point=function(n,e){xT.prototype.point.call(this,e,n)};function w9(n){this._context=n}w9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function cCe(n){return new xT(n)}function dCe(n){return new y9(n)}function b9(n){this._context=n}b9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Mz(n),r=Mz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Mz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function fCe(n){return new b9(n)}function sI(n,e){this._context=n,this._t=e}sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function hCe(n){return new sI(n,.5)}function pCe(n){return new sI(n,0)}function gCe(n){return new sI(n,1)}function fy(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function IL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function mCe(n,e){return n[e]}function vCe(n){const e=[];return e.key=n,e}function yCe(){var n=Mn([]),e=IL,t=fy,i=mCe;function r(s){var a=Array.from(n.apply(this,arguments),vCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=Ak(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Mn(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:Mn(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?IL:typeof s=="function"?s:Mn(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??fy,r):t},r}function wCe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}fy(n,e)}}function bCe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}fy(n,e)}}function CCe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,C=0;C<o;++C){var b=n[e[C]],E=b[i][1]||0,x=b[i-1][1]||0;v+=E-x}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,fy(n,e)}}var GU={},zU={},Uz;function BCe(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(zU)),zU}var qU={},Pz;function C9(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(qU)),qU}var $U={},Rz;function uk(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})($U)),$U}var jU={},WU={},Dz;function ECe(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(WU)),WU}var Nz;function ck(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ECe(),t=uk();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})(jU)),jU}var Lz;function dk(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BCe(),t=C9(),i=uk(),r=ck();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(GU)),GU}var YU,Qz;function SCe(){return Qz||(Qz=1,YU=dk().get),YU}var xCe=SCe();const hy=qA(xCe);var ya=n=>n===0?0:n>0?1:-1,HA=n=>typeof n=="number"&&n!=+n,Pu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,st=n=>(typeof n=="number"||n instanceof Number)&&!HA(n),VA=n=>st(n)||typeof n=="string",_Ce=0,sb=n=>{var e=++_Ce;return"".concat(n||"").concat(e)},zo=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(e)&&typeof e!="string")return i;var s;if(Pu(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return HA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},B9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function Tr(n,e,t){return st(n)&&st(e)?n+t*(e-n):e}function TCe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):hy(i,e))===t)}var lr=n=>n===null||typeof n>"u",sE=n=>lr(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function ICe(n){return n!=null}function aE(){}var FCe=["type","size","sizeType"];function FL(){return FL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FL.apply(null,arguments)}function kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Oz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(t),!0).forEach(function(i){MCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MCe(n,e,t){return(e=UCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UCe(n){var e=PCe(n,"string");return typeof e=="symbol"?e:e+""}function PCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RCe(n,e){if(n==null)return{};var t,i,r=DCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function DCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var E9={symbolCircle:lk,symbolCross:Wbe,symbolDiamond:Xbe,symbolSquare:Jbe,symbolStar:nCe,symbolTriangle:iCe,symbolWye:sCe},NCe=Math.PI/180,LCe=n=>{var e="symbol".concat(sE(n));return E9[e]||lk},QCe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*NCe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},kCe=(n,e)=>{E9["symbol".concat(sE(n))]=e},S9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=RCe(n,FCe),s=Oz(Oz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=LCe(a),v=aCe().type(g).size(QCe(t,i,a)),C=v();if(C!==null)return C},{className:l,cx:u,cy:d}=s,h=fo(s);return st(u)&&st(d)&&st(t)?F.createElement("path",FL({},h,{className:kn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};S9.registerSymbol=kCe;var x9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,OCe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(F.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{sk(r)&&(i[r]=(s=>t[r](t,s)))}),i},HCe=(n,e,t)=>i=>(n(e,t,i),null),fk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];sk(r)&&typeof s=="function"&&(i||(i={}),i[r]=HCe(s,e,t))}),i};function Hz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(t),!0).forEach(function(i){KCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KCe(n,e,t){return(e=GCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GCe(n){var e=zCe(n,"string");return typeof e=="symbol"?e:e+""}function zCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function go(n,e){var t=VCe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var XU={},JU={},Vz;function qCe(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(JU)),JU}var ZU={},Kz;function _9(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(ZU)),ZU}var eP={},tP={},nP={},Gz;function $Ce(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(nP)),nP}var zz;function hk(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$Ce();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(tP)),tP}var iP={},qz;function jCe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(iP)),iP}var $z;function WCe(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hk(),t=jCe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(eP)),eP}var rP={},sP={},jz;function YCe(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dk();function t(i){return function(r){return e.get(r,i)}}n.property=t})(sP)),sP}var aP={},oP={},AP={},lP={},Wz;function T9(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(lP)),lP}var uP={},Yz;function I9(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(uP)),uP}var cP={},Xz;function F9(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(cP)),cP}var Jz;function XCe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=T9(),t=I9(),i=F9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(C,b,E,x,I,T){const R=g(C,b,E,x,I,T);return R!==void 0?!!R:s(C,b,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const C=Object.keys(h);if(d==null)return C.length===0;if(C.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let b=0;b<C.length;b++){const E=C[b];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[C,b]of h.entries()){const E=d.get(C);if(g(E,b,C,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const C=new Set;for(let b=0;b<h.length;b++){const E=h[b];let x=!1;for(let I=0;I<d.length;I++){if(C.has(I))continue;const T=d[I];let R=!1;if(g(T,E,b,d,h,v)&&(R=!0),R){C.add(I),x=!0;break}}if(!x)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(AP)),AP}var Zz;function M9(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=XCe();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(oP)),oP}var dP={},fP={},hP={},e5;function JCe(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(hP)),hP}var pP={},t5;function U9(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(pP)),pP}var gP={},n5;function P9(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",C="[object Error]",b="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",Q="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=b,n.dateTag=o,n.errorTag=C,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=Q,n.int8ArrayTag=P,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(gP)),gP}var mP={},i5;function ZCe(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(mP)),mP}var r5;function R9(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=JCe(),t=U9(),i=P9(),r=I9(),s=ZCe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,C=void 0){const b=C==null?void 0:C(d,h,g,v);if(b!==void 0)return b;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,C);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[x,I]of d)E.set(x,o(I,x,g,v,C));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const x of d)E.add(o(x,void 0,g,v,C));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,C);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,C),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,C),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,C),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,C),E}return d}function l(d,h,g=d,v,C){const b=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<b.length;E++){const x=b[E],I=Object.getOwnPropertyDescriptor(d,x);(I==null||I.writable)&&(d[x]=o(h[x],x,g,v,C))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(fP)),fP}var s5;function eBe(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=R9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(dP)),dP}var a5;function tBe(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9(),t=eBe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(aP)),aP}var vP={},yP={},wP={},o5;function nBe(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=R9(),t=P9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(wP)),wP}var A5;function iBe(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nBe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(yP)),yP}var bP={},CP={},l5;function D9(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(CP)),CP}var BP={},u5;function rBe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(BP)),BP}var c5;function sBe(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=C9(),t=D9(),i=rBe(),r=ck();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(bP)),bP}var d5;function aBe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9(),t=uk(),i=iBe(),r=dk(),s=sBe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(vP)),vP}var f5;function oBe(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9(),t=YCe(),i=tBe(),r=aBe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(rP)),rP}var h5;function ABe(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qCe(),t=_9(),i=WCe(),r=oBe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(XU)),XU}var EP,p5;function lBe(){return p5||(p5=1,EP=ABe().uniqBy),EP}var uBe=lBe();const g5=qA(uBe);function cBe(n,e,t){return e===!0?g5(n,t):typeof e=="function"?g5(n,e):n}var SP={exports:{}},xP={},_P={exports:{}},TP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function dBe(){if(m5)return TP;m5=1;var n=xy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),C=i({inst:{value:v,getSnapshot:g}}),b=C[0].inst,E=C[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&E({inst:b})},[h,v,g]),r(function(){return l(b)&&E({inst:b}),h(function(){l(b)&&E({inst:b})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return TP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,TP}var v5;function fBe(){return v5||(v5=1,_P.exports=dBe()),_P.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function hBe(){if(y5)return xP;y5=1;var n=xy(),e=fBe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return xP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var C=s(null);if(C.current===null){var b={hasValue:!1,value:null};C.current=b}else b=C.current;C=o(function(){function x(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&b.hasValue){var Q=b.value;if(v(Q,D))return R=Q}return R=D}if(Q=R,i(T,D))return Q;var H=g(D);return v!==void 0&&v(Q,H)?(T=D,Q):(T=D,R=H)}var I=!1,T,R,P=h===void 0?null:h;return[function(){return x(d())},P===null?void 0:function(){return x(P())}]},[d,h,g,v]);var E=r(u,C[0],C[1]);return a(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},xP}var w5;function pBe(){return w5||(w5=1,SP.exports=hBe()),SP.exports}var gBe=pBe(),pk=F.createContext(null),mBe=n=>n,Bi=()=>{var n=F.useContext(pk);return n?n.store.dispatch:mBe},K_=()=>{},vBe=()=>K_,yBe=(n,e)=>n===e;function nt(n){var e=F.useContext(pk);return gBe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:vBe,e?e.store.getState:K_,e?e.store.getState:K_,e?n:K_,yBe)}function wBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function bBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function CBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var b5=n=>Array.isArray(n)?n:[n];function BBe(n){const e=Array.isArray(n[0])?n[0]:n;return CBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function EBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var SBe=class{constructor(n){this.value=n}deref(){return this.value}},xBe=typeof WeakRef<"u"?WeakRef:SBe,_Be=0,C5=1;function Ex(){return{s:_Be,v:void 0,o:null,p:null}}function N9(n,e={}){let t=Ex();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const C=arguments[g];if(typeof C=="function"||typeof C=="object"&&C!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const E=b.get(C);E===void 0?(o=Ex(),b.set(C,o)):o=E}else{let b=o.p;b===null&&(o.p=b=new Map);const E=b.get(C);E===void 0?(o=Ex(),b.set(C,o)):o=E}}const u=o;let d;if(o.s===C5)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new xBe(d):d}return u.s=C5,u.v=d,d}return a.clearCache=()=>{t=Ex(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function TBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),wBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=N9,argsMemoizeOptions:C=[]}=d,b=b5(g),E=b5(C),x=BBe(r),I=h(function(){return s++,u.apply(null,arguments)},...b),T=v(function(){a++;const P=EBe(x,arguments);return o=I.apply(null,P),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var Ae=TBe(N9),IBe=Object.assign((n,e=Ae)=>{bBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>IBe}),IP={},FP={},MP={},B5;function FBe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(MP)),MP}var UP={},PP={},E5;function L9(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(PP)),PP}var S5;function MBe(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(UP)),UP}var x5;function UBe(){return x5||(x5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=FBe(),t=MBe(),i=ck();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,C)=>{let b=v;for(let E=0;E<C.length&&b!=null;++E)b=b[C[E]];return b},d=(v,C)=>C==null||v==null?C:typeof v=="object"&&"key"in v?Object.hasOwn(C,v.key)?C[v.key]:u(C,v.path):typeof v=="function"?v(C):Array.isArray(v)?u(C,v):typeof C=="object"?C[v]:C,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(C=>d(C,v))})).slice().sort((v,C)=>{for(let b=0;b<h.length;b++){const E=e.compareValues(v.criteria[b],C.criteria[b],o[b]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(FP)),FP}var RP={},_5;function PBe(){return _5||(_5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(RP)),RP}var DP={},T5;function Q9(){return T5||(T5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9(),t=hk(),i=T9(),r=F9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(DP)),DP}var I5;function RBe(){return I5||(I5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=UBe(),t=PBe(),i=Q9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(IP)),IP}var NP,F5;function DBe(){return F5||(F5=1,NP=RBe().sortBy),NP}var NBe=DBe();const aI=qA(NBe);var k9=n=>n.legend.settings,LBe=n=>n.legend.size,QBe=n=>n.legend.payload;Ae([QBe,k9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?aI(i,t):i});var Sx=1;function kBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=F.useState({height:0,left:0,top:0,width:0}),i=F.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Sx||Math.abs(a.left-e.left)>Sx||Math.abs(a.top-e.top)>Sx||Math.abs(a.width-e.width)>Sx)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function Er(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var OBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",M5=OBe,LP=()=>Math.random().toString(36).substring(7).split("").join("."),HBe={INIT:`@@redux/INIT${LP()}`,REPLACE:`@@redux/REPLACE${LP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${LP()}`},_T=HBe;function gk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function O9(n,e,t){if(typeof n!="function")throw new Error(Er(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Er(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Er(1));return t(O9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,x)=>{a.set(x,E)}))}function d(){if(l)throw new Error(Er(3));return r}function h(E){if(typeof E!="function")throw new Error(Er(4));if(l)throw new Error(Er(5));let x=!0;u();const I=o++;return a.set(I,E),function(){if(x){if(l)throw new Error(Er(6));x=!1,u(),a.delete(I),s=null}}}function g(E){if(!gk(E))throw new Error(Er(7));if(typeof E.type>"u")throw new Error(Er(8));if(typeof E.type!="string")throw new Error(Er(17));if(l)throw new Error(Er(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(Er(10));i=E,g({type:_T.REPLACE})}function C(){const E=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Er(11));function I(){const R=x;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[M5](){return this}}}return g({type:_T.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[M5]:C}}function VBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:_T.INIT})>"u")throw new Error(Er(12));if(typeof t(void 0,{type:_T.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Er(13))})}function H9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{VBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],C=g(v,o);if(typeof C>"u")throw o&&o.type,new Error(Er(14));u[h]=C,l=l||C!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function TT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function KBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(Er(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=TT(...o)(r.dispatch),{...r,dispatch:s}}}function V9(n){return gk(n)&&"type"in n&&typeof n.type=="string"}var K9=Symbol.for("immer-nothing"),U5=Symbol.for("immer-draftable"),cs=Symbol.for("immer-state");function Oo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var wa=Object,py=wa.getPrototypeOf,IT="constructor",oI="prototype",ML="configurable",FT="enumerable",G_="writable",ab="value",Ru=n=>!!n&&!!n[cs];function qo(n){var e;return n?G9(n)||AI(n)||!!n[U5]||!!((e=n[IT])!=null&&e[U5])||lI(n)||uI(n):!1}var GBe=wa[oI][IT].toString(),P5=new WeakMap;function G9(n){if(!n||!mk(n))return!1;const e=py(n);if(e===null||e===wa[oI])return!0;const t=wa.hasOwnProperty.call(e,IT)&&e[IT];if(t===Object)return!0;if(!$g(t))return!1;let i=P5.get(t);return i===void 0&&(i=Function.toString.call(t),P5.set(t,i)),i===GBe}function oE(n,e,t=!0){AE(n)===0?(t?Reflect.ownKeys(n):wa.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function AE(n){const e=n[cs];return e?e.type_:AI(n)?1:lI(n)?2:uI(n)?3:0}var R5=(n,e,t=AE(n))=>t===2?n.has(e):wa[oI].hasOwnProperty.call(n,e),UL=(n,e,t=AE(n))=>t===2?n.get(e):n[e],MT=(n,e,t,i=AE(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function zBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var AI=Array.isArray,lI=n=>n instanceof Map,uI=n=>n instanceof Set,mk=n=>typeof n=="object",$g=n=>typeof n=="function",QP=n=>typeof n=="boolean",Bl=n=>n.copy_||n.base_,vk=n=>n.modified_?n.copy_:n.base_;function PL(n,e){if(lI(n))return new Map(n);if(uI(n))return new Set(n);if(AI(n))return Array[oI].slice.call(n);const t=G9(n);if(e===!0||e==="class_only"&&!t){const i=wa.getOwnPropertyDescriptors(n);delete i[cs];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[G_]===!1&&(o[G_]=!0,o[ML]=!0),(o.get||o.set)&&(i[a]={[ML]:!0,[G_]:!0,[FT]:o[FT],[ab]:n[a]})}return wa.create(py(n),i)}else{const i=py(n);if(i!==null&&t)return{...n};const r=wa.create(i);return wa.assign(r,n)}}function yk(n,e=!1){return cI(n)||Ru(n)||!qo(n)||(AE(n)>1&&wa.defineProperties(n,{set:xx,add:xx,clear:xx,delete:xx}),wa.freeze(n),e&&oE(n,(t,i)=>{yk(i,!0)},!1)),n}function qBe(){Oo(2)}var xx={[ab]:qBe};function cI(n){return n===null||!mk(n)?!0:wa.isFrozen(n)}var UT="MapSet",RL="Patches",z9={};function gy(n){const e=z9[n];return e||Oo(0,n),e}var $Be=n=>!!z9[n],ob,q9=()=>ob,jBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$Be(UT)?gy(UT):void 0});function D5(n,e){e&&(n.patchPlugin_=gy(RL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function DL(n){NL(n),n.drafts_.forEach(WBe),n.drafts_=null}function NL(n){n===ob&&(ob=n.parent_)}var N5=n=>ob=jBe(ob,n);function WBe(n){const e=n[cs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function L5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[cs].modified_&&(DL(e),Oo(4)),qo(n)&&(n=Q5(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[cs].base_,n,e)}else n=Q5(e,t);return YBe(e,n,!0),DL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==K9?n:void 0}function Q5(n,e){if(cI(e))return e;const t=e[cs];if(!t)return wk(e,n.handledSet_,n);if(!dI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);W9(t,n)}return t.copy_}function YBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&yk(e,t)}function $9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var dI=(n,e)=>n.scope_===e,XBe=[];function j9(n,e,t,i){const r=Bl(n),s=n.type_;if(i!==void 0&&UL(r,i,s)===e){MT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;oE(r,(l,u)=>{if(Ru(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??XBe;for(const o of a)MT(r,o,t,s)}function JBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!dI(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=vk(s);j9(n,s.draft_??s,a,t),W9(s,r)})}function W9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}$9(n)}}function ZBe(n,e,t){const{scope_:i}=n;if(Ru(t)){const r=t[cs];dI(r,i)&&r.callbacks_.push(function(){z_(n);const a=vk(r);j9(n,t,a,e)})}else qo(t)&&n.callbacks_.push(function(){const s=Bl(n);UL(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&wk(UL(n.copy_,e,n.type_),i.handledSet_,i)})}function wk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Ru(n)||e.has(n)||!qo(n)||cI(n)||(e.add(n),oE(n,(i,r)=>{if(Ru(r)){const s=r[cs];if(dI(s,t)){const a=vk(s);MT(n,i,a,n.type_),$9(s)}}else qo(r)&&wk(r,e,t)})),n}function eEe(n,e){const t=AI(n),i={type_:t?1:0,scope_:e?e.scope_:q9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=bk;t&&(r=[i],s=Ab);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var bk={get(n,e){if(e===cs)return n;const t=Bl(n);if(!R5(t,e,n.type_))return tEe(n,t,e);const i=t[e];if(n.finalized_||!qo(i))return i;if(i===kP(n.base_,e)){z_(n);const r=n.type_===1?+e:e,s=QL(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in Bl(n)},ownKeys(n){return Reflect.ownKeys(Bl(n))},set(n,e,t){const i=Y9(Bl(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=kP(Bl(n),e),s=r==null?void 0:r[cs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(zBe(t,r)&&(t!==void 0||R5(n.base_,e,n.type_)))return!0;z_(n),LL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),ZBe(n,e,t)),!0},deleteProperty(n,e){return z_(n),kP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),LL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Bl(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[G_]:!0,[ML]:n.type_!==1||e!=="length",[FT]:i[FT],[ab]:t[e]}},defineProperty(){Oo(11)},getPrototypeOf(n){return py(n.base_)},setPrototypeOf(){Oo(12)}},Ab={};oE(bk,(n,e)=>{Ab[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Ab.deleteProperty=function(n,e){return Ab.set.call(this,n,e,void 0)};Ab.set=function(n,e,t){return bk.set.call(this,n[0],e,t,n[0])};function kP(n,e){const t=n[cs];return(t?Bl(t):n)[e]}function tEe(n,e,t){var r;const i=Y9(e,t);return i?ab in i?i[ab]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function Y9(n,e){if(!(e in n))return;let t=py(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=py(t)}}function LL(n){n.modified_||(n.modified_=!0,n.parent_&&LL(n.parent_))}function z_(n){n.copy_||(n.assigned_=new Map,n.copy_=PL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var nEe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if($g(t)&&!$g(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}$g(i)||Oo(6),r!==void 0&&!$g(r)&&Oo(7);let s;if(qo(t)){const a=N5(this),o=QL(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?DL(a):NL(a)}return D5(a,r),L5(s,a)}else if(!t||!mk(t)){if(s=i(t),s===void 0&&(s=t),s===K9&&(s=void 0),this.autoFreeze_&&yk(s,!0),r){const a=[],o=[];gy(RL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else Oo(1,t)},this.produceWithPatches=(t,i)=>{if($g(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},QP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),QP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),QP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qo(e)||Oo(8),Ru(e)&&(e=Go(e));const t=N5(this),i=QL(t,e,void 0);return i[cs].isManual_=!0,NL(t),i}finishDraft(e,t){const i=e&&e[cs];(!i||!i.isManual_)&&Oo(9);const{scope_:r}=i;return D5(r,t),L5(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=gy(RL).applyPatches_;return Ru(e)?r(e,t):this.produce(e,s=>r(s,t))}};function QL(n,e,t,i){const[r,s]=lI(e)?gy(UT).proxyMap_(e,t):uI(e)?gy(UT).proxySet_(e,t):eEe(e,t);return((t==null?void 0:t.scope_)??q9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?JBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function Go(n){return Ru(n)||Oo(10,n),X9(n)}function X9(n){if(!qo(n)||cI(n))return n;const e=n[cs];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=PL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=PL(n,!0);return oE(t,(r,s)=>{MT(t,r,X9(s))},i),e&&(e.finalized_=!1),t}var iEe=new nEe,J9=iEe.produce;function Z9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var rEe=Z9(),sEe=Z9,aEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?TT:TT.apply(null,arguments)};function ho(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(ba(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>V9(i)&&i.type===n,t}var eJ=class Rw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Rw.prototype)}static get[Symbol.species](){return Rw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Rw(...e[0].concat(this)):new Rw(...e.concat(this))}};function k5(n){return qo(n)?J9(n,()=>{}):n}function _x(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function oEe(n){return typeof n=="boolean"}var AEe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new eJ;return t&&(oEe(t)?a.push(rEe):a.push(sEe(t.extraArgument))),a},tJ="RTK_autoBatch",$n=()=>n=>({payload:n,meta:{[tJ]:!0}}),O5=n=>e=>{setTimeout(e,n)},nJ=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O5(10):n.type==="callback"?n.queueNotification:O5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[tJ]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},lEe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new eJ(n);return i&&r.push(nJ(typeof i=="object"?i:void 0)),r};function uEe(n){const e=AEe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(gk(t))o=H9(t);else throw new Error(ba(1));let l;typeof i=="function"?l=i(e):l=e();let u=TT;r&&(u=aEe({trace:!1,...typeof r=="object"&&r}));const d=KBe(...l),h=lEe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return O9(o,s,v)}function iJ(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ba(28));if(o in e)throw new Error(ba(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function cEe(n){return typeof n=="function"}function dEe(n,e){let[t,i,r]=iJ(e),s;if(cEe(n))s=()=>k5(n());else{const o=k5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(Ru(d)){const v=h(d,l);return v===void 0?d:v}else{if(qo(d))return J9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var fEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hEe=(n=21)=>{let e="",t=n;for(;t--;)e+=fEe[Math.random()*64|0];return e},pEe=Symbol.for("rtk-slice-createasyncthunk");function gEe(n,e){return`${n}/${e}`}function mEe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[pEe];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(ba(11));const o=(typeof r.reducers=="function"?r.reducers(yEe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(ba(12));if(D in u.sliceCaseReducersByType)throw new Error(ba(13));return u.sliceCaseReducersByType[D]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=o[R],D={reducerName:R,type:gEe(s,R),createNotation:typeof r.reducers=="function"};bEe(P)?BEe(D,P,d,e):wEe(D,P,d)});function h(){const[R={},P=[],D=void 0]=typeof r.extraReducers=="function"?iJ(r.extraReducers):[r.extraReducers],Q={...R,...u.sliceCaseReducersByType};return dEe(r.initialState,H=>{for(let k in Q)H.addCase(k,Q[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of P)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,C=new WeakMap;let b;function E(R,P){return b||(b=h()),b(R,P)}function x(){return b||(b=h()),b.getInitialState()}function I(R,P=!1){function D(H){let k=H[R];return typeof k>"u"&&P&&(k=_x(C,D,x)),k}function Q(H=g){const k=_x(v,P,()=>new WeakMap);return _x(k,H,()=>{const K={};for(const[V,q]of Object.entries(r.selectors??{}))K[V]=vEe(q,H,()=>_x(C,H,x),P);return K})}return{reducerPath:R,getSelectors:Q,get selectors(){return Q(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...I(a),injectInto(R,{reducerPath:P,...D}={}){const Q=P??a;return R.inject({reducerPath:Q,reducer:E},D),{...T,...I(Q,!0)}}};return T}}function vEe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var Qs=mEe();function yEe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function wEe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!CEe(i))throw new Error(ba(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?ho(n,a):ho(n))}function bEe(n){return n._reducerDefinitionType==="asyncThunk"}function CEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function BEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(ba(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||Tx,pending:o||Tx,rejected:l||Tx,settled:u||Tx})}function Tx(){}var EEe="task",rJ="listener",sJ="completed",Ck="cancelled",SEe=`task-${Ck}`,xEe=`task-${sJ}`,kL=`${rJ}-${Ck}`,_Ee=`${rJ}-${sJ}`,fI=class{constructor(n){we(this,"name","TaskAbortError");we(this,"message");this.code=n,this.message=`${EEe} ${Ck} (reason: ${n})`}},Bk=(n,e)=>{if(typeof n!="function")throw new TypeError(ba(32))},PT=()=>{},aJ=(n,e=PT)=>(n.catch(e),n),oJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Bp=n=>{if(n.aborted)throw new fI(n.reason)};function AJ(n,e){let t=PT;return new Promise((i,r)=>{const s=()=>r(new fI(n.reason));if(n.aborted){s();return}t=oJ(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=PT})}var TEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof fI?"cancelled":"rejected",error:t}}finally{e==null||e()}},RT=n=>e=>aJ(AJ(n,e).then(t=>(Bp(n),t))),lJ=n=>{const e=RT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:cm}=Object,H5={},hI="listenerMiddleware",IEe=(n,e)=>{const t=i=>oJ(n,()=>i.abort(n.reason));return(i,r)=>{Bk(i);const s=new AbortController;t(s);const a=TEe(async()=>{Bp(n),Bp(s.signal);const o=await i({pause:RT(s.signal),delay:lJ(s.signal),signal:s.signal});return Bp(s.signal),o},()=>s.abort(xEe));return r!=null&&r.autoJoin&&e.push(a.catch(PT)),{result:RT(n)(a),cancel(){s.abort(SEe)}}}},FEe=(n,e)=>{const t=async(i,r)=>{Bp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await AJ(e,Promise.race(o));return Bp(e),l}finally{s()}};return(i,r)=>aJ(t(i,r))},uJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=ho(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(ba(21));return Bk(s),{predicate:r,type:e,effect:s}},cJ=cm(n=>{const{type:e,predicate:t,effect:i}=uJ(n);return{id:hEe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ba(22))}}},{withTypes:()=>cJ}),V5=(n,e)=>{const{type:t,effect:i,predicate:r}=uJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},OL=n=>{n.pending.forEach(e=>{e.abort(kL)})},MEe=(n,e)=>()=>{for(const t of e.keys())OL(t);n.clear()},K5=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},dJ=cm(ho(`${hI}/add`),{withTypes:()=>dJ}),UEe=ho(`${hI}/removeAll`),fJ=cm(ho(`${hI}/remove`),{withTypes:()=>fJ}),PEe=(...n)=>{console.error(`${hI}/error`,...n)},lE=(n={})=>{const e=new Map,t=new Map,i=v=>{const C=t.get(v)??0;t.set(v,C+1)},r=v=>{const C=t.get(v)??1;C===1?t.delete(v):t.set(v,C-1)},{extra:s,onError:a=PEe}=n;Bk(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),C=>{v.unsubscribe(),C!=null&&C.cancelActive&&OL(v)}),l=v=>{const C=V5(e,v)??cJ(v);return o(C)};cm(l,{withTypes:()=>l});const u=v=>{const C=V5(e,v);return C&&(C.unsubscribe(),v.cancelActive&&OL(C)),!!C};cm(u,{withTypes:()=>u});const d=async(v,C,b,E)=>{const x=new AbortController,I=FEe(l,x.signal),T=[];try{v.pending.add(x),i(v),await Promise.resolve(v.effect(C,cm({},b,{getOriginalState:E,condition:(R,P)=>I(R,P).then(Boolean),take:I,delay:lJ(x.signal),pause:RT(x.signal),extra:s,signal:x.signal,fork:IEe(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,P,D)=>{R!==x&&(R.abort(kL),D.delete(R))})},cancel:()=>{x.abort(kL),v.pending.delete(x)},throwIfCancelled:()=>{Bp(x.signal)}})))}catch(R){R instanceof fI||K5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(_Ee),r(v),v.pending.delete(x)}},h=MEe(e,t);return{middleware:v=>C=>b=>{if(!V9(b))return C(b);if(dJ.match(b))return l(b.payload);if(UEe.match(b)){h();return}if(fJ.match(b))return u(b.payload);let E=v.getState();const x=()=>{if(E===H5)throw new Error(ba(23));return E};let I;try{if(I=C(b),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const P of R){let D=!1;try{D=P.predicate(b,T,E)}catch(Q){D=!1,K5(a,Q,{raisedBy:"predicate"})}D&&d(P,b,v,x)}}}finally{E=H5}return I},startListening:l,stopListening:u,clearListeners:h}};function ba(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var REe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hJ=Qs({name:"chartLayout",initialState:REe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:DEe,setLayout:NEe,setChartSize:LEe,setScale:QEe}=hJ.actions,kEe=hJ.reducer;function pJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function G5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(t),!0).forEach(function(i){OEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function OEe(n,e,t){return(e=HEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HEe(n){var e=VEe(n,"string");return typeof e=="symbol"?e:e+""}function VEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Wr(n,e,t){return lr(n)||lr(e)?t:VA(e)?hy(n,e,t):typeof e=="function"?e(n):t}var KEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&st(n[s]))return Jg(Jg({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&st(n[a]))return Jg(Jg({},n),{},{[a]:n[a]+(r||0)})}return n},kp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",z5=1e-4,GEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-z5,s=Math.max(i[0],i[1])+z5,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},zEe=(n,e)=>{if(!e||e.length!==2||!st(e[0])||!st(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!st(n[0])||n[0]<t)&&(r[0]=t),(!st(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},qEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=HA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},$Ee=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=HA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},jEe={sign:qEe,expand:wCe,none:fy,silhouette:bCe,wiggle:CCe,positive:$Ee},WEe=(n,e,t)=>{var i=jEe[t],r=yCe().keys(e).value((s,a)=>Number(Wr(s,a,0))).order(IL).offset(i);return r(n)};function YEe(n){return n==null?void 0:String(n)}var q5=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Wr(s,e.dataKey,e.scale.domain()[a]);return lr(o)?null:e.scale(o)-r/2+i},XEe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},JEe=n=>{var e=n.flat(2).filter(st);return[Math.min(...e),Math.max(...e)]},ZEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],eSe=(n,e,t)=>{if(n!=null)return ZEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=pJ(u,e,t),h=JEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},$5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=aI(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function W5(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Jg(Jg({},e),{},{dataKey:t,payload:i,value:r,name:s})}function gJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var tSe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},nSe=(n,e)=>e==="centric"?n.angle:n.radius,qu=n=>n.layout.width,$u=n=>n.layout.height,iSe=n=>n.layout.scale,mJ=n=>n.layout.margin,pI=Ae(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),gI=Ae(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),rSe="data-recharts-item-index",sSe="data-recharts-item-data-key",uE=60;function Y5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ix(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(t),!0).forEach(function(i){aSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aSe(n,e,t){return(e=oSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oSe(n){var e=ASe(n,"string");return typeof e=="symbol"?e:e+""}function ASe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lSe=n=>n.brush.height;function uSe(n){var e=gI(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:uE;return t+r}return t},0)}function cSe(n){var e=gI(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:uE;return t+r}return t},0)}function dSe(n){var e=pI(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function fSe(n){var e=pI(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var ur=Ae([qu,$u,mJ,lSe,uSe,cSe,dSe,fSe,k9,LBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=Ix(Ix({},h),d),v=g.bottom;g.bottom+=i,g=KEe(g,l,u);var C=n-g.left-g.right,b=e-g.top-g.bottom;return Ix(Ix({brushBottom:v},g),{},{width:Math.max(C,0),height:Math.max(b,0)})}),hSe=Ae(ur,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Ek=Ae(qu,$u,(n,e)=>({x:0,y:0,width:n,height:e})),pSe=F.createContext(null),Sa=()=>F.useContext(pSe)!=null,mI=n=>n.brush,vI=Ae([mI,ur,mJ],(n,e,t)=>({height:n.height,x:st(n.x)?n.x:e.left,y:st(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:st(n.width)?n.width:e.width})),OP={},HP={},VP={},X5;function gSe(){return X5||(X5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},C=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{C(),a=void 0,o=null},E=()=>{d()},x=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return x.schedule=v,x.cancel=b,x.flush=E,r==null||r.addEventListener("abort",b,{once:!0}),x}n.debounce=e})(VP)),VP}var J5;function mSe(){return J5||(J5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gSe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...b){d=i.apply(this,b),h=null},r,{edges:u}),v=function(...b){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,b),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},C=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=C,v}n.debounce=t})(HP)),HP}var Z5;function vSe(){return Z5||(Z5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=mSe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(OP)),OP}var KP,eq;function ySe(){return eq||(eq=1,KP=vSe().throttle),KP}var wSe=ySe();const bSe=qA(wSe);var tq=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},vJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=Pu(i)?n:Number(i),l=Pu(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},CSe={width:0,height:0,overflow:"visible"},BSe={width:0,overflowX:"visible"},ESe={height:0,overflowY:"visible"},SSe={},xSe=n=>{var{width:e,height:t}=n,i=Pu(e),r=Pu(t);return i&&r?CSe:i?BSe:r?ESe:SSe};function _Se(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function Ci(n){return Number.isFinite(n)}function rf(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function HL(){return HL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HL.apply(null,arguments)}function nq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(t),!0).forEach(function(i){TSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TSe(n,e,t){return(e=ISe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ISe(n){var e=FSe(n,"string");return typeof e=="symbol"?e:e+""}function FSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yJ=F.createContext({width:-1,height:-1});function MSe(n){return rf(n.width)&&rf(n.height)}function wJ(n){var{children:e,width:t,height:i}=n,r=F.useMemo(()=>({width:t,height:i}),[t,i]);return MSe(r)?F.createElement(yJ.Provider,{value:r},e):null}var Sk=()=>F.useContext(yJ),USe=F.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:C={}}=n,b=F.useRef(null),E=F.useRef();E.current=v,F.useImperativeHandle(e,()=>b.current);var[x,I]=F.useState({containerWidth:i.width,containerHeight:i.height}),T=F.useCallback((H,k)=>{I(K=>{var V=Math.round(H),q=Math.round(k);return K.containerWidth===V&&K.containerHeight===q?K:{containerWidth:V,containerHeight:q}})},[]);F.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return aE;var H=q=>{var J,{width:te,height:he}=q[0].contentRect;T(te,he),(J=E.current)===null||J===void 0||J.call(E,te,he)};d>0&&(H=bSe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:V}=b.current.getBoundingClientRect();return T(K,V),k.observe(b.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:P}=x;tq(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:Q}=vJ(R,P,{width:r,height:s,aspect:t,maxHeight:l});return tq(D!=null&&D>0||Q!=null&&Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,Q,r,s,a,o,t),F.createElement("div",{id:h?"".concat(h):void 0,className:kn("recharts-responsive-container",g),style:iq(iq({},C),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},F.createElement("div",{style:xSe({width:r,height:s})},F.createElement(wJ,{width:D,height:Q},u)))}),PSe=F.forwardRef((n,e)=>{var t=Sk();if(rf(t.width)&&rf(t.height))return n.children;var{width:i,height:r}=_Se({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=vJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return st(s)&&st(a)?F.createElement(wJ,{width:s,height:a},n.children):F.createElement(USe,HL({},n,{width:i,height:r,ref:e}))});function bJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var yI=()=>{var n,e=Sa(),t=nt(hSe),i=nt(vI),r=(n=nt(mI))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},RSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DSe=()=>{var n;return(n=nt(ur))!==null&&n!==void 0?n:RSe},NSe=()=>nt(qu),LSe=()=>nt($u),an=n=>n.layout.layoutType,wI=()=>nt(an),QSe=()=>{var n=wI();return n!==void 0},bI=n=>{var e=Bi(),t=Sa(),{width:i,height:r}=n,s=Sk(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),F.useEffect(()=>{!t&&rf(a)&&rf(o)&&e(LEe({width:a,height:o}))},[e,t,a,o]),null},CJ=Symbol.for("immer-nothing"),rq=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function Ho(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var lb=Object.getPrototypeOf;function my(n){return!!n&&!!n[Ba]}function Fp(n){var e;return n?BJ(n)||Array.isArray(n)||!!n[rq]||!!((e=n.constructor)!=null&&e[rq])||cE(n)||BI(n):!1}var kSe=Object.prototype.constructor.toString(),sq=new WeakMap;function BJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=sq.get(t);return i===void 0&&(i=Function.toString.call(t),sq.set(t,i)),i===kSe}function NT(n,e,t=!0){CI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function CI(n){const e=n[Ba];return e?e.type_:Array.isArray(n)?1:cE(n)?2:BI(n)?3:0}function VL(n,e){return CI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function EJ(n,e,t){const i=CI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function OSe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function cE(n){return n instanceof Map}function BI(n){return n instanceof Set}function Qf(n){return n.copy_||n.base_}function KL(n,e){if(cE(n))return new Map(n);if(BI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=BJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Ba];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(lb(n),i)}else{const i=lb(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function xk(n,e=!1){return EI(n)||my(n)||!Fp(n)||(CI(n)>1&&Object.defineProperties(n,{set:Fx,add:Fx,clear:Fx,delete:Fx}),Object.freeze(n),e&&Object.values(n).forEach(t=>xk(t,!0))),n}function HSe(){Ho(2)}var Fx={value:HSe};function EI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var VSe={};function Mp(n){const e=VSe[n];return e||Ho(0,n),e}var ub;function SJ(){return ub}function KSe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aq(n,e){e&&(Mp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function GL(n){zL(n),n.drafts_.forEach(GSe),n.drafts_=null}function zL(n){n===ub&&(ub=n.parent_)}function oq(n){return ub=KSe(ub,n)}function GSe(n){const e=n[Ba];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Aq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ba].modified_&&(GL(e),Ho(4)),Fp(n)&&(n=LT(e,n),e.parent_||QT(e,n)),e.patches_&&Mp("Patches").generateReplacementPatches_(t[Ba].base_,n,e.patches_,e.inversePatches_)):n=LT(e,t,[]),GL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==CJ?n:void 0}function LT(n,e,t){if(EI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[Ba];if(!r)return NT(e,(s,a)=>lq(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return QT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),NT(a,(l,u)=>lq(n,r,s,l,u,t,o),i),QT(n,s,!1),t&&n.patches_&&Mp("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function lq(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=EI(r);if(!(o&&!a)){if(my(r)){const l=s&&e&&e.type_!==3&&!VL(e.assigned_,i)?s.concat(i):void 0,u=LT(n,r,l);if(EJ(t,i,u),my(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(Fp(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;LT(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(cE(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&QT(n,r)}}}function QT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&xk(e,t)}function zSe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:SJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=_k;t&&(r=[i],s=cb);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var _k={get(n,e){if(e===Ba)return n;const t=Qf(n);if(!VL(t,e))return qSe(n,t,e);const i=t[e];return n.finalized_||!Fp(i)?i:i===GP(n.base_,e)?(zP(n),n.copy_[e]=$L(i,n)):i},has(n,e){return e in Qf(n)},ownKeys(n){return Reflect.ownKeys(Qf(n))},set(n,e,t){const i=xJ(Qf(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=GP(Qf(n),e),s=r==null?void 0:r[Ba];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(OSe(t,r)&&(t!==void 0||VL(n.base_,e)))return!0;zP(n),qL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return GP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,zP(n),qL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Qf(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Ho(11)},getPrototypeOf(n){return lb(n.base_)},setPrototypeOf(){Ho(12)}},cb={};NT(_k,(n,e)=>{cb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cb.deleteProperty=function(n,e){return cb.set.call(this,n,e,void 0)};cb.set=function(n,e,t){return _k.set.call(this,n[0],e,t,n[0])};function GP(n,e){const t=n[Ba];return(t?Qf(t):n)[e]}function qSe(n,e,t){var r;const i=xJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function xJ(n,e){if(!(e in n))return;let t=lb(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=lb(t)}}function qL(n){n.modified_||(n.modified_=!0,n.parent_&&qL(n.parent_))}function zP(n){n.copy_||(n.copy_=KL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var $Se=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Ho(6),i!==void 0&&typeof i!="function"&&Ho(7);let r;if(Fp(e)){const s=oq(this),a=$L(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?GL(s):zL(s)}return aq(s,i),Aq(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===CJ&&(r=void 0),this.autoFreeze_&&xk(r,!0),i){const s=[],a=[];Mp("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else Ho(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Fp(n)||Ho(8),my(n)&&(n=jSe(n));const e=oq(this),t=$L(n,void 0);return t[Ba].isManual_=!0,zL(e),t}finishDraft(n,e){const t=n&&n[Ba];(!t||!t.isManual_)&&Ho(9);const{scope_:i}=t;return aq(i,e),Aq(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=Mp("Patches").applyPatches_;return my(n)?i(n,e):this.produce(n,r=>i(r,e))}};function $L(n,e){const t=cE(n)?Mp("MapSet").proxyMap_(n,e):BI(n)?Mp("MapSet").proxySet_(n,e):zSe(n,e);return(e?e.scope_:SJ()).drafts_.push(t),t}function jSe(n){return my(n)||Ho(10,n),_J(n)}function _J(n){if(!Fp(n)||EI(n))return n;const e=n[Ba];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=KL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=KL(n,!0);return NT(t,(r,s)=>{EJ(t,r,_J(s))},i),e&&(e.finalized_=!1),t}var WSe=new $Se;WSe.produce;var YSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TJ=Qs({name:"legend",initialState:YSe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:$n()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Go(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:$n()},removeLegendPayload:{reducer(n,e){var t=Go(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:$n()}}}),{setLegendSize:PQe,setLegendSettings:RQe,addLegendPayload:XSe,replaceLegendPayload:JSe,removeLegendPayload:ZSe}=TJ.actions,exe=TJ.reducer;function jL(){return jL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jL.apply(null,arguments)}function uq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(t),!0).forEach(function(i){txe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function txe(n,e,t){return(e=nxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nxe(n){var e=ixe(n,"string");return typeof e=="symbol"?e:e+""}function ixe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rxe(n){return Array.isArray(n)&&VA(n[0])&&VA(n[1])?n.join(" ~ "):n}var sxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var P={padding:0,margin:0},D=(o?aI(s,o):s).map((Q,H)=>{if(Q.type==="none")return null;var k=Q.formatter||a||rxe,{value:K,name:V}=Q,q=K,J=V;if(k){var te=k(K,V,Q,H,s);if(Array.isArray(te))[q,J]=te;else if(te!=null)q=te;else return null}var he=qP({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},i);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:he},VA(J)?F.createElement("span",{className:"recharts-tooltip-item-name"},J):null,VA(J)?F.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,F.createElement("span",{className:"recharts-tooltip-item-value"},q),F.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},C=qP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),b=qP({margin:0},r),E=!lr(d),x=E?d:"",I=kn("recharts-default-tooltip",l),T=kn("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(x=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",jL({className:I,style:C},R),F.createElement("p",{className:T,style:b},F.isValidElement(x)?x:"".concat(x)),v())},z0="recharts-tooltip-wrapper",axe={visibility:"hidden"};function oxe(n){var{coordinate:e,translateX:t,translateY:i}=n;return kn(z0,{["".concat(z0,"-right")]:st(t)&&e&&st(e.x)&&t>=e.x,["".concat(z0,"-left")]:st(t)&&e&&st(e.x)&&t<e.x,["".concat(z0,"-bottom")]:st(i)&&e&&st(e.y)&&i>=e.y,["".concat(z0,"-top")]:st(i)&&e&&st(e.y)&&i<e.y})}function cq(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&st(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,C=g;return v<C?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var b=h+o,E=g+u;return b>E?Math.max(d,g):Math.max(h,g)}function Axe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function lxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=cq({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=cq({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Axe({translateX:d,translateY:h,useTranslate3d:o})):u=axe,{cssProperties:u,cssClasses:oxe({translateX:d,translateY:h,coordinate:t})}}function dq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(t),!0).forEach(function(i){WL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WL(n,e,t){return(e=uxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uxe(n){var e=cxe(n,"string");return typeof e=="symbol"?e:e+""}function cxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class dxe extends F.PureComponent{constructor(){super(...arguments),WL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),WL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:C,lastBoundingBox:b,innerRef:E,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:T}=lxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),R=x?{}:Mx(Mx({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Mx(Mx({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},C);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:E},s)}}var IJ=()=>{var n;return(n=nt(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function YL(){return YL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YL.apply(null,arguments)}function fq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(t),!0).forEach(function(i){fxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fxe(n,e,t){return(e=hxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hxe(n){var e=pxe(n,"string");return typeof e=="symbol"?e:e+""}function pxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pq={curveBasisClosed:ACe,curveBasisOpen:lCe,curveBasis:oCe,curveBumpX:$be,curveBumpY:jbe,curveLinearClosed:uCe,curveLinear:rI,curveMonotoneX:cCe,curveMonotoneY:dCe,curveNatural:fCe,curveStep:hCe,curveStepAfter:gCe,curveStepBefore:pCe},kT=n=>Ci(n.x)&&Ci(n.y),gq=n=>n.base!=null&&kT(n.base)&&kT(n),q0=n=>n.x,$0=n=>n.y,gxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(sE(n));return(t==="curveMonotone"||t==="curveBump")&&e?pq["".concat(t).concat(e==="vertical"?"Y":"X")]:pq[t]||rI},mxe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=gxe(e,r),o=s?t.filter(kT):t,l;if(Array.isArray(i)){var u=t.map((v,C)=>hq(hq({},v),{},{base:i[C]}));r==="vertical"?l=Bx().y($0).x1(q0).x0(v=>v.base.x):l=Bx().x(q0).y1($0).y0(v=>v.base.y);var d=l.defined(gq).curve(a),h=s?u.filter(gq):u;return d(h)}r==="vertical"&&st(i)?l=Bx().y($0).x1(q0).x0(i):st(i)?l=Bx().x(q0).y1($0).y0(i):l=c9().x(q0).y($0);var g=l.defined(kT).curve(a);return g(o)},FJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?mxe(n):i;return F.createElement("path",YL({},nf(n),OCe(n),{className:kn("recharts-curve",e),d:s===null?void 0:s,ref:r}))},vxe=["x","y","top","left","width","height","className"];function XL(){return XL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XL.apply(null,arguments)}function mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yxe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(t),!0).forEach(function(i){wxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wxe(n,e,t){return(e=bxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bxe(n){var e=Cxe(n,"string");return typeof e=="symbol"?e:e+""}function Cxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bxe(n,e){if(n==null)return{};var t,i,r=Exe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Exe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Sxe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),xxe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=Bxe(n,vxe),u=yxe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!st(e)||!st(t)||!st(s)||!st(a)||!st(i)||!st(r)?null:F.createElement("path",XL({},fo(u),{className:kn("recharts-cross",o),d:Sxe(e,t,s,a,i,r)}))};function _xe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(t),!0).forEach(function(i){Txe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Txe(n,e,t){return(e=Ixe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ixe(n){var e=Fxe(n,"string");return typeof e=="symbol"?e:e+""}function Fxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Mxe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),MJ=(n,e,t)=>n.map(i=>"".concat(Mxe(i)," ").concat(e,"ms ").concat(t)).join(","),Uxe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),db=(n,e)=>Object.keys(e).reduce((t,i)=>yq(yq({},t),{},{[i]:n(i,e[i])}),{});function wq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ki(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(t),!0).forEach(function(i){Pxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Pxe(n,e,t){return(e=Rxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rxe(n){var e=Dxe(n,"string");return typeof e=="symbol"?e:e+""}function Dxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OT=(n,e,t)=>n+(e-n)*t,JL=n=>{var{from:e,to:t}=n;return e!==t},UJ=(n,e,t)=>{var i=db((r,s)=>{if(JL(s)){var[a,o]=n(s.from,s.to,s.velocity);return Ki(Ki({},s),{},{from:a,velocity:o})}return s},e);return t<1?db((r,s)=>JL(s)?Ki(Ki({},s),{},{velocity:OT(s.velocity,i[r].velocity,t),from:OT(s.from,i[r].from,t)}):s,e):UJ(n,i,t-1)};function Nxe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>Ki(Ki({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>db((g,v)=>v.from,o),u=()=>!Object.values(o).filter(JL).length,d=null,h=g=>{a||(a=g);var v=g-a,C=v/t.dt;o=UJ(t,o,C),r(Ki(Ki(Ki({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function Lxe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>Ki(Ki({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=db((b,E)=>OT(...E,t(g)),l);if(s(Ki(Ki(Ki({},n),e),v)),g<1)o=a.setTimeout(d);else{var C=db((b,E)=>OT(...E,t(1)),l);s(Ki(Ki(Ki({},n),e),C))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const Qxe=(n,e,t,i,r,s)=>{var a=Uxe(n,e);return t==null?()=>(r(Ki(Ki({},n),e)),()=>{}):t.isStepper===!0?Nxe(n,e,t,a,r,s):Lxe(n,e,t,i,a,r,s)};var HT=1e-4,PJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],RJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),bq=(n,e)=>t=>{var i=PJ(n,e);return RJ(i,t)},kxe=(n,e)=>t=>{var i=PJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return RJ(r,t)},Oxe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},Hxe=(n,e,t,i)=>{var r=bq(n,t),s=bq(e,i),a=kxe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,C=a(h);if(Math.abs(v-d)<HT||C<HT)return s(h);h=o(h-v/C)}return s(h)};return l.isStepper=!1,l},Cq=function(){return Hxe(...Oxe(...arguments))},Vxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<HT&&Math.abs(h)<HT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},Kxe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cq(n);case"spring":return Vxe();default:if(n.split("(")[0]==="cubic-bezier")return Cq(n)}return typeof n=="function"?n:null};function Gxe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class zxe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function qxe(){return Gxe(new zxe)}var $xe=F.createContext(qxe);function jxe(n,e){var t=F.useContext($xe);return F.useMemo(()=>e??t(n),[n,e,t])}var Wxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),dE={devToolsEnabled:!1,isSsr:Wxe()},Yxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Bq={t:0},$P={t:1};function Tk(n){var e=go(n,Yxe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!dE.isSsr:t,h=jxe(e.animationId,e.animationManager),[g,v]=F.useState(d?Bq:$P),C=F.useRef(null);return F.useEffect(()=>{d||v($P)},[d]),F.useEffect(()=>{if(!d||!i)return aE;var b=Qxe(Bq,$P,Kxe(s),r,v,h.getTimeoutController()),E=()=>{C.current=b()};return h.start([l,a,E,r,o]),()=>{h.stop(),C.current&&C.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function Ik(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(sb(e)),i=F.useRef(n);return i.current!==n&&(t.current=sb(e),i.current=n),t.current}var Xxe=["radius"],Jxe=["radius"];function Eq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Sq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(t),!0).forEach(function(i){Zxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Eq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Zxe(n,e,t){return(e=e_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e_e(n){var e=t_e(n,"string");return typeof e=="symbol"?e:e+""}function t_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VT(){return VT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VT.apply(null,arguments)}function xq(n,e){if(n==null)return{};var t,i,r=n_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function n_e(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var _q=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},Tq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DJ=n=>{var e=go(n,Tq),t=F.useRef(null),[i,r]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&r($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:C,isUpdateAnimationActive:b}=e,E=F.useRef(o),x=F.useRef(l),I=F.useRef(s),T=F.useRef(a),R=F.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=Ik(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=kn("recharts-rectangle",d);if(!b){var Q=fo(e),{radius:H}=Q,k=xq(Q,Xxe);return F.createElement("path",VT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:_q(s,a,o,l,u)}))}var K=E.current,V=x.current,q=I.current,J=T.current,te="0px ".concat(i===-1?1:i,"px"),he="".concat(i,"px 0px"),G=MJ(["strokeDasharray"],g,typeof h=="string"?h:Tq.animationEasing);return F.createElement(Tk,{animationId:P,key:P,canBegin:i>0,duration:g,easing:h,isActive:b,begin:v},$=>{var re=Tr(K,o,$),de=Tr(V,l,$),Ce=Tr(q,s,$),z=Tr(J,a,$);t.current&&(E.current=re,x.current=de,I.current=Ce,T.current=z);var X;C?$>0?X={transition:G,strokeDasharray:he}:X={strokeDasharray:te}:X={strokeDasharray:he};var oe=fo(e),{radius:me}=oe,Se=xq(oe,Jxe);return F.createElement("path",VT({},Se,{radius:typeof u=="number"?u:void 0,className:D,d:_q(Ce,z,re,de,u),ref:t,style:Sq(Sq({},X),e.style)}))})};function Iq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(t),!0).forEach(function(i){i_e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function i_e(n,e,t){return(e=r_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r_e(n){var e=s_e(n,"string");return typeof e=="symbol"?e:e+""}function s_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var KT=Math.PI/180,a_e=n=>n*180/Math.PI,Ur=(n,e,t,i)=>({x:n+Math.cos(-KT*i)*t,y:e+Math.sin(-KT*i)*t}),o_e=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},A_e=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},l_e=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=A_e({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:a_e(l),angleInRadian:l}},u_e=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},c_e=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},d_e=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=l_e({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=u_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?Fq(Fq({},e),{},{radius:r,angle:c_e(d,e)}):null};function NJ(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=Ur(e,t,i,r),o=Ur(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function ZL(){return ZL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ZL.apply(null,arguments)}var f_e=(n,e)=>{var t=ya(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},Ux=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/KT,h=l?r:r+s*d,g=Ur(e,t,u,h),v=Ur(e,t,i,h),C=l?r-s*d:r,b=Ur(e,t,u*Math.cos(d*KT),C);return{center:g,circleTangency:v,lineTangency:b,theta:d}},LJ=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=f_e(s,a),l=s+o,u=Ur(e,t,r,s),d=Ur(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ur(e,t,i,s),v=Ur(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},h_e=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=ya(u-l),{circleTangency:h,lineTangency:g,theta:v}=Ux({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:C,lineTangency:b,theta:E}=Ux({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LJ({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:P}=Ux({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:Q,theta:H}=Ux({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-P-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},p_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QJ=n=>{var e=go(n,p_e),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=kn("recharts-sector",h),v=s-r,C=zo(a,v,0,!0),b;return C>0&&Math.abs(u-d)<360?b=h_e({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(C,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=LJ({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",ZL({},fo(e),{className:g,d:b}))};function g_e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(x9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=Ur(i,r,s,o),u=Ur(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return NJ(e)}}var jP={},WP={},YP={},Mq;function m_e(){return Mq||(Mq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(YP)),YP}var Uq;function v_e(){return Uq||(Uq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=m_e();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(WP)),WP}var Pq;function y_e(){return Pq||(Pq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q9(),t=v_e();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})(jP)),jP}var XP,Rq;function w_e(){return Rq||(Rq=1,XP=y_e().range),XP}var b_e=w_e();const kJ=qA(b_e);function Jd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function C_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Fk(n){let e,t,i;n.length!==2?(e=Jd,t=(o,l)=>Jd(n(o),l),i=(o,l)=>n(o)-l):(e=n===Jd||n===C_e?n:B_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function B_e(){return 0}function OJ(n){return n===null?NaN:+n}function*E_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const S_e=Fk(Jd),fE=S_e.right;Fk(OJ).center;class Dq extends Map{constructor(e,t=T_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(Nq(this,e))}has(e){return super.has(Nq(this,e))}set(e,t){return super.set(x_e(this,e),t)}delete(e){return super.delete(__e(this,e))}}function Nq({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function x_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function __e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function T_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function I_e(n=Jd){if(n===Jd)return HJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function HJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const F_e=Math.sqrt(50),M_e=Math.sqrt(10),U_e=Math.sqrt(2);function GT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=F_e?10:s>=M_e?5:s>=U_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?GT(n,e,t*2):[o,l,u]}function eQ(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?GT(e,n,t):GT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function tQ(n,e,t){return e=+e,n=+n,t=+t,GT(n,e,t)[2]}function nQ(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?tQ(e,n,t):tQ(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function Lq(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function Qq(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function VJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?HJ:I_e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),C=Math.min(i,Math.floor(e+(l-u)*h/l+g));VJ(n,e,v,C,r)}const s=n[e];let a=t,o=i;for(j0(n,t,e),r(n[i],s)>0&&j0(n,t,i);a<o;){for(j0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?j0(n,t,o):(++o,j0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function j0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function P_e(n,e,t){if(n=Float64Array.from(E_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return Qq(n);if(e>=1)return Lq(n);var i,r=(i-1)*e,s=Math.floor(r),a=Lq(VJ(n,s).subarray(0,s+1)),o=Qq(n.subarray(s+1));return a+(o-a)*(r-s)}}function R_e(n,e,t=OJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function D_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function mo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function ju(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iQ=Symbol("implicit");function Mk(){var n=new Dq,e=[],t=[],i=iQ;function r(s){let a=n.get(s);if(a===void 0){if(i!==iQ)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Dq;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Mk(e,t).unknown(i)},mo.apply(r,arguments),r}function Uk(){var n=Mk().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,C=v?r:i,b=v?i:r;s=(b-C)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),C+=(b-C-s*(g-l))*d,a=s*(1-l),o&&(C=Math.round(C),a=Math.round(a));var E=D_e(g).map(function(x){return C+s*x});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Uk(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},mo.apply(h(),arguments)}function KJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return KJ(e())},n}function N_e(){return KJ(Uk.apply(null,arguments).paddingInner(1))}function Pk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function GJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function hE(){}var fb=.7,zT=1/fb,dm="\\s*([+-]?\\d+)\\s*",hb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",OA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L_e=/^#([0-9a-f]{3,8})$/,Q_e=new RegExp(`^rgb\\(${dm},${dm},${dm}\\)$`),k_e=new RegExp(`^rgb\\(${OA},${OA},${OA}\\)$`),O_e=new RegExp(`^rgba\\(${dm},${dm},${dm},${hb}\\)$`),H_e=new RegExp(`^rgba\\(${OA},${OA},${OA},${hb}\\)$`),V_e=new RegExp(`^hsl\\(${hb},${OA},${OA}\\)$`),K_e=new RegExp(`^hsla\\(${hb},${OA},${OA},${hb}\\)$`),kq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pk(hE,pb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Oq,formatHex:Oq,formatHex8:G_e,formatHsl:z_e,formatRgb:Hq,toString:Hq});function Oq(){return this.rgb().formatHex()}function G_e(){return this.rgb().formatHex8()}function z_e(){return zJ(this).formatHsl()}function Hq(){return this.rgb().formatRgb()}function pb(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=L_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Vq(e):t===3?new Ns(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Px(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Px(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Q_e.exec(n))?new Ns(e[1],e[2],e[3],1):(e=k_e.exec(n))?new Ns(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=O_e.exec(n))?Px(e[1],e[2],e[3],e[4]):(e=H_e.exec(n))?Px(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V_e.exec(n))?zq(e[1],e[2]/100,e[3]/100,1):(e=K_e.exec(n))?zq(e[1],e[2]/100,e[3]/100,e[4]):kq.hasOwnProperty(n)?Vq(kq[n]):n==="transparent"?new Ns(NaN,NaN,NaN,0):null}function Vq(n){return new Ns(n>>16&255,n>>8&255,n&255,1)}function Px(n,e,t,i){return i<=0&&(n=e=t=NaN),new Ns(n,e,t,i)}function q_e(n){return n instanceof hE||(n=pb(n)),n?(n=n.rgb(),new Ns(n.r,n.g,n.b,n.opacity)):new Ns}function rQ(n,e,t,i){return arguments.length===1?q_e(n):new Ns(n,e,t,i??1)}function Ns(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Pk(Ns,rQ,GJ(hE,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new Ns(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fb:Math.pow(fb,n),new Ns(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ns(Ep(this.r),Ep(this.g),Ep(this.b),qT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kq,formatHex:Kq,formatHex8:$_e,formatRgb:Gq,toString:Gq}));function Kq(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}`}function $_e(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}${zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gq(){const n=qT(this.opacity);return`${n===1?"rgb(":"rgba("}${Ep(this.r)}, ${Ep(this.g)}, ${Ep(this.b)}${n===1?")":`, ${n})`}`}function qT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ep(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function zf(n){return n=Ep(n),(n<16?"0":"")+n.toString(16)}function zq(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Vo(n,e,t,i)}function zJ(n){if(n instanceof Vo)return new Vo(n.h,n.s,n.l,n.opacity);if(n instanceof hE||(n=pb(n)),!n)return new Vo;if(n instanceof Vo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new Vo(a,o,l,n.opacity)}function j_e(n,e,t,i){return arguments.length===1?zJ(n):new Vo(n,e,t,i??1)}function Vo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Pk(Vo,j_e,GJ(hE,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new Vo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fb:Math.pow(fb,n),new Vo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Ns(JP(n>=240?n-240:n+120,r,i),JP(n,r,i),JP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Vo(qq(this.h),Rx(this.s),Rx(this.l),qT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=qT(this.opacity);return`${n===1?"hsl(":"hsla("}${qq(this.h)}, ${Rx(this.s)*100}%, ${Rx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function qq(n){return n=(n||0)%360,n<0?n+360:n}function Rx(n){return Math.max(0,Math.min(1,n||0))}function JP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Rk=n=>()=>n;function W_e(n,e){return function(t){return n+t*e}}function Y_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function X_e(n){return(n=+n)==1?qJ:function(e,t){return t-e?Y_e(e,t,n):Rk(isNaN(e)?t:e)}}function qJ(n,e){var t=e-n;return t?W_e(n,t):Rk(isNaN(n)?e:n)}const $q=(function n(e){var t=X_e(e);function i(r,s){var a=t((r=rQ(r)).r,(s=rQ(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=qJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function J_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function Z_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eTe(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=Uy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function tTe(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function $T(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function nTe(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=Uy(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var sQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ZP=new RegExp(sQ.source,"g");function iTe(n){return function(){return n}}function rTe(n){return function(e){return n(e)+""}}function sTe(n,e){var t=sQ.lastIndex=ZP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=sQ.exec(n))&&(r=ZP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:$T(i,r)})),t=ZP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?rTe(l[0].x):iTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Uy(n,e){var t=typeof e,i;return e==null||t==="boolean"?Rk(e):(t==="number"?$T:t==="string"?(i=pb(e))?(e=i,$q):sTe:e instanceof pb?$q:e instanceof Date?tTe:Z_e(e)?J_e:Array.isArray(e)?eTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nTe:$T)(n,e)}function Dk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function aTe(n,e){e===void 0&&(e=n,n=Uy);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function oTe(n){return function(){return n}}function jT(n){return+n}var jq=[0,1];function As(n){return n}function aQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:oTe(isNaN(e)?NaN:.5)}function ATe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function lTe(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=aQ(r,i),s=t(a,s)):(i=aQ(i,r),s=t(s,a)),function(o){return s(i(o))}}function uTe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=aQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=fE(n,o,1,i)-1;return s[l](r[l](o))}}function pE(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function SI(){var n=jq,e=jq,t=Uy,i,r,s,a=As,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==As&&(a=ATe(n[0],n[g-1])),o=g>2?uTe:lTe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),$T)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,jT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Dk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:As,d()):a!==As},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function Nk(){return SI()(As,As)}function cTe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function WT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function vy(n){return n=WT(Math.abs(n)),n?n[1]:NaN}function dTe(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function fTe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var hTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gb(n){if(!(e=hTe.exec(n)))throw new Error("invalid format: "+n);var e;return new Lk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gb.prototype=Lk.prototype;function Lk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Lk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pTe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var $J;function gTe(n,e){var t=WT(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-($J=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+WT(n,Math.max(0,e+s-1))[0]}function Wq(n,e){var t=WT(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Yq={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:cTe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Wq(n*100,e),r:Wq,s:gTe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Xq(n){return n}var Jq=Array.prototype.map,Zq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mTe(n){var e=n.grouping===void 0||n.thousands===void 0?Xq:dTe(Jq.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Xq:fTe(Jq.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=gb(h);var g=h.fill,v=h.align,C=h.sign,b=h.symbol,E=h.zero,x=h.width,I=h.comma,T=h.precision,R=h.trim,P=h.type;P==="n"?(I=!0,P="g"):Yq[P]||(T===void 0&&(T=12),R=!0,P="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=b==="$"?t:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",Q=b==="$"?i:/[%p]/.test(P)?a:"",H=Yq[P],k=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(V){var q=D,J=Q,te,he,G;if(P==="c")J=H(V)+J,V="";else{V=+V;var $=V<0||1/V<0;if(V=isNaN(V)?l:H(Math.abs(V),T),R&&(V=pTe(V)),$&&+V==0&&C!=="+"&&($=!1),q=($?C==="("?C:o:C==="-"||C==="("?"":C)+q,J=(P==="s"?Zq[8+$J/3]:"")+J+($&&C==="("?")":""),k){for(te=-1,he=V.length;++te<he;)if(G=V.charCodeAt(te),48>G||G>57){J=(G===46?r+V.slice(te+1):V.slice(te))+J,V=V.slice(0,te);break}}}I&&!E&&(V=e(V,1/0));var re=q.length+V.length+J.length,de=re<x?new Array(x-re+1).join(g):"";switch(I&&E&&(V=e(de+V,de.length?x-J.length:1/0),de=""),v){case"<":V=q+V+J+de;break;case"=":V=q+de+V+J;break;case"^":V=de.slice(0,re=de.length>>1)+q+V+J+de.slice(re);break;default:V=de+q+V+J;break}return s(V)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=gb(h),h.type="f",h)),C=Math.max(-8,Math.min(8,Math.floor(vy(g)/3)))*3,b=Math.pow(10,-C),E=Zq[8+C/3];return function(x){return v(b*x)+E}}return{format:u,formatPrefix:d}}var Dx,Qk,jJ;vTe({thousands:",",grouping:[3],currency:["$",""]});function vTe(n){return Dx=mTe(n),Qk=Dx.format,jJ=Dx.formatPrefix,Dx}function yTe(n){return Math.max(0,-vy(Math.abs(n)))}function wTe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vy(e)/3)))*3-vy(Math.abs(n)))}function bTe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,vy(e)-vy(n))+1}function WJ(n,e,t,i){var r=nQ(n,e,t),s;switch(i=gb(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=wTe(r,a))&&(i.precision=s),jJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=bTe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=yTe(r))&&(i.precision=s-(i.type==="%")*2);break}}return Qk(i)}function uf(n){var e=n.domain;return n.ticks=function(t){var i=e();return eQ(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return WJ(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=tQ(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function YJ(){var n=Nk();return n.copy=function(){return pE(n,YJ())},mo.apply(n,arguments),uf(n)}function XJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,jT),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return XJ(n).unknown(e)},n=arguments.length?Array.from(n,jT):[0,1],uf(t)}function JJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function e8(n){return Math.log(n)}function t8(n){return Math.exp(n)}function CTe(n){return-Math.log(-n)}function BTe(n){return-Math.exp(-n)}function ETe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function STe(n){return n===10?ETe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function xTe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function n8(n){return(e,t)=>-n(-e,t)}function kk(n){const e=n(e8,t8),t=e.domain;let i=10,r,s;function a(){return r=xTe(i),s=STe(i),t()[0]<0?(r=n8(r),s=n8(s),n(CTe,BTe)):n(e8,t8),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),C,b;const E=o==null?10:+o;let x=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(C=1;C<i;++C)if(b=g<0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;x.push(b)}}else for(;g<=v;++g)for(C=i-1;C>=1;--C)if(b=g>0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;x.push(b)}x.length*2<E&&(x=eQ(u,d,E))}else x=eQ(g,v,Math.min(v-g,E)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=gb(l)).precision==null&&(l.trim=!0),l=Qk(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t(JJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function ZJ(){const n=kk(SI()).domain([1,10]);return n.copy=()=>pE(n,ZJ()).base(n.base()),mo.apply(n,arguments),n}function i8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function r8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Ok(n){var e=1,t=n(i8(e),r8(e));return t.constant=function(i){return arguments.length?n(i8(e=+i),r8(e)):e},uf(t)}function e7(){var n=Ok(SI());return n.copy=function(){return pE(n,e7()).constant(n.constant())},mo.apply(n,arguments)}function s8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function _Te(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function TTe(n){return n<0?-n*n:n*n}function Hk(n){var e=n(As,As),t=1;function i(){return t===1?n(As,As):t===.5?n(_Te,TTe):n(s8(t),s8(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},uf(e)}function Vk(){var n=Hk(SI());return n.copy=function(){return pE(n,Vk()).exponent(n.exponent())},mo.apply(n,arguments),n}function ITe(){return Vk.apply(null,arguments).exponent(.5)}function a8(n){return Math.sign(n)*n*n}function FTe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function t7(){var n=Nk(),e=[0,1],t=!1,i;function r(s){var a=FTe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(a8(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,jT)).map(a8)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return t7(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},mo.apply(r,arguments),uf(r)}function n7(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=R_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[fE(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Jd),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return n7().domain(n).range(e).unknown(i)},mo.apply(s,arguments)}function i7(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[fE(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return i7().domain([n,e]).range(r).unknown(s)},mo.apply(uf(a),arguments)}function r7(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[fE(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return r7().domain(n).range(e).unknown(t)},mo.apply(r,arguments)}const eR=new Date,tR=new Date;function qi(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>qi(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(eR.setTime(+s),tR.setTime(+a),n(eR),n(tR),Math.floor(t(eR,tR))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const YT=qi(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);YT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?qi(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):YT);YT.range;const wu=1e3,oo=wu*60,bu=oo*60,Du=bu*24,Kk=Du*7,o8=Du*30,nR=Du*365,qf=qi(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*wu)},(n,e)=>(e-n)/wu,n=>n.getUTCSeconds());qf.range;const Gk=qi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*wu)},(n,e)=>{n.setTime(+n+e*oo)},(n,e)=>(e-n)/oo,n=>n.getMinutes());Gk.range;const zk=qi(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*oo)},(n,e)=>(e-n)/oo,n=>n.getUTCMinutes());zk.range;const qk=qi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*wu-n.getMinutes()*oo)},(n,e)=>{n.setTime(+n+e*bu)},(n,e)=>(e-n)/bu,n=>n.getHours());qk.range;const $k=qi(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*bu)},(n,e)=>(e-n)/bu,n=>n.getUTCHours());$k.range;const gE=qi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*oo)/Du,n=>n.getDate()-1);gE.range;const xI=qi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Du,n=>n.getUTCDate()-1);xI.range;const s7=qi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Du,n=>Math.floor(n/Du));s7.range;function Op(n){return qi(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oo)/Kk)}const _I=Op(0),XT=Op(1),MTe=Op(2),UTe=Op(3),yy=Op(4),PTe=Op(5),RTe=Op(6);_I.range;XT.range;MTe.range;UTe.range;yy.range;PTe.range;RTe.range;function Hp(n){return qi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Kk)}const TI=Hp(0),JT=Hp(1),DTe=Hp(2),NTe=Hp(3),wy=Hp(4),LTe=Hp(5),QTe=Hp(6);TI.range;JT.range;DTe.range;NTe.range;wy.range;LTe.range;QTe.range;const jk=qi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());jk.range;const Wk=qi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Wk.range;const Nu=qi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Nu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:qi(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Nu.range;const Lu=qi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Lu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:qi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Lu.range;function a7(n,e,t,i,r,s){const a=[[qf,1,wu],[qf,5,5*wu],[qf,15,15*wu],[qf,30,30*wu],[s,1,oo],[s,5,5*oo],[s,15,15*oo],[s,30,30*oo],[r,1,bu],[r,3,3*bu],[r,6,6*bu],[r,12,12*bu],[i,1,Du],[i,2,2*Du],[t,1,Kk],[e,1,o8],[e,3,3*o8],[n,1,nR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),C=v?v.range(u,+d+1):[];return g?C.reverse():C}function l(u,d,h){const g=Math.abs(d-u)/h,v=Fk(([,,E])=>E).right(a,g);if(v===a.length)return n.every(nQ(u/nR,d/nR,h));if(v===0)return YT.every(Math.max(nQ(u,d,h),1));const[C,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return C.every(b)}return[o,l]}const[kTe,OTe]=a7(Lu,Wk,TI,s7,$k,zk),[HTe,VTe]=a7(Nu,jk,_I,gE,qk,Gk);function iR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function rR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function W0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function KTe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=Y0(r),d=X0(r),h=Y0(s),g=X0(s),v=Y0(a),C=X0(a),b=Y0(o),E=X0(o),x=Y0(l),I=X0(l),T={a:$,A:re,b:de,B:Ce,c:null,d:f8,e:f8,f:d1e,g:C1e,G:E1e,H:l1e,I:u1e,j:c1e,L:o7,m:f1e,M:h1e,p:z,q:X,Q:g8,s:m8,S:p1e,u:g1e,U:m1e,V:v1e,w:y1e,W:w1e,x:null,X:null,y:b1e,Y:B1e,Z:S1e,"%":p8},R={a:oe,A:me,b:Se,B:_e,c:null,d:h8,e:h8,f:I1e,g:k1e,G:H1e,H:x1e,I:_1e,j:T1e,L:l7,m:F1e,M:M1e,p:Be,q:Je,Q:g8,s:m8,S:U1e,u:P1e,U:R1e,V:D1e,w:N1e,W:L1e,x:null,X:null,y:Q1e,Y:O1e,Z:V1e,"%":p8},P={a:K,A:V,b:q,B:J,c:te,d:c8,e:c8,f:s1e,g:u8,G:l8,H:d8,I:d8,j:t1e,L:r1e,m:e1e,M:n1e,p:k,q:ZTe,Q:o1e,s:A1e,S:i1e,u:jTe,U:WTe,V:YTe,w:$Te,W:XTe,x:he,X:G,y:u8,Y:l8,Z:JTe,"%":a1e};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(ie,Pe){return function(Ge){var ye=[],Nt=-1,Ze=0,Zt=ie.length,Lt,On,ut;for(Ge instanceof Date||(Ge=new Date(+Ge));++Nt<Zt;)ie.charCodeAt(Nt)===37&&(ye.push(ie.slice(Ze,Nt)),(On=A8[Lt=ie.charAt(++Nt)])!=null?Lt=ie.charAt(++Nt):On=Lt==="e"?" ":"0",(ut=Pe[Lt])&&(Lt=ut(Ge,On)),ye.push(Lt),Ze=Nt+1);return ye.push(ie.slice(Ze,Nt)),ye.join("")}}function Q(ie,Pe){return function(Ge){var ye=W0(1900,void 0,1),Nt=H(ye,ie,Ge+="",0),Ze,Zt;if(Nt!=Ge.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Pe&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ze=rR(W0(ye.y,0,1)),Zt=Ze.getUTCDay(),Ze=Zt>4||Zt===0?JT.ceil(Ze):JT(Ze),Ze=xI.offset(Ze,(ye.V-1)*7),ye.y=Ze.getUTCFullYear(),ye.m=Ze.getUTCMonth(),ye.d=Ze.getUTCDate()+(ye.w+6)%7):(Ze=iR(W0(ye.y,0,1)),Zt=Ze.getDay(),Ze=Zt>4||Zt===0?XT.ceil(Ze):XT(Ze),Ze=gE.offset(Ze,(ye.V-1)*7),ye.y=Ze.getFullYear(),ye.m=Ze.getMonth(),ye.d=Ze.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Zt="Z"in ye?rR(W0(ye.y,0,1)).getUTCDay():iR(W0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Zt+5)%7:ye.w+ye.U*7-(Zt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,rR(ye)):iR(ye)}}function H(ie,Pe,Ge,ye){for(var Nt=0,Ze=Pe.length,Zt=Ge.length,Lt,On;Nt<Ze;){if(ye>=Zt)return-1;if(Lt=Pe.charCodeAt(Nt++),Lt===37){if(Lt=Pe.charAt(Nt++),On=P[Lt in A8?Pe.charAt(Nt++):Lt],!On||(ye=On(ie,Ge,ye))<0)return-1}else if(Lt!=Ge.charCodeAt(ye++))return-1}return ye}function k(ie,Pe,Ge){var ye=u.exec(Pe.slice(Ge));return ye?(ie.p=d.get(ye[0].toLowerCase()),Ge+ye[0].length):-1}function K(ie,Pe,Ge){var ye=v.exec(Pe.slice(Ge));return ye?(ie.w=C.get(ye[0].toLowerCase()),Ge+ye[0].length):-1}function V(ie,Pe,Ge){var ye=h.exec(Pe.slice(Ge));return ye?(ie.w=g.get(ye[0].toLowerCase()),Ge+ye[0].length):-1}function q(ie,Pe,Ge){var ye=x.exec(Pe.slice(Ge));return ye?(ie.m=I.get(ye[0].toLowerCase()),Ge+ye[0].length):-1}function J(ie,Pe,Ge){var ye=b.exec(Pe.slice(Ge));return ye?(ie.m=E.get(ye[0].toLowerCase()),Ge+ye[0].length):-1}function te(ie,Pe,Ge){return H(ie,e,Pe,Ge)}function he(ie,Pe,Ge){return H(ie,t,Pe,Ge)}function G(ie,Pe,Ge){return H(ie,i,Pe,Ge)}function $(ie){return a[ie.getDay()]}function re(ie){return s[ie.getDay()]}function de(ie){return l[ie.getMonth()]}function Ce(ie){return o[ie.getMonth()]}function z(ie){return r[+(ie.getHours()>=12)]}function X(ie){return 1+~~(ie.getMonth()/3)}function oe(ie){return a[ie.getUTCDay()]}function me(ie){return s[ie.getUTCDay()]}function Se(ie){return l[ie.getUTCMonth()]}function _e(ie){return o[ie.getUTCMonth()]}function Be(ie){return r[+(ie.getUTCHours()>=12)]}function Je(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Pe=D(ie+="",T);return Pe.toString=function(){return ie},Pe},parse:function(ie){var Pe=Q(ie+="",!1);return Pe.toString=function(){return ie},Pe},utcFormat:function(ie){var Pe=D(ie+="",R);return Pe.toString=function(){return ie},Pe},utcParse:function(ie){var Pe=Q(ie+="",!0);return Pe.toString=function(){return ie},Pe}}}var A8={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,GTe=/^%/,zTe=/[\\^$*+?|[\]().{}]/g;function $t(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function qTe(n){return n.replace(zTe,"\\$&")}function Y0(n){return new RegExp("^(?:"+n.map(qTe).join("|")+")","i")}function X0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function $Te(n,e,t){var i=cr.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function jTe(n,e,t){var i=cr.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function WTe(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function YTe(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function XTe(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function l8(n,e,t){var i=cr.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function u8(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function JTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function ZTe(n,e,t){var i=cr.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function e1e(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function c8(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function t1e(n,e,t){var i=cr.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function d8(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function n1e(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function i1e(n,e,t){var i=cr.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function r1e(n,e,t){var i=cr.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function s1e(n,e,t){var i=cr.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function a1e(n,e,t){var i=GTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function o1e(n,e,t){var i=cr.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function A1e(n,e,t){var i=cr.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function f8(n,e){return $t(n.getDate(),e,2)}function l1e(n,e){return $t(n.getHours(),e,2)}function u1e(n,e){return $t(n.getHours()%12||12,e,2)}function c1e(n,e){return $t(1+gE.count(Nu(n),n),e,3)}function o7(n,e){return $t(n.getMilliseconds(),e,3)}function d1e(n,e){return o7(n,e)+"000"}function f1e(n,e){return $t(n.getMonth()+1,e,2)}function h1e(n,e){return $t(n.getMinutes(),e,2)}function p1e(n,e){return $t(n.getSeconds(),e,2)}function g1e(n){var e=n.getDay();return e===0?7:e}function m1e(n,e){return $t(_I.count(Nu(n)-1,n),e,2)}function A7(n){var e=n.getDay();return e>=4||e===0?yy(n):yy.ceil(n)}function v1e(n,e){return n=A7(n),$t(yy.count(Nu(n),n)+(Nu(n).getDay()===4),e,2)}function y1e(n){return n.getDay()}function w1e(n,e){return $t(XT.count(Nu(n)-1,n),e,2)}function b1e(n,e){return $t(n.getFullYear()%100,e,2)}function C1e(n,e){return n=A7(n),$t(n.getFullYear()%100,e,2)}function B1e(n,e){return $t(n.getFullYear()%1e4,e,4)}function E1e(n,e){var t=n.getDay();return n=t>=4||t===0?yy(n):yy.ceil(n),$t(n.getFullYear()%1e4,e,4)}function S1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$t(e/60|0,"0",2)+$t(e%60,"0",2)}function h8(n,e){return $t(n.getUTCDate(),e,2)}function x1e(n,e){return $t(n.getUTCHours(),e,2)}function _1e(n,e){return $t(n.getUTCHours()%12||12,e,2)}function T1e(n,e){return $t(1+xI.count(Lu(n),n),e,3)}function l7(n,e){return $t(n.getUTCMilliseconds(),e,3)}function I1e(n,e){return l7(n,e)+"000"}function F1e(n,e){return $t(n.getUTCMonth()+1,e,2)}function M1e(n,e){return $t(n.getUTCMinutes(),e,2)}function U1e(n,e){return $t(n.getUTCSeconds(),e,2)}function P1e(n){var e=n.getUTCDay();return e===0?7:e}function R1e(n,e){return $t(TI.count(Lu(n)-1,n),e,2)}function u7(n){var e=n.getUTCDay();return e>=4||e===0?wy(n):wy.ceil(n)}function D1e(n,e){return n=u7(n),$t(wy.count(Lu(n),n)+(Lu(n).getUTCDay()===4),e,2)}function N1e(n){return n.getUTCDay()}function L1e(n,e){return $t(JT.count(Lu(n)-1,n),e,2)}function Q1e(n,e){return $t(n.getUTCFullYear()%100,e,2)}function k1e(n,e){return n=u7(n),$t(n.getUTCFullYear()%100,e,2)}function O1e(n,e){return $t(n.getUTCFullYear()%1e4,e,4)}function H1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?wy(n):wy.ceil(n),$t(n.getUTCFullYear()%1e4,e,4)}function V1e(){return"+0000"}function p8(){return"%"}function g8(n){return+n}function m8(n){return Math.floor(+n/1e3)}var Mg,c7,d7;K1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K1e(n){return Mg=KTe(n),c7=Mg.format,Mg.parse,d7=Mg.utcFormat,Mg.utcParse,Mg}function G1e(n){return new Date(n)}function z1e(n){return n instanceof Date?+n:+new Date(+n)}function Yk(n,e,t,i,r,s,a,o,l,u){var d=Nk(),h=d.invert,g=d.domain,v=u(".%L"),C=u(":%S"),b=u("%I:%M"),E=u("%I %p"),x=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function P(D){return(l(D)<D?v:o(D)<D?C:a(D)<D?b:s(D)<D?E:i(D)<D?r(D)<D?x:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,z1e)):g().map(G1e)},d.ticks=function(D){var Q=g();return n(Q[0],Q[Q.length-1],D??10)},d.tickFormat=function(D,Q){return Q==null?P:u(Q)},d.nice=function(D){var Q=g();return(!D||typeof D.range!="function")&&(D=e(Q[0],Q[Q.length-1],D??10)),D?g(JJ(Q,D)):d},d.copy=function(){return pE(d,Yk(n,e,t,i,r,s,a,o,l,u))},d}function q1e(){return mo.apply(Yk(HTe,VTe,Nu,jk,_I,gE,qk,Gk,qf,c7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $1e(){return mo.apply(Yk(kTe,OTe,Lu,Wk,TI,xI,$k,zk,qf,d7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function II(){var n=0,e=1,t,i,r,s,a=As,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,C;return arguments.length?([v,C]=g,a=h(v,C),u):[a(0),a(1)]}}return u.range=d(Uy),u.rangeRound=d(Dk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function cf(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function f7(){var n=uf(II()(As));return n.copy=function(){return cf(n,f7())},ju.apply(n,arguments)}function h7(){var n=kk(II()).domain([1,10]);return n.copy=function(){return cf(n,h7()).base(n.base())},ju.apply(n,arguments)}function p7(){var n=Ok(II());return n.copy=function(){return cf(n,p7()).constant(n.constant())},ju.apply(n,arguments)}function Xk(){var n=Hk(II());return n.copy=function(){return cf(n,Xk()).exponent(n.exponent())},ju.apply(n,arguments)}function j1e(){return Xk.apply(null,arguments).exponent(.5)}function g7(){var n=[],e=As;function t(i){if(i!=null&&!isNaN(i=+i))return e((fE(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Jd),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>P_e(n,s/i))},t.copy=function(){return g7(e).domain(n)},ju.apply(t,arguments)}function FI(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=As,d,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(i*b<i*s?o:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([n,e,t]=b,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function C(b){return function(E){var x,I,T;return arguments.length?([x,I,T]=E,u=aTe(b,[x,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=C(Uy),v.rangeRound=C(Dk),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,r=b(n),s=b(e),a=b(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function m7(){var n=uf(FI()(As));return n.copy=function(){return cf(n,m7())},ju.apply(n,arguments)}function v7(){var n=kk(FI()).domain([.1,1,10]);return n.copy=function(){return cf(n,v7()).base(n.base())},ju.apply(n,arguments)}function y7(){var n=Ok(FI());return n.copy=function(){return cf(n,y7()).constant(n.constant())},ju.apply(n,arguments)}function Jk(){var n=Hk(FI());return n.copy=function(){return cf(n,Jk()).exponent(n.exponent())},ju.apply(n,arguments)}function W1e(){return Jk.apply(null,arguments).exponent(.5)}const Dw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uk,scaleDiverging:m7,scaleDivergingLog:v7,scaleDivergingPow:Jk,scaleDivergingSqrt:W1e,scaleDivergingSymlog:y7,scaleIdentity:XJ,scaleImplicit:iQ,scaleLinear:YJ,scaleLog:ZJ,scaleOrdinal:Mk,scalePoint:N_e,scalePow:Vk,scaleQuantile:n7,scaleQuantize:i7,scaleRadial:t7,scaleSequential:f7,scaleSequentialLog:h7,scaleSequentialPow:Xk,scaleSequentialQuantile:g7,scaleSequentialSqrt:j1e,scaleSequentialSymlog:p7,scaleSqrt:ITe,scaleSymlog:e7,scaleThreshold:r7,scaleTime:q1e,scaleUtc:$1e,tickFormat:WJ},Symbol.toStringTag,{value:"Module"}));var df=n=>n.chartData,Y1e=Ae([df],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Zk=(n,e,t,i)=>i?Y1e(n):df(n);function sf(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Ci(e)&&Ci(t))return!0}return!1}function v8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function w7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(Ci(t))r=t;else if(typeof t=="function")return;if(Ci(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(sf(a))return a}}function X1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(sf(i))return v8(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(st(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&$5.test(r)){var l=$5.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(st(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&j5.test(s)){var d=j5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(sf(g))return e==null?g:v8(g,e,t)}}}var Py=1e9,J1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tO,jn=!0,po="[DecimalError] ",Sp=po+"Invalid argument: ",eO=po+"Exponent out of range: ",Ry=Math.floor,kf=Math.pow,Z1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,va,or=1e7,Qn=7,b7=9007199254740991,ZT=Ry(b7/Qn),He={};He.absoluteValue=He.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};He.comparedTo=He.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};He.decimalPlaces=He.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Qn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};He.dividedBy=He.div=function(n){return Su(this,new this.constructor(n))};He.dividedToIntegerBy=He.idiv=function(n){var e=this,t=e.constructor;return Sn(Su(e,new t(n),0,1),t.precision)};He.equals=He.eq=function(n){return!this.cmp(n)};He.exponent=function(){return Ni(this)};He.greaterThan=He.gt=function(n){return this.cmp(n)>0};He.greaterThanOrEqualTo=He.gte=function(n){return this.cmp(n)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(n){return this.cmp(n)<0};He.lessThanOrEqualTo=He.lte=function(n){return this.cmp(n)<1};He.logarithm=He.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(va))throw Error(po+"NaN");if(t.s<1)throw Error(po+(t.s?"NaN":"-Infinity"));return t.eq(va)?new i(0):(jn=!1,e=Su(mb(t,s),mb(n,s),s),jn=!0,Sn(e,r))};He.minus=He.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?E7(e,n):C7(e,(n.s=-n.s,n))};He.modulo=He.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(po+"NaN");return t.s?(jn=!1,e=Su(t,n,0,1).times(n),jn=!0,t.minus(e)):Sn(new i(t),r)};He.naturalExponential=He.exp=function(){return B7(this)};He.naturalLogarithm=He.ln=function(){return mb(this)};He.negated=He.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};He.plus=He.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?C7(e,n):E7(e,(n.s=-n.s,n))};He.precision=He.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Sp+n);if(e=Ni(r)+1,i=r.d.length-1,t=i*Qn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};He.squareRoot=He.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(po+"NaN")}for(n=Ni(o),jn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=kA(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=Ry((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(Su(o,s,a+2)).times(.5),kA(s.d).slice(0,a)===(e=kA(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(Sn(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return jn=!0,Sn(i,t)};He.times=He.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%or|0,e=o/or|0;s[r]=(s[r]+e)%or|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,jn?Sn(n,h.precision):n};He.toDecimalPlaces=He.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(KA(n,0,Py),e===void 0?e=i.rounding:KA(e,0,8),Sn(t,n+Ni(t)+1,e))};He.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=Up(i,!0):(KA(n,0,Py),e===void 0?e=r.rounding:KA(e,0,8),i=Sn(new r(i),n+1,e),t=Up(i,!0,n+1)),t};He.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?Up(r):(KA(n,0,Py),e===void 0?e=s.rounding:KA(e,0,8),i=Sn(new s(r),n+Ni(r)+1,e),t=Up(i.abs(),!1,n+Ni(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};He.toInteger=He.toint=function(){var n=this,e=n.constructor;return Sn(new e(n),Ni(n)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(va);if(o=new l(o),!o.s){if(n.s<1)throw Error(po+"Infinity");return o}if(o.eq(va))return o;if(i=l.precision,n.eq(va))return Sn(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=b7){for(r=new l(va),e=Math.ceil(i/Qn+4),jn=!1;t%2&&(r=r.times(o),w8(r.d,e)),t=Ry(t/2),t!==0;)o=o.times(o),w8(o.d,e);return jn=!0,n.s<0?new l(va).div(r):Sn(r,i)}}else if(s<0)throw Error(po+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,jn=!1,r=n.times(mb(o,i+u)),jn=!0,r=B7(r),r.s=s,r};He.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=Ni(r),i=Up(r,t<=s.toExpNeg||t>=s.toExpPos)):(KA(n,1,Py),e===void 0?e=s.rounding:KA(e,0,8),r=Sn(new s(r),n,e),t=Ni(r),i=Up(r,n<=t||t<=s.toExpNeg,n)),i};He.toSignificantDigits=He.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(KA(n,1,Py),e===void 0?e=i.rounding:KA(e,0,8)),Sn(new i(t),n,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Ni(n),t=n.constructor;return Up(n,e<=t.toExpNeg||e>=t.toExpPos)};function C7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),jn?Sn(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/Qn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/or|0,l[s]%=or;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,jn?Sn(e,h):e}function KA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Sp+n)}function kA(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=Qn-i.length,t&&(s+=Mc(t)),s+=i;a=n[e],i=a+"",t=Qn-i.length,t&&(s+=Mc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Su=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%or|0,a=s/or|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*or+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,C,b,E,x,I,T,R,P,D,Q,H,k=i.constructor,K=i.s==r.s?1:-1,V=i.d,q=r.d;if(!i.s)return new k(i);if(!r.s)throw Error(po+"Division by zero");for(l=i.e-r.e,Q=q.length,P=V.length,v=new k(K),C=v.d=[],u=0;q[u]==(V[u]||0);)++u;if(q[u]>(V[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Ni(i)-Ni(r))+1:I=s,I<0)return new k(0);if(I=I/Qn+2|0,u=0,Q==1)for(d=0,q=q[0],I++;(u<P||d)&&I--;u++)T=d*or+(V[u]||0),C[u]=T/q|0,d=T%q|0;else{for(d=or/(q[0]+1)|0,d>1&&(q=n(q,d),V=n(V,d),Q=q.length,P=V.length),R=Q,b=V.slice(0,Q),E=b.length;E<Q;)b[E++]=0;H=q.slice(),H.unshift(0),D=q[0],q[1]>=or/2&&++D;do d=0,o=e(q,b,Q,E),o<0?(x=b[0],Q!=E&&(x=x*or+(b[1]||0)),d=x/D|0,d>1?(d>=or&&(d=or-1),h=n(q,d),g=h.length,E=b.length,o=e(h,b,g,E),o==1&&(d--,t(h,Q<g?H:q,g))):(d==0&&(o=d=1),h=q.slice()),g=h.length,g<E&&h.unshift(0),t(b,h,E),o==-1&&(E=b.length,o=e(q,b,Q,E),o<1&&(d++,t(b,Q<E?H:q,E))),E=b.length):o===0&&(d++,b=[0]),C[u++]=d,o&&b[0]?b[E++]=V[R]||0:(b=[V[R]],E=1);while((R++<P||b[0]!==void 0)&&I--)}return C[0]||C.shift(),v.e=l,Sn(v,a?s+Ni(v)+1:s)}})();function B7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Ni(n)>16)throw Error(eO+Ni(n));if(!n.s)return new d(va);for(jn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(kf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(va),d.precision=o;;){if(r=Sn(r.times(n),o),t=t.times(++l),a=s.plus(Su(r,t,o)),kA(a.d).slice(0,o)===kA(s.d).slice(0,o)){for(;u--;)s=Sn(s.times(s),o);return d.precision=h,e==null?(jn=!0,Sn(s,h)):s}s=a}}function Ni(n){for(var e=n.e*Qn,t=n.d[0];t>=10;t/=10)e++;return e}function sR(n,e,t){if(e>n.LN10.sd())throw jn=!0,t&&(n.precision=t),Error(po+"LN10 precision limit exceeded");return Sn(new n(n.LN10),e)}function Mc(n){for(var e="";n--;)e+="0";return e}function mb(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,C=v.d,b=v.constructor,E=b.precision;if(v.s<1)throw Error(po+(v.s?"NaN":"-Infinity"));if(v.eq(va))return new b(0);if(e==null?(jn=!1,u=E):u=e,v.eq(10))return e==null&&(jn=!0),sR(b,u);if(u+=g,b.precision=u,t=kA(C),i=t.charAt(0),s=Ni(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=kA(v.d),i=t.charAt(0),h++;s=Ni(v),i>1?(v=new b("0."+t),s++):v=new b(i+"."+t.slice(1))}else return l=sR(b,u+2,E).times(s+""),v=mb(new b(i+"."+t.slice(1)),u-g).plus(l),b.precision=E,e==null?(jn=!0,Sn(v,E)):v;for(o=a=v=Su(v.minus(va),v.plus(va),u),d=Sn(v.times(v),u),r=3;;){if(a=Sn(a.times(d),u),l=o.plus(Su(a,new b(r),u)),kA(l.d).slice(0,u)===kA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(sR(b,u+2,E).times(s+""))),o=Su(o,new b(h),u),b.precision=E,e==null?(jn=!0,Sn(o,E)):o;o=l,r+=2}}function y8(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=Ry(t/Qn),n.d=[],i=(t+1)%Qn,t<0&&(i+=Qn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=Qn;i<r;)n.d.push(+e.slice(i,i+=Qn));e=e.slice(i),i=Qn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),jn&&(n.e>ZT||n.e<-ZT))throw Error(eO+t)}else n.s=0,n.e=0,n.d=[0];return n}function Sn(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=Qn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/Qn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=Qn,r=i-Qn+a}if(t!==void 0&&(s=kf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/kf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Ni(n),h.length=1,e=e-s-1,h[0]=kf(10,(Qn-e%Qn)%Qn),n.e=Ry(-e/Qn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=kf(10,Qn-i),h[d]=r>0?(u/kf(10,a-r)%kf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==or&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=or)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(jn&&(n.e>ZT||n.e<-ZT))throw Error(eO+Ni(n));return n}function E7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),jn?Sn(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/Qn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=or-1;--l[s],l[r]+=or}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,jn?Sn(e,v):e):new g(0)}function Up(n,e,t){var i,r=Ni(n),s=kA(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+Mc(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Mc(-r-1)+s,t&&(i=t-a)>0&&(s+=Mc(i))):r>=a?(s+=Mc(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+Mc(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=Mc(i))),n.s<0?"-"+s:s}function w8(n,e){if(n.length>e)return n.length=e,!0}function S7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Sp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return y8(a,s.toString())}else if(typeof s!="string")throw Error(Sp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Z1e.test(s))y8(a,s);else throw Error(Sp+s)}if(r.prototype=He,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=S7,r.config=r.set=eIe,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function eIe(n){if(!n||typeof n!="object")throw Error(po+"Object expected");var e,t,i,r=["precision",1,Py,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(Ry(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(Sp+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(Sp+t+": "+i);return this}var tO=S7(J1e);va=new tO(1);const sn=tO;var tIe=n=>n,x7={},_7=n=>n===x7,b8=n=>function e(){return arguments.length===0||arguments.length===1&&_7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},T7=(n,e)=>n===1?e:b8(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==x7).length;return s>=n?e(...i):T7(n-s,b8(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>_7(d)?o.shift():d);return e(...u,...o)}))}),nIe=n=>T7(n.length,n),oQ=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},iIe=nIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),rIe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return tIe;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},AQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function I7(n){var e;return n===0?e=1:e=Math.floor(new sn(n).abs().log(10).toNumber())+1,e}function F7(n,e,t){for(var i=new sn(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var M7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},U7=(n,e,t)=>{if(n.lte(0))return new sn(0);var i=I7(n.toNumber()),r=new sn(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new sn(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new sn(l.toNumber()):new sn(Math.ceil(l.toNumber()))},sIe=(n,e,t)=>{var i=new sn(1),r=new sn(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new sn(10).pow(I7(n)-1),r=new sn(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new sn(Math.floor(n)))}else n===0?r=new sn(Math.floor((e-1)/2)):t||(r=new sn(Math.floor(n)));var a=Math.floor((e-1)/2),o=rIe(iIe(l=>r.add(new sn(l-a).mul(i)).toNumber()),oQ);return o(0,e)},P7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var a=U7(new sn(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new sn(0):(o=new sn(e).add(t).div(2),o=o.sub(new sn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new sn(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?P7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new sn(l).mul(a)),tickMax:o.add(new sn(u).mul(a))})},aIe=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=M7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...oQ(0,r-1).map(()=>1/0)]:[...oQ(0,r-1).map(()=>-1/0),l];return t>i?AQ(u):u}if(o===l)return sIe(o,r,s);var{step:d,tickMin:h,tickMax:g}=P7(o,l,a,s,0),v=F7(h,g.add(new sn(.1).mul(d)),d);return t>i?AQ(v):v},oIe=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=M7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=U7(new sn(o).sub(a).div(l-1),s,0),d=[...F7(new sn(a),new sn(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?AQ(d):d},R7=n=>n.rootProps.maxBarSize,AIe=n=>n.rootProps.barGap,D7=n=>n.rootProps.barCategoryGap,lIe=n=>n.rootProps.barSize,MI=n=>n.rootProps.stackOffset,N7=n=>n.rootProps.reverseStackOrder,nO=n=>n.options.chartName,iO=n=>n.rootProps.syncId,L7=n=>n.rootProps.syncMethod,rO=n=>n.options.eventEmitter,Ls={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},UI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},uIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mu.angleAxisId,includeHidden:!1,name:void 0,reversed:mu.reversed,scale:mu.scale,tick:mu.tick,tickCount:void 0,ticks:void 0,type:mu.type,unit:void 0},cIe={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:ga.type,unit:void 0},dIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mu.scale,tick:mu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fIe={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:"category",unit:void 0},sO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?dIe:uIe,aO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?fIe:cIe,PI=n=>n.polarOptions,oO=Ae([qu,$u,ur],o_e),Q7=Ae([PI,oO],(n,e)=>{if(n!=null)return zo(n.innerRadius,e,0)}),k7=Ae([PI,oO],(n,e)=>{if(n!=null)return zo(n.outerRadius,e,e*.8)}),hIe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},O7=Ae([PI],hIe);Ae([sO,O7],UI);var H7=Ae([oO,Q7,k7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Ae([aO,H7],UI);var V7=Ae([an,PI,Q7,k7,qu,$u],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:zo(a,r,r/2),cy:zo(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),$i=(n,e)=>e,RI=(n,e,t)=>t;function AO(n){return n==null?void 0:n.id}function K7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=AO(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Wr(h,s,null)),C=Wr(h,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:C}),a.set(v,b)})}}),Array.from(a.values())}function DI(n){return n.stackId!=null&&n.dataKey!=null}var NI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function LI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function pIe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var ji=n=>{var e=an(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dy=n=>n.tooltip.settings.axisId;function C8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function e1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(t),!0).forEach(function(i){gIe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gIe(n,e,t){return(e=mIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mIe(n){var e=vIe(n,"string");return typeof e=="symbol"?e:e+""}function vIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lQ=[0,"auto"],Ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G7=(n,e)=>n.cartesianAxis.xAxis[e],Wu=(n,e)=>{var t=G7(n,e);return t??Ji},Zi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uE},z7=(n,e)=>n.cartesianAxis.yAxis[e],Yu=(n,e)=>{var t=z7(n,e);return t??Zi},yIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??yIe},ds=(n,e,t)=>{switch(e){case"xAxis":return Wu(n,t);case"yAxis":return Yu(n,t);case"zAxis":return lO(n,t);case"angleAxis":return sO(n,t);case"radiusAxis":return aO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},wIe=(n,e,t)=>{switch(e){case"xAxis":return Wu(n,t);case"yAxis":return Yu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},mE=(n,e,t)=>{switch(e){case"xAxis":return Wu(n,t);case"yAxis":return Yu(n,t);case"angleAxis":return sO(n,t);case"radiusAxis":return aO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},q7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function $7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var uO=n=>n.graphicalItems.cartesianItems,bIe=Ae([$i,RI],$7),j7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),vE=Ae([uO,ds,bIe],j7,{memoizeOptions:{resultEqualityCheck:LI}}),W7=Ae([vE],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(DI)),Y7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),CIe=Ae([vE],Y7),X7=n=>n.map(e=>e.data).filter(Boolean).flat(1),BIe=Ae([vE],X7,{memoizeOptions:{resultEqualityCheck:LI}}),J7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},cO=Ae([BIe,Zk],J7),Z7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Wr(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Wr(r,i)}))):n.map(i=>({value:i})),QI=Ae([cO,ds,vE],Z7);function eZ(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function q_(n){if(VA(n)||n instanceof Date){var e=Number(n);if(Ci(e))return e}}function B8(n){if(Array.isArray(n)){var e=[q_(n[0]),q_(n[1])];return sf(e)?e:void 0}var t=q_(n);if(t!=null)return[t,t]}function Qu(n){return n.map(q_).filter(ICe)}function EIe(n,e,t){return!t||typeof e!="number"||HA(e)?[]:t.length?Qu(t.flatMap(i=>{var r=Wr(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!Ci(s)||!Ci(a)))return[e-s,e+a]})):[]}var Wi=n=>{var e=ji(n),t=Dy(n);return mE(n,e,t)},yE=Ae([Wi],n=>n==null?void 0:n.dataKey),SIe=Ae([W7,Zk,Wi],K7),tZ=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(AO);return[o,{stackedData:WEe(n,d,t),graphicalItems:u}]}))},uQ=Ae([SIe,W7,MI,N7],tZ),nZ=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=eSe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},xIe=Ae([ds],n=>n.allowDataOverflow),dO=n=>{var e;if(n==null||!("domain"in n))return lQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Qu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:lQ},iZ=Ae([ds],dO),rZ=Ae([iZ,xIe],w7),_Ie=Ae([uQ,df,$i,rZ],nZ,{memoizeOptions:{resultEqualityCheck:NI}}),fO=n=>n.errorBars,TIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>eZ(t,i)),t1=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},sZ=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(x=>eZ(r,x)),g=Wr(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=EIe(o,g,h);if(v.length>=2){var C=Math.min(...v),b=Math.max(...v);(s==null||C<s)&&(s=C),(a==null||b>a)&&(a=b)}var E=B8(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=B8(Wr(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Ci(s)&&Ci(a))return[s,a]},IIe=Ae([cO,ds,CIe,fO,$i],sZ,{memoizeOptions:{resultEqualityCheck:NI}});function FIe(n){var{value:e}=n;if(VA(e)||e instanceof Date)return e}var MIe=(n,e,t)=>{var i=n.map(FIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&B9(i))?kJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},aZ=n=>n.referenceElements.dots,Ny=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),UIe=Ae([aZ,$i,RI],Ny),oZ=n=>n.referenceElements.areas,PIe=Ae([oZ,$i,RI],Ny),AZ=n=>n.referenceElements.lines,RIe=Ae([AZ,$i,RI],Ny),lZ=(n,e)=>{var t=Qu(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},DIe=Ae(UIe,$i,lZ),uZ=(n,e)=>{var t=Qu(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},NIe=Ae([PIe,$i],uZ);function LIe(n){var e;if(n.x!=null)return Qu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Qu(t)}function QIe(n){var e;if(n.y!=null)return Qu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Qu(t)}var cZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?LIe(i):QIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},kIe=Ae([RIe,$i],cZ),OIe=Ae(DIe,kIe,NIe,(n,e,t)=>t1(n,t,e)),dZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?t1(i,s,r):t1(s,r);return X1e(e,u,n.allowDataOverflow)},HIe=Ae([ds,iZ,rZ,_Ie,IIe,OIe,an,$i],dZ,{memoizeOptions:{resultEqualityCheck:NI}}),VIe=[0,1],fZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=kp(e,s);if(u&&o==null){var d;return kJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?MIe(i,n,u):r==="expand"?VIe:a}},hO=Ae([ds,an,cO,QI,MI,$i,HIe],fZ),hZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(sE(s));return o in Dw?o:"point"}}},wE=Ae([ds,an,q7,nO,$i],hZ);function KIe(n){if(n!=null){if(n in Dw)return Dw[n]();var e="scale".concat(sE(n));if(e in Dw)return Dw[e]()}}function pO(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=KIe(e);if(r!=null){var s=r.domain(t).range(i);return GEe(s),s}}}var pZ=(n,e,t)=>{var i=dO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&sf(n))return aIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&sf(n))return oIe(n,e.tickCount,e.allowDecimals)}},gO=Ae([hO,mE,wE],pZ),gZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&sf(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},GIe=Ae([ds,hO,gO,$i],gZ),zIe=Ae(QI,ds,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Qu(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),mZ=Ae(zIe,an,D7,ur,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!Ci(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=zo(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),qIe=(n,e)=>{var t=Wu(n,e);return t==null||typeof t.padding!="string"?0:mZ(n,"xAxis",e,t.padding)},$Ie=(n,e)=>{var t=Yu(n,e);return t==null||typeof t.padding!="string"?0:mZ(n,"yAxis",e,t.padding)},jIe=Ae(Wu,qIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),WIe=Ae(Yu,$Ie,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),YIe=Ae([ur,jIe,vI,mI,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),XIe=Ae([ur,an,WIe,vI,mI,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),bE=(n,e,t,i)=>{var r;switch(e){case"xAxis":return YIe(n,t,i);case"yAxis":return XIe(n,t,i);case"zAxis":return(r=lO(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return O7(n);case"radiusAxis":return H7(n,t);default:return}},vZ=Ae([ds,bE],UI),Ly=Ae([ds,wE,GIe,vZ],pO);Ae([vE,fO,$i],TIe);function yZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var kI=(n,e)=>e,OI=(n,e,t)=>t,JIe=Ae(pI,kI,OI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(yZ)),ZIe=Ae(gI,kI,OI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(yZ)),wZ=(n,e)=>({width:n.width,height:e.height}),eFe=(n,e)=>{var t=typeof e.width=="number"?e.width:uE;return{width:t,height:n.height}},bZ=Ae(ur,Wu,wZ),tFe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},nFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},iFe=Ae($u,ur,JIe,kI,OI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=wZ(e,o);a==null&&(a=tFe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),rFe=Ae(qu,ur,ZIe,kI,OI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=eFe(e,o);a==null&&(a=nFe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),sFe=(n,e)=>{var t=Wu(n,e);if(t!=null)return iFe(n,t.orientation,t.mirror)},aFe=Ae([ur,Wu,sFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),oFe=(n,e)=>{var t=Yu(n,e);if(t!=null)return rFe(n,t.orientation,t.mirror)},AFe=Ae([ur,Yu,oFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),CZ=Ae(ur,Yu,(n,e)=>{var t=typeof e.width=="number"?e.width:uE;return{width:t,height:n.height}}),E8=(n,e,t)=>{switch(e){case"xAxis":return bZ(n,t).width;case"yAxis":return CZ(n,t).height;default:return}},BZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=kp(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&B9(l))return l}},mO=Ae([an,QI,ds,$i],BZ),EZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=kp(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},vO=Ae([an,QI,mE,$i],EZ);Ae([an,wIe,wE,Ly,mO,vO,bE,gO,$i],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=kp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var lFe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=kp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,C=d==="category"&&i.bandwidth?i.bandwidth()/v:0;C=l==="angleAxis"&&s!=null&&s.length>=2?ya(s[0]-s[1])*2*C:C;var b=h||r;if(b){var E=b.map((x,I)=>{var T=a?a.indexOf(x):x;return{index:I,coordinate:i(T)+C,value:x,offset:C}});return E.filter(x=>Ci(x.coordinate))}return u&&o?o.map((x,I)=>({coordinate:i(x)+C,value:x,index:I,offset:C})).filter(x=>Ci(x.coordinate)):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+C,value:x,offset:C})):i.domain().map((x,I)=>({coordinate:i(x)+C,value:a?a[x]:x,index:I,offset:C}))}},SZ=Ae([an,mE,wE,Ly,gO,bE,mO,vO,$i],lFe),uFe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=kp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?ya(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},by=Ae([an,mE,Ly,bE,mO,vO,$i],uFe),Cy=Ae(ds,Ly,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})}),cFe=Ae([ds,wE,hO,vZ],pO);Ae((n,e,t)=>lO(n,t),cFe,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})});var dFe=Ae([an,pI,gI],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xZ=n=>n.options.defaultTooltipEventType,_Z=n=>n.options.validateTooltipEventTypes;function TZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function yO(n,e){var t=xZ(n),i=_Z(n);return TZ(e,t,i)}function fFe(n){return nt(e=>yO(e,n))}var IZ=(n,e)=>{var t,i=Number(e);if(!(HA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},hFe=n=>n.tooltip.settings,Dc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pFe={itemInteraction:{click:Dc,hover:Dc},axisInteraction:{click:Dc,hover:Dc},keyboardInteraction:Dc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FZ=Qs({name:"tooltip",initialState:pFe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:$n()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Go(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:$n()},removeTooltipEntrySettings:{reducer(n,e){var t=Go(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:$n()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:gFe,replaceTooltipEntrySettings:mFe,removeTooltipEntrySettings:vFe,setTooltipSettingsState:yFe,setActiveMouseOverItemIndex:MZ,mouseLeaveItem:wFe,mouseLeaveChart:UZ,setActiveClickItemIndex:bFe,setMouseOverAxisIndex:PZ,setMouseClickAxisIndex:CFe,setSyncInteraction:cQ,setKeyboardInteraction:dQ}=FZ.actions,BFe=FZ.reducer;function S8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(i){EFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EFe(n,e,t){return(e=SFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SFe(n){var e=xFe(n,"string");return typeof e=="symbol"?e:e+""}function xFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Fe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function TFe(n){return n.index!=null}var RZ=(n,e,t,i)=>{if(e==null)return Dc;var r=_Fe(n,e,t);if(r==null)return Dc;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(TFe(r)){if(s)return Nx(Nx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return Nx(Nx({},Dc),{},{coordinate:r.coordinate})};function IFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function FFe(n,e){var t=IFe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function MFe(n,e,t){if(t==null||e==null)return!0;var i=Wr(n,e);return i==null||!sf(t)?!0:FFe(i,t)}var wO=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!Ci(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||MFe(u,t,i)?String(l):null},DZ=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},NZ=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},CE=n=>n.options.tooltipPayloadSearcher,Qy=n=>n.tooltip;function x8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(t),!0).forEach(function(i){UFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UFe(n,e,t){return(e=PFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PFe(n){var e=RFe(n,"string");return typeof e=="symbol"?e:e+""}function RFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DFe(n,e){return n??e}var LZ=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var C,{dataDefinedOnItem:b,settings:E}=v,x=DFe(b,o),I=Array.isArray(x)?pJ(x,u,d):x,T=(C=E==null?void 0:E.dataKey)!==null&&C!==void 0?C:i,R=E==null?void 0:E.nameKey,P;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?P=TCe(I,i,r):P=s(I,e,l,R),Array.isArray(P))P.forEach(Q=>{var H=_8(_8({},E),{},{name:Q.name,unit:Q.unit,color:void 0,fill:void 0});g.push(W5({tooltipEntrySettings:H,dataKey:Q.dataKey,payload:Q.payload,value:Wr(Q.payload,Q.dataKey),name:Q.name}))});else{var D;g.push(W5({tooltipEntrySettings:E,dataKey:T,payload:P,value:Wr(P,T),name:(D=Wr(P,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},bO=Ae([Wi,an,q7,nO,ji],hZ),NFe=Ae([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),LFe=Ae([ji,Dy],$7),BE=Ae([NFe,Wi,LFe],j7,{memoizeOptions:{resultEqualityCheck:LI}}),QFe=Ae([BE],n=>n.filter(DI)),kFe=Ae([BE],X7,{memoizeOptions:{resultEqualityCheck:LI}}),ky=Ae([kFe,df],J7),OFe=Ae([QFe,df,Wi],K7),CO=Ae([ky,Wi,BE],Z7),QZ=Ae([Wi],dO),HFe=Ae([Wi],n=>n.allowDataOverflow),kZ=Ae([QZ,HFe],w7),VFe=Ae([BE],n=>n.filter(DI)),KFe=Ae([OFe,VFe,MI,N7],tZ),GFe=Ae([KFe,df,ji,kZ],nZ),zFe=Ae([BE],Y7),qFe=Ae([ky,Wi,zFe,fO,ji],sZ,{memoizeOptions:{resultEqualityCheck:NI}}),$Fe=Ae([aZ,ji,Dy],Ny),jFe=Ae([$Fe,ji],lZ),WFe=Ae([oZ,ji,Dy],Ny),YFe=Ae([WFe,ji],uZ),XFe=Ae([AZ,ji,Dy],Ny),JFe=Ae([XFe,ji],cZ),ZFe=Ae([jFe,JFe,YFe],t1),eMe=Ae([Wi,QZ,kZ,GFe,qFe,ZFe,an,ji],dZ),EE=Ae([Wi,an,ky,CO,MI,ji,eMe],fZ),tMe=Ae([EE,Wi,bO],pZ),nMe=Ae([Wi,EE,tMe,ji],gZ),OZ=n=>{var e=ji(n),t=Dy(n),i=!1;return bE(n,e,t,i)},HZ=Ae([Wi,OZ],UI),VZ=Ae([Wi,bO,nMe,HZ],pO),iMe=Ae([an,CO,Wi,ji],BZ),rMe=Ae([an,CO,Wi,ji],EZ),sMe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=kp(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?ya(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Xu=Ae([an,Wi,bO,VZ,OZ,iMe,rMe,ji],sMe),BO=Ae([xZ,_Z,hFe],(n,e,t)=>TZ(t.shared,n,e)),KZ=n=>n.tooltip.settings.trigger,EO=n=>n.tooltip.settings.defaultIndex,SE=Ae([Qy,BO,KZ,EO],RZ),By=Ae([SE,ky,yE,EE],wO),GZ=Ae([Xu,By],IZ),zZ=Ae([SE],n=>{if(n)return n.dataKey});Ae([SE],n=>{if(n)return n.graphicalItemId});var qZ=Ae([Qy,BO,KZ,EO],NZ),aMe=Ae([qu,$u,an,ur,Xu,EO,qZ,CE],DZ),oMe=Ae([SE,aMe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),AMe=Ae([SE],n=>n.active),lMe=Ae([qZ,By,df,yE,GZ,CE,BO],LZ);Ae([lMe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function T8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function I8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(i){uMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uMe(n,e,t){return(e=cMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cMe(n){var e=dMe(n,"string");return typeof e=="symbol"?e:e+""}function dMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fMe=()=>nt(Wi),hMe=()=>{var n=fMe(),e=nt(Xu),t=nt(VZ);return DT(!n||!t?void 0:I8(I8({},n),{},{scale:t}),e)};function F8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ug(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(t),!0).forEach(function(i){pMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pMe(n,e,t){return(e=gMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gMe(n){var e=mMe(n,"string");return typeof e=="symbol"?e:e+""}function mMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vMe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},yMe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return Ug(Ug(Ug({},i),Ur(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return Ug(Ug(Ug({},i),Ur(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wMe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var $Z=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(ya(d-u)!==ya(h-d)){var v=[];if(ya(h-d)===ya(r[1]-r[0])){g=h;var C=d+r[1]-r[0];v[0]=Math.min(C,(C+u)/2),v[1]=Math.max(C,(C+u)/2)}else{g=u;var b=h+r[1]-r[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(u,h),I=Math.max(u,h);if(n>(x+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},bMe=()=>nt(nO),SO=(n,e)=>e,jZ=(n,e,t)=>t,xO=(n,e,t,i)=>i,CMe=Ae(Xu,n=>aI(n,e=>e.coordinate)),_O=Ae([Qy,SO,jZ,xO],RZ),TO=Ae([_O,ky,yE,EE],wO),BMe=(n,e,t)=>{if(e!=null){var i=Qy(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},WZ=Ae([Qy,SO,jZ,xO],NZ),n1=Ae([qu,$u,an,ur,Xu,xO,WZ,CE],DZ),EMe=Ae([_O,n1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),YZ=Ae([Xu,TO],IZ),SMe=Ae([WZ,TO,df,yE,YZ,CE,SO],LZ),xMe=Ae([_O,TO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),_Me=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&wMe(n,a)){var o=tSe(n,e),l=$Z(o,s,r,t,i),u=vMe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},TMe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=d_e(n,t);if(o){var l=nSe(o,e),u=$Z(l,a,s,i,r),d=yMe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},IMe=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?_Me(n,e,i,r,s,a,o):TMe(n,e,t,i,r,s,a)},FMe=Ae(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),MMe=Ae(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(Ls)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:pIe}});function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(i){UMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UMe(n,e,t){return(e=PMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PMe(n){var e=RMe(n,"string");return typeof e=="symbol"?e:e+""}function RMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var DMe={},NMe={zIndexMap:Object.values(Ls).reduce((n,e)=>U8(U8({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),DMe)},LMe=new Set(Object.values(Ls));function QMe(n){return LMe.has(n)}var XZ=Qs({name:"zIndex",initialState:NMe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:$n()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!QMe(t)&&delete n.zIndexMap[t])},prepare:$n()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:$n()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:$n()}}}),{registerZIndexPortal:kMe,unregisterZIndexPortal:OMe,registerZIndexPortalId:HMe,unregisterZIndexPortalId:VMe}=XZ.actions,KMe=XZ.reducer;function ff(n){var{zIndex:e,children:t}=n,i=QSe(),r=i&&e!==void 0&&e!==0,s=Sa(),a=Bi();F.useLayoutEffect(()=>r?(a(kMe({zIndex:e})),()=>{a(OMe({zIndex:e}))}):aE,[a,e,r]);var o=nt(u=>FMe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?n6.createPortal(t,l):null}function fQ(){return fQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fQ.apply(null,arguments)}function P8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(t),!0).forEach(function(i){GMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GMe(n,e,t){return(e=zMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zMe(n){var e=qMe(n,"string");return typeof e=="symbol"?e:e+""}function qMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $Me(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return F.isValidElement(e)?F.cloneElement(e,i):F.createElement(t,i)}function jMe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var C,b,E;if(d==="ScatterChart")C=h,b=xxe,E=Ls.cursorLine;else if(d==="BarChart")C=_xe(o,h,s,a),b=DJ,E=Ls.cursorRectangle;else if(o==="radial"&&x9(h)){var{cx:x,cy:I,radius:T,startAngle:R,endAngle:P}=NJ(h);C={cx:x,cy:I,startAngle:R,endAngle:P,innerRadius:T,outerRadius:T},b=QJ,E=Ls.cursorLine}else C={points:g_e(o,h,s)},b=FJ,E=Ls.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,Q=Lx(Lx(Lx(Lx({stroke:"#ccc",pointerEvents:"none"},s),C),ak(l)),{},{payload:g,payloadIndex:v,className:kn("recharts-tooltip-cursor",D)});return F.createElement(ff,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},F.createElement($Me,{cursor:l,cursorComp:b,cursorProps:Q}))}function WMe(n){var e=hMe(),t=DSe(),i=wI(),r=bMe();return e==null||t==null||i==null||r==null?null:F.createElement(jMe,fQ({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var JZ=F.createContext(null),YMe=()=>F.useContext(JZ),aR={exports:{}},R8;function XMe(){return R8||(R8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),C=t?t+u:u;return l._events[C]?l._events[C].fn?l._events[C]=[l._events[C],v]:l._events[C].push(v):(l._events[C]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,C=new Array(v);g<v;g++)C[g]=h[g].fn;return C},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,C){var b=t?t+u:u;if(!this._events[b])return!1;var E=this._events[b],x=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,C),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,P;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(P=1,I=new Array(x-1);P<x;P++)I[P-1]=arguments[P];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var C=this._events[v];if(C.fn)C.fn===d&&(!g||C.once)&&(!h||C.context===h)&&a(this,v);else{for(var b=0,E=[],x=C.length;b<x;b++)(C[b].fn!==d||g&&!C[b].once||h&&C[b].context!==h)&&E.push(C[b]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(aR)),aR.exports}var JMe=XMe();const ZMe=qA(JMe);var vb=new ZMe,hQ="recharts.syncEvent.tooltip",D8="recharts.syncEvent.brush";function eUe(n,e){if(e){var t=Number.parseInt(e,10);if(!HA(t))return n==null?void 0:n[t]}}var tUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZZ=Qs({name:"options",initialState:tUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nUe=ZZ.reducer,{createEventEmitter:iUe}=ZZ.actions;function rUe(n){return n.tooltip.syncInteraction}var sUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eee=Qs({name:"chartData",initialState:sUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:N8,setDataStartEndIndexes:aUe,setComputedData:DQe}=eee.actions,oUe=eee.reducer,AUe=["x","y"];function L8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Pg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(t),!0).forEach(function(i){lUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lUe(n,e,t){return(e=uUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uUe(n){var e=cUe(n,"string");return typeof e=="symbol"?e:e+""}function cUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dUe(n,e){if(n==null)return{};var t,i,r=fUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function hUe(){var n=nt(iO),e=nt(rO),t=Bi(),i=nt(L7),r=nt(Xu),s=wI(),a=yI(),o=nt(l=>l.rootProps.className);F.useEffect(()=>{if(n==null)return aE;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:C,y:b}=v,E=dUe(v,AUe),{x,y:I,width:T,height:R}=d.payload.sourceViewBox,P=Pg(Pg({},E),{},{x:a.x+(T?(C-x)/T:0)*a.width,y:a.y+(R?(b-I)/R:0)*a.height});t(Pg(Pg({},d),{},{payload:Pg(Pg({},d.payload),{},{coordinate:P})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var Q={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,Q);D=r[H]}else i==="value"&&(D=r.find(G=>String(G.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(cQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=k,q=Math.min(K,a.x+a.width),J=Math.min(V,a.y+a.height),te={x:s==="horizontal"?D.coordinate:q,y:s==="horizontal"?J:D.coordinate},he=cQ({active:d.payload.active,coordinate:te,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(he)}}};return vb.on(hQ,l),()=>{vb.off(hQ,l)}},[o,t,e,n,i,r,s,a])}function pUe(){var n=nt(iO),e=nt(rO),t=Bi();F.useEffect(()=>{if(n==null)return aE;var i=(r,s,a)=>{e!==a&&n===r&&t(aUe(s))};return vb.on(D8,i),()=>{vb.off(D8,i)}},[t,e,n])}function gUe(){var n=Bi();F.useEffect(()=>{n(iUe())},[n]),hUe(),pUe()}function mUe(n,e,t,i,r,s){var a=nt(v=>BMe(v,n,e)),o=nt(rO),l=nt(iO),u=nt(L7),d=nt(rUe),h=d==null?void 0:d.active,g=yI();F.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=cQ({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});vb.emit(hQ,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function Q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function k8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(t),!0).forEach(function(i){vUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vUe(n,e,t){return(e=yUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yUe(n){var e=wUe(n,"string");return typeof e=="symbol"?e:e+""}function wUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bUe(n){return n.dataKey}function CUe(n,e){return F.isValidElement(n)?F.cloneElement(n,e):typeof n=="function"?F.createElement(n,e):F.createElement(sxe,e)}var O8=[],BUe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function EUe(n){var e,t,i=go(n,BUe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:C,useTranslate3d:b,wrapperStyle:E,cursor:x,shared:I,trigger:T,defaultIndex:R,portal:P,axisId:D}=i,Q=Bi(),H=typeof R=="number"?String(R):R;F.useEffect(()=>{Q(yFe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[Q,I,T,D,r,H]);var k=yI(),K=IJ(),V=fFe(I),{activeIndex:q,isActive:J}=(e=nt(Be=>xMe(Be,V,T,H)))!==null&&e!==void 0?e:{},te=nt(Be=>SMe(Be,V,T,H)),he=nt(Be=>YZ(Be,V,T,H)),G=nt(Be=>EMe(Be,V,T,H)),$=te,re=YMe(),de=(t=r??J)!==null&&t!==void 0?t:!1,[Ce,z]=kBe([$,de]),X=V==="axis"?he:void 0;mUe(V,T,G,X,q,de);var oe=P??re;if(oe==null||k==null||V==null)return null;var me=$??O8;de||(me=O8),u&&me.length&&(me=cBe(me.filter(Be=>Be.value!=null&&(Be.hide!==!0||i.includeHidden)),g,bUe));var Se=me.length>0,_e=F.createElement(dxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:de,coordinate:G,hasPayload:Se,offset:h,position:v,reverseDirection:C,useTranslate3d:b,viewBox:k,wrapperStyle:E,lastBoundingBox:Ce,innerRef:z,hasPortalFromProps:!!P},CUe(l,k8(k8({},i),{},{payload:me,label:X,active:de,activeIndex:q,coordinate:G,accessibilityLayer:K})));return F.createElement(F.Fragment,null,n6.createPortal(_e,oe),de&&F.createElement(WMe,{cursor:x,tooltipEventType:V,coordinate:G,payload:me,index:q}))}var IO=n=>null;IO.displayName="Cell";function SUe(n,e,t){return(e=xUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xUe(n){var e=_Ue(n,"string");return typeof e=="symbol"?e:e+""}function _Ue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class TUe{constructor(e){SUe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function H8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IUe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(t),!0).forEach(function(i){FUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FUe(n,e,t){return(e=MUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MUe(n){var e=UUe(n,"string");return typeof e=="symbol"?e:e+""}function UUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var PUe={cacheSize:2e3,enableCache:!0},tee=IUe({},PUe),V8=new TUe(tee.cacheSize),RUe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K8="recharts_measurement_span";function DUe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var G8=(n,e)=>{try{var t=document.getElementById(K8);t||(t=document.createElement("span"),t.setAttribute("id",K8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,RUe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},qw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dE.isSsr)return{width:0,height:0};if(!tee.enableCache)return G8(e,t);var i=DUe(e,t),r=V8.get(i);if(r)return r;var s=G8(e,t);return V8.set(i,s),s},z8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NUe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LUe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QUe=Object.keys(nee),Zg="NaN";function kUe(n,e){return n*nee[e]}class Ps{static parse(e){var t,[,i,r]=(t=LUe.exec(e))!==null&&t!==void 0?t:[];return new Ps(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,HA(e)&&(this.unit=""),t!==""&&!NUe.test(t)&&(this.num=NaN,this.unit=""),QUe.includes(t)&&(this.num=kUe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Ps(NaN,""):new Ps(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ps(NaN,""):new Ps(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ps(NaN,""):new Ps(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ps(NaN,""):new Ps(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return HA(this.num)}}function iee(n){if(n.includes(Zg))return Zg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=z8.exec(e))!==null&&t!==void 0?t:[],a=Ps.parse(i??""),o=Ps.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Zg;e=e.replace(z8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=q8.exec(e))!==null&&u!==void 0?u:[],v=Ps.parse(d??""),C=Ps.parse(g??""),b=h==="+"?v.add(C):v.subtract(C);if(b.isNaN())return Zg;e=e.replace(q8,b.toString())}return e}var $8=/\(([^()]*)\)/;function OUe(n){for(var e=n,t;(t=$8.exec(e))!=null;){var[,i]=t;e=e.replace($8,iee(i))}return e}function HUe(n){var e=n.replace(/\s+/g,"");return e=OUe(e),e=iee(e),e}function VUe(n){try{return HUe(n)}catch{return Zg}}function oR(n){var e=VUe(n.slice(5,-1));return e===Zg?"":e}var KUe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],GUe=["dx","dy","angle","className","breakAll"];function pQ(){return pQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pQ.apply(null,arguments)}function j8(n,e){if(n==null)return{};var t,i,r=zUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var ree=/[ \f\n\r\t\v\u2028\u2029]+/,see=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];lr(e)||(t?r=e.toString().split(""):r=e.toString().split(ree));var s=r.map(o=>({word:o,width:qw(o,i).width})),a=t?0:qw("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function qUe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var aee=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),oee=n=>n.reduce((e,t)=>e.width>t.width?e:t),$Ue="",W8=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=see({breakAll:t,style:i,children:l+$Ue});if(!u)return[!1,[]];var d=aee(u.wordsWithComputedWidth,s,a,o),h=d.length>r||oee(d).width>Number(s);return[h,d]},jUe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=st(s),d=String(a),h=aee(e,i,t,r);if(!u||r)return h;var g=h.length>s||oee(h).width>Number(i);if(!g)return h;for(var v=0,C=d.length-1,b=0,E;v<=C&&b<=d.length-1;){var x=Math.floor((v+C)/2),I=x-1,[T,R]=W8(d,I,l,o,s,i,t,r),[P]=W8(d,x,l,o,s,i,t,r);if(!T&&!P&&(v=x+1),T&&P&&(C=x-1),!T&&P){E=R;break}b++}return E||h},Y8=n=>{var e=lr(n)?[]:n.toString().split(ree);return[{words:e,width:void 0}]},WUe=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!dE.isSsr){var o,l,u=see({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return Y8(i);return jUe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return Y8(i)},Aee="#808080",YUe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Aee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FO=F.forwardRef((n,e)=>{var t=go(n,YUe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=j8(t,KUe),g=F.useMemo(()=>WUe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:C,angle:b,className:E,breakAll:x}=h,I=j8(h,GUe);if(!VA(i)||!VA(r)||g.length===0)return null;var T=Number(i)+(st(v)?v:0),R=Number(r)+(st(C)?C:0);if(!Ci(T)||!Ci(R))return null;var P;switch(d){case"start":P=oR("calc(".concat(a,")"));break;case"middle":P=oR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=oR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var Q=g[0].width,{width:H}=h;D.push("scale(".concat(st(H)&&st(Q)?H/Q:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),F.createElement("text",pQ({},fo(I),{ref:e,x:T,y:R,className:kn("recharts-text",E),textAnchor:u,fill:o.includes("url")?Aee:o}),g.map((k,K)=>{var V=k.words.join(x?"":" ");return F.createElement("tspan",{x:T,dy:K===0?P:s,key:"".concat(V,"-").concat(K)},V)}))});FO.displayName="Text";var XUe=["labelRef"];function JUe(n,e){if(n==null)return{};var t,i,r=ZUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ZUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function X8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(t),!0).forEach(function(i){ePe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ePe(n,e,t){return(e=tPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tPe(n){var e=nPe(n,"string");return typeof e=="symbol"?e:e+""}function nPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vu(){return vu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vu.apply(null,arguments)}var lee=F.createContext(null),iPe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=F.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return F.createElement(lee.Provider,{value:l},o)},uee=()=>{var n=F.useContext(lee),e=yI();return n||bJ(e)},rPe=F.createContext(null),sPe=()=>{var n=F.useContext(rPe),e=nt(V7);return n||e},aPe=n=>{var{value:e,formatter:t}=n,i=lr(n.children)?e:n.children;return typeof t=="function"?t(i):i},MO=n=>n!=null&&typeof n=="function",oPe=(n,e)=>{var t=ya(e-n),i=Math.min(Math.abs(e-n),360);return t*i},APe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,C=(u+d)/2,b=oPe(h,g),E=b>=0?1:-1,x,I;switch(e){case"insideStart":x=h+E*s,I=v;break;case"insideEnd":x=g-E*s,I=!v;break;case"end":x=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=b<=0?I:!I;var T=Ur(o,l,C,x),R=Ur(o,l,C,x+(I?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=lr(n.id)?sb("recharts-radial-line-"):n.id;return F.createElement("text",vu({},i,{dominantBaseline:"central",className:kn("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:D,d:P})),F.createElement("textPath",{xlinkHref:"#".concat(D)},t))},lPe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Ur(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:C}=Ur(i,r,g,u);return{x:v,y:C,textAnchor:"middle",verticalAnchor:"middle"}},gQ=n=>"cx"in n&&st(n.cx),uPe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!gQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,C=(l+u)/2,b=h+l/2,E=d>=0?1:-1,x=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,P=R*i,D=R>0?"end":"start",Q=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-x,textAnchor:"middle",verticalAnchor:I};return vi(vi({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var k={x:g+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:T};return vi(vi({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return vi(vi({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var V={x:v+C+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"};return vi(vi({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:d}:{})}var q=s?{width:C,height:d}:{};return r==="insideLeft"?vi({x:v+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"},q):r==="insideRight"?vi({x:v+C-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},q):r==="insideTop"?vi({x:h+l/2,y:o+x,textAnchor:"middle",verticalAnchor:T},q):r==="insideBottom"?vi({x:g+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:I},q):r==="insideTopLeft"?vi({x:h+P,y:o+x,textAnchor:Q,verticalAnchor:T},q):r==="insideTopRight"?vi({x:h+l-P,y:o+x,textAnchor:D,verticalAnchor:T},q):r==="insideBottomLeft"?vi({x:g+P,y:o+d-x,textAnchor:Q,verticalAnchor:I},q):r==="insideBottomRight"?vi({x:g+u-P,y:o+d-x,textAnchor:D,verticalAnchor:I},q):r&&typeof r=="object"&&(st(r.x)||Pu(r.x))&&(st(r.y)||Pu(r.y))?vi({x:a+zo(r.x,C),y:o+zo(r.y,d),textAnchor:"end",verticalAnchor:"end"},q):vi({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},q)},cPe={angle:0,offset:5,zIndex:Ls.label,position:"middle",textBreakAll:!1};function Uc(n){var e=go(n,cPe),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=sPe(),h=uee(),g=i==="center"?h:d??h,v,C,b;if(t==null?v=g:gQ(t)?v=t:v=bJ(t),!v||lr(r)&&lr(s)&&!F.isValidElement(a)&&typeof a!="function")return null;var E=vi(vi({},e),{},{viewBox:v});if(F.isValidElement(a)){var{labelRef:x}=E,I=JUe(E,XUe);return F.cloneElement(a,I)}if(typeof a=="function"){if(C=F.createElement(a,E),F.isValidElement(C))return C}else C=aPe(e);var T=fo(e);if(gQ(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return APe(e,i,C,T,v);b=lPe(v,e.offset,e.position)}else b=uPe(e,v);return F.createElement(ff,{zIndex:e.zIndex},F.createElement(FO,vu({ref:u,className:kn("recharts-label",o)},T,b,{textAnchor:qUe(T.textAnchor)?T.textAnchor:b.textAnchor,breakAll:l}),C))}Uc.displayName="Label";var dPe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?F.createElement(Uc,vu({key:"label-implicit"},i)):VA(n)?F.createElement(Uc,vu({key:"label-implicit",value:n},i)):F.isValidElement(n)?n.type===Uc?F.cloneElement(n,vi({key:"label-implicit"},i)):F.createElement(Uc,vu({key:"label-implicit",content:n},i)):MO(n)?F.createElement(Uc,vu({key:"label-implicit",content:n},i)):n&&typeof n=="object"?F.createElement(Uc,vu({},n,{key:"label-implicit"},i)):null};function fPe(n){var{label:e,labelRef:t}=n,i=uee();return dPe(e,i,t)||null}var AR={},lR={},J8;function hPe(){return J8||(J8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(lR)),lR}var uR={},Z8;function pPe(){return Z8||(Z8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(uR)),uR}var e$;function gPe(){return e$||(e$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hPe(),t=pPe(),i=hk();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(AR)),AR}var cR,t$;function mPe(){return t$||(t$=1,cR=gPe().last),cR}var vPe=mPe();const yPe=qA(vPe);var wPe=["valueAccessor"],bPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function i1(){return i1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},i1.apply(null,arguments)}function n$(n,e){if(n==null)return{};var t,i,r=CPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function CPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var BPe=n=>Array.isArray(n.value)?yPe(n.value):n.value,cee=F.createContext(void 0),EPe=cee.Provider,dee=F.createContext(void 0);dee.Provider;function SPe(){return F.useContext(cee)}function xPe(){return F.useContext(dee)}function $_(n){var{valueAccessor:e=BPe}=n,t=n$(n,wPe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=n$(t,bPe),u=SPe(),d=xPe(),h=u||d;return!h||!h.length?null:F.createElement(ff,{zIndex:o??Ls.label},F.createElement(Uu,{className:"recharts-label-list"},h.map((g,v)=>{var C,b=lr(i)?e(g,v):Wr(g&&g.payload,i),E=lr(s)?{}:{id:"".concat(s,"-").concat(v)};return F.createElement(Uc,i1({key:"label-".concat(v)},fo(g),l,E,{fill:(C=t.fill)!==null&&C!==void 0?C:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}$_.displayName="LabelList";function _Pe(n){var{label:e}=n;return e?e===!0?F.createElement($_,{key:"labelList-implicit"}):F.isValidElement(e)||MO(e)?F.createElement($_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement($_,i1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var TPe={radiusAxis:{},angleAxis:{}},fee=Qs({name:"polarAxis",initialState:TPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:NQe,removeRadiusAxis:LQe,addAngleAxis:QQe,removeAngleAxis:kQe}=fee.actions,IPe=fee.reducer,dR={exports:{}},un={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i$;function FPe(){if(i$)return un;i$=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function C(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case n:switch(b=b.type,b){case t:case r:case i:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case h:case d:return b;case s:return b;default:return E}}case e:return E}}}return un.ContextConsumer=s,un.ContextProvider=a,un.Element=n,un.ForwardRef=o,un.Fragment=t,un.Lazy=h,un.Memo=d,un.Portal=e,un.Profiler=r,un.StrictMode=i,un.Suspense=l,un.SuspenseList=u,un.isContextConsumer=function(b){return C(b)===s},un.isContextProvider=function(b){return C(b)===a},un.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},un.isForwardRef=function(b){return C(b)===o},un.isFragment=function(b){return C(b)===t},un.isLazy=function(b){return C(b)===h},un.isMemo=function(b){return C(b)===d},un.isPortal=function(b){return C(b)===e},un.isProfiler=function(b){return C(b)===r},un.isStrictMode=function(b){return C(b)===i},un.isSuspense=function(b){return C(b)===l},un.isSuspenseList=function(b){return C(b)===u},un.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===r||b===i||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},un.typeOf=C,un}var r$;function MPe(){return r$||(r$=1,dR.exports=FPe()),dR.exports}var UPe=MPe(),s$=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",a$=null,fR=null,hee=n=>{if(n===a$&&Array.isArray(fR))return fR;var e=[];return F.Children.forEach(n,t=>{lr(t)||(UPe.isFragment(t)?e=e.concat(hee(t.props.children)):e.push(t))}),fR=e,a$=n,e};function PPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>s$(r)):i=[s$(e)],hee(n).forEach(r=>{var s=hy(r,"type.displayName")||hy(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var hR={},o$;function RPe(){return o$||(o$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(hR)),hR}var pR,A$;function DPe(){return A$||(A$=1,pR=RPe().isPlainObject),pR}var NPe=DPe();const LPe=qA(NPe);function l$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function u$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(t),!0).forEach(function(i){QPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QPe(n,e,t){return(e=kPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kPe(n){var e=OPe(n,"string");return typeof e=="symbol"?e:e+""}function OPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function r1(){return r1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},r1.apply(null,arguments)}var c$=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},HPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VPe=n=>{var e=go(n,HPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=F.useRef(null),[v,C]=F.useState(-1),b=F.useRef(r),E=F.useRef(s),x=F.useRef(a),I=F.useRef(t),T=F.useRef(i),R=Ik(n,"trapezoid-");if(F.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var te=g.current.getTotalLength();te&&C(te)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var P=kn("recharts-trapezoid",o);if(!h)return F.createElement("g",null,F.createElement("path",r1({},fo(e),{className:P,d:c$(t,i,r,s,a)})));var D=b.current,Q=E.current,H=x.current,k=I.current,K=T.current,V="0px ".concat(v===-1?1:v,"px"),q="".concat(v,"px 0px"),J=MJ(["strokeDasharray"],u,l);return F.createElement(Tk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},te=>{var he=Tr(D,r,te),G=Tr(Q,s,te),$=Tr(H,a,te),re=Tr(k,t,te),de=Tr(K,i,te);g.current&&(b.current=he,E.current=G,x.current=$,I.current=re,T.current=de);var Ce=te>0?{transition:J,strokeDasharray:q}:{strokeDasharray:V};return F.createElement("path",r1({},fo(e),{className:P,d:c$(re,de,he,G,$),ref:g,style:u$(u$({},Ce),e.style)}))})},KPe=["option","shapeType","propTransformer","activeClassName"];function GPe(n,e){if(n==null)return{};var t,i,r=zPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function d$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function s1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(t),!0).forEach(function(i){qPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qPe(n,e,t){return(e=$Pe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Pe(n){var e=jPe(n,"string");return typeof e=="symbol"?e:e+""}function jPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WPe(n,e){return s1(s1({},e),n)}function YPe(n,e){return n==="symbols"}function f$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return F.createElement(DJ,t);case"trapezoid":return F.createElement(VPe,t);case"sector":return F.createElement(QJ,t);case"symbols":if(YPe(e))return F.createElement(S9,t);break;case"curve":return F.createElement(FJ,t);default:return null}}function XPe(n){return F.isValidElement(n)?n.props:n}function JPe(n){var{option:e,shapeType:t,propTransformer:i=WPe,activeClassName:r="recharts-active-shape"}=n,s=GPe(n,KPe),a;if(F.isValidElement(e))a=F.cloneElement(e,s1(s1({},s),XPe(e)));else if(typeof e=="function")a=e(s,s.index);else if(LPe(e)&&typeof e!="boolean"){var o=i(e,s);a=F.createElement(f$,{shapeType:t,elementProps:o})}else{var l=s;a=F.createElement(f$,{shapeType:t,elementProps:l})}return s.isActive?F.createElement(Uu,{className:r},a):a}var pee=(n,e,t)=>{var i=Bi();return(r,s)=>a=>{n==null||n(r,s,a),i(MZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},gee=n=>{var e=Bi();return(t,i)=>r=>{n==null||n(t,i,r),e(wFe())}},mee=(n,e,t)=>{var i=Bi();return(r,s)=>a=>{n==null||n(r,s,a),i(bFe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function ZPe(n){var{tooltipEntrySettings:e}=n,t=Bi(),i=Sa(),r=F.useRef(null);return F.useLayoutEffect(()=>{i||(r.current===null?t(gFe(e)):r.current!==e&&t(mFe({prev:r.current,next:e})),r.current=e)},[e,t,i]),F.useLayoutEffect(()=>()=>{r.current&&(t(vFe(r.current)),r.current=null)},[t]),null}function eRe(n){var{legendPayload:e}=n,t=Bi(),i=Sa(),r=F.useRef(null);return F.useLayoutEffect(()=>{i||(r.current===null?t(XSe(e)):r.current!==e&&t(JSe({prev:r.current,next:e})),r.current=e)},[t,i,e]),F.useLayoutEffect(()=>()=>{r.current&&(t(ZSe(r.current)),r.current=null)},[t]),null}var gR,tRe=()=>{var[n]=F.useState(()=>sb("uid-"));return n},nRe=(gR=iie.useId)!==null&&gR!==void 0?gR:tRe;function vee(n,e){var t=nRe();return e||(n?"".concat(n,"-").concat(t):t)}var iRe=F.createContext(void 0),rRe=n=>{var{id:e,type:t,children:i}=n,r=vee("recharts-".concat(t),e);return F.createElement(iRe.Provider,{value:r},i(r))},sRe={cartesianItems:[],polarItems:[]},yee=Qs({name:"graphicalItems",initialState:sRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:$n()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Go(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:$n()},removeCartesianGraphicalItem:{reducer(n,e){var t=Go(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:$n()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:$n()},removePolarGraphicalItem:{reducer(n,e){var t=Go(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:$n()}}}),{addCartesianGraphicalItem:aRe,replaceCartesianGraphicalItem:oRe,removeCartesianGraphicalItem:ARe,addPolarGraphicalItem:OQe,removePolarGraphicalItem:HQe}=yee.actions,lRe=yee.reducer,uRe=n=>{var e=Bi(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(aRe(n)):t.current!==n&&e(oRe({prev:t.current,next:n})),t.current=n},[e,n]),F.useLayoutEffect(()=>()=>{t.current&&(e(ARe(t.current)),t.current=null)},[e]),null},cRe=F.memo(uRe);function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function p$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(i){dRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dRe(n,e,t){return(e=fRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fRe(n){var e=hRe(n,"string");return typeof e=="symbol"?e:e+""}function hRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pRe={xAxis:{},yAxis:{},zAxis:{}},wee=Qs({name:"cartesianAxis",initialState:pRe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:$n()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:$n()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:$n()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:$n()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:$n()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:$n()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:$n()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:$n()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:$n()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=p$(p$({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:gRe,replaceXAxis:mRe,removeXAxis:vRe,addYAxis:yRe,replaceYAxis:wRe,removeYAxis:bRe,addZAxis:VQe,replaceZAxis:KQe,removeZAxis:GQe,updateYAxisWidth:CRe}=wee.actions,BRe=wee.reducer,ERe=Ae([ur],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),SRe=Ae([ERe,qu,$u],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),bee=()=>nt(SRe),xRe="Invariant failed";function _Re(n,e){throw new Error(xRe)}var TRe=["x","y"];function mQ(){return mQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mQ.apply(null,arguments)}function g$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function J0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(t),!0).forEach(function(i){IRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IRe(n,e,t){return(e=FRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FRe(n){var e=MRe(n,"string");return typeof e=="symbol"?e:e+""}function MRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function URe(n,e){if(n==null)return{};var t,i,r=PRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function PRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function RRe(n,e){var{x:t,y:i}=n,r=URe(n,TRe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return J0(J0(J0(J0(J0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function a1(n){return F.createElement(JPe,mQ({shapeType:"rectangle",propTransformer:RRe,activeClassName:"recharts-active-bar"},n))}var DRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(st(e))return e;var s=st(i)||lr(i);return s?e(i,r):(s||_Re(),t)}},NRe={},Cee=Qs({name:"errorBars",initialState:NRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:zQe,replaceErrorBar:qQe,removeErrorBar:$Qe}=Cee.actions,LRe=Cee.reducer,QRe=["children"];function kRe(n,e){if(n==null)return{};var t,i,r=ORe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ORe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var HRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},VRe=F.createContext(HRe);function KRe(n){var{children:e}=n,t=kRe(n,QRe);return F.createElement(VRe.Provider,{value:t},e)}function Bee(n,e){var t,i,r=nt(u=>Wu(u,n)),s=nt(u=>Yu(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:Ji.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:Zi.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function GRe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=bee(),{needClipX:s,needClipY:a,needClip:o}=Bee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return F.createElement("clipPath",{id:"clipPath-".concat(i)},F.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function zRe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Ci(n.zIndex)?n.zIndex:e}var mR={exports:{}},vR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m$;function qRe(){if(m$)return vR;m$=1;var n=xy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return vR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=a(function(){function E(P){if(!x){if(x=!0,I=P,P=h(P),g!==void 0&&C.hasValue){var D=C.value;if(g(D,P))return T=D}return T=P}if(D=T,t(I,P))return D;var Q=h(P);return g!==void 0&&g(D,Q)?(I=P,D):(I=P,T=Q)}var x=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var b=i(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=b},[b]),o(b),b},vR}var v$;function $Re(){return v$||(v$=1,mR.exports=qRe()),mR.exports}$Re();function jRe(n){n()}function WRe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){jRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var y$={notify(){},get:()=>[]};function YRe(n,e){let t,i=y$,r=0,s=!1;function a(b){d();const E=i.subscribe(b);let x=!1;return()=>{x||(x=!0,E(),h())}}function o(){i.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=WRe())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=y$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const C={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return C}var XRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JRe=XRe(),ZRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eDe=ZRe(),tDe=()=>JRe||eDe?F.useLayoutEffect:F.useEffect,nDe=tDe();function w$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function iDe(n,e){if(w$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!w$(n[t[r]],e[t[r]]))return!1;return!0}var yR=Symbol.for("react-redux-context"),wR=typeof globalThis<"u"?globalThis:{};function rDe(){if(!F.createContext)return{};const n=wR[yR]??(wR[yR]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var sDe=rDe();function aDe(n){const{children:e,context:t,serverState:i,store:r}=n,s=F.useMemo(()=>{const l=YRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=F.useMemo(()=>r.getState(),[r]);nDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||sDe;return F.createElement(o.Provider,{value:s},e)}var oDe=aDe,ADe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function lDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function UO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(ADe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!iDe(n[i],e[i]))return!1}else if(!lDe(n[i],e[i]))return!1;return!0}var uDe=["onMouseEnter","onMouseLeave","onClick"],cDe=["value","background","tooltipPosition"],dDe=["id"],fDe=["onMouseEnter","onClick","onMouseLeave"];function ku(){return ku=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ku.apply(null,arguments)}function b$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function os(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(t),!0).forEach(function(i){hDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hDe(n,e,t){return(e=pDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pDe(n){var e=gDe(n,"string");return typeof e=="symbol"?e:e+""}function gDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(n,e){if(n==null)return{};var t,i,r=mDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mDe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var vDe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:gJ(t,e),payload:n}]},yDe=F.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:gJ(s,e),hide:a,type:l,color:r,unit:o}};return F.createElement(ZPe,{tooltipEntrySettings:u})});function wDe(n){var e=nt(By),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=o1(s,uDe),d=pee(a,i),h=gee(o),g=mee(l,i);if(!r||t==null)return null;var v=ak(r);return F.createElement(ff,{zIndex:zRe(r,Ls.barBackground)},t.map((C,b)=>{var{value:E,background:x,tooltipPosition:I}=C,T=o1(C,cDe);if(!x)return null;var R=d(C,b),P=h(C,b),D=g(C,b),Q=os(os(os(os(os({option:r,isActive:String(b)===e},T),{},{fill:"#eee"},x),v),fk(u,C,b)),{},{onMouseEnter:R,onMouseLeave:P,onClick:D,dataKey:i,index:b,className:"recharts-bar-background-rectangle"});return F.createElement(a1,ku({key:"background-bar-".concat(b)},Q))}))}function bDe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return os(os({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return F.createElement(EPe,{value:e?r:void 0},t)}function CDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=nt(By),l=nt(zZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?F.createElement(ff,{zIndex:Ls.activeBar},F.createElement(a1,ku({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):F.createElement(a1,ku({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function BDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return F.createElement(a1,ku({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function EDe(n){var e,{data:t,props:i}=n,r=(e=nf(i))!==null&&e!==void 0?e:{},{id:s}=r,a=o1(r,dDe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=o1(i,fDe),C=pee(d,l),b=gee(g),E=mee(h,l);return t?F.createElement(F.Fragment,null,t.map((x,I)=>F.createElement(Uu,ku({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(I),className:"recharts-bar-rectangle"},fk(v,x,I),{onMouseEnter:C(x,I),onMouseLeave:b(x,I),onClick:E(x,I)}),u?F.createElement(CDe,{shape:o,activeBar:u,baseProps:a,entry:x,index:I,dataKey:l}):F.createElement(BDe,{shape:o,baseProps:a,entry:x,index:I,dataKey:l})))):null}function SDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Ik(e,"recharts-bar-"),[v,C]=F.useState(!1),b=!v,E=F.useCallback(()=>{typeof u=="function"&&u(),C(!1)},[u]),x=F.useCallback(()=>{typeof d=="function"&&d(),C(!0)},[d]);return F.createElement(bDe,{showLabels:b,rects:i},F.createElement(Tk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:x,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,P)=>{var D=h&&h[P];if(D)return os(os({},R),{},{x:Tr(D.x,R.x,I),y:Tr(D.y,R.y,I),width:Tr(D.width,R.width,I),height:Tr(D.height,R.height,I)});if(r==="horizontal"){var Q=Tr(0,R.height,I),H=Tr(R.stackedBarStart,R.y,I);return os(os({},R),{},{y:H,height:Q})}var k=Tr(0,R.width,I),K=Tr(R.stackedBarStart,R.x,I);return os(os({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:F.createElement(Uu,null,F.createElement(EDe,{props:e,data:T}))}),F.createElement(_Pe,{label:e.label}),e.children)}function xDe(n){var e=F.useRef(null);return F.createElement(SDe,{previousRectanglesRef:e,props:n})}var Eee=0,_De=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Wr(n,e)}};class TDe extends F.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=kn("recharts-bar",r),h=u;return F.createElement(Uu,{className:d,id:u},o&&F.createElement("defs",null,F.createElement(GRe,{clipPathId:h,xAxisId:s,yAxisId:a})),F.createElement(Uu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},F.createElement(wDe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),F.createElement(xDe,this.props)))}}var IDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Eee,xAxisId:0,yAxisId:0,zIndex:Ls.bar};function FDe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=Bee(e,t),g=wI(),v=Sa(),C=PPe(n.children,IO),b=nt(I=>rNe(I,e,t,v,n.id,C));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=b==null?void 0:b[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,F.createElement(KRe,{xAxisId:e,yAxisId:t,data:b,dataPointFormatter:_De,errorBarOffset:E},F.createElement(TDe,ku({},n,{layout:g,needClip:h,data:b,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function MDe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:C,dataStartIndex:b}=n,E=e==="horizontal"?o:a,x=d?E.scale.domain():null,I=XEe({numericAxis:E}),T=E.scale(I);return h.map((R,P)=>{var D,Q,H,k,K,V;d?D=zEe(d[P+b],x):(D=Wr(R,t),Array.isArray(D)||(D=[I,D]));var q=DRe(i,Eee)(D[1],P);if(e==="horizontal"){var J,[te,he]=[o.scale(D[0]),o.scale(D[1])];Q=q5({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:P}),H=(J=he??te)!==null&&J!==void 0?J:void 0,k=r.size;var G=te-he;if(K=HA(G)?0:G,V={x:Q,y:g.top,width:k,height:g.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var $=ya(K||q)*(Math.abs(q)-Math.abs(K));H-=$,K+=$}}else{var[re,de]=[a.scale(D[0]),a.scale(D[1])];if(Q=re,H=q5({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:P}),k=de-re,K=r.size,V={x:g.left,y:H,width:g.width,height:K},Math.abs(q)>0&&Math.abs(k)<Math.abs(q)){var Ce=ya(k||q)*(Math.abs(q)-Math.abs(k));k+=Ce}}if(Q==null||H==null||k==null||K==null)return null;var z=os(os({},R),{},{stackedBarStart:T,x:Q,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:V,tooltipPosition:{x:Q+k/2,y:H+K/2},parentViewBox:C},v&&v[P]&&v[P].props);return z}).filter(Boolean)}function UDe(n){var e=go(n,IDe),t=Sa();return F.createElement(rRe,{id:e.id,type:"bar"},i=>F.createElement(F.Fragment,null,F.createElement(eRe,{legendPayload:vDe(e)}),F.createElement(yDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),F.createElement(cRe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:YEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),F.createElement(ff,{zIndex:e.zIndex},F.createElement(FDe,ku({},e,{id:i})))))}var See=F.memo(UDe,UO);See.displayName="Bar";function C$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Qx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(t),!0).forEach(function(i){PDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function PDe(n,e,t){return(e=RDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RDe(n){var e=DDe(n,"string");return typeof e=="symbol"?e:e+""}function DDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var NDe=(n,e)=>e,LDe=(n,e,t)=>t,QDe=(n,e,t,i)=>i,kDe=(n,e,t,i,r)=>r,xE=Ae([uO,kDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),ODe=Ae([xE],n=>n==null?void 0:n.maxBarSize),HDe=(n,e,t,i,r,s)=>s,B$=(n,e,t)=>{var i=t??n;if(!lr(i))return zo(i,e,0)},VDe=Ae([an,uO,NDe,LDe,QDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),KDe=(n,e,t,i)=>{var r=an(n);return r==="horizontal"?uQ(n,"yAxis",t,i):uQ(n,"xAxis",e,i)},GDe=(n,e,t)=>{var i=an(n);return i==="horizontal"?E8(n,"xAxis",e):E8(n,"yAxis",t)},zDe=(n,e,t)=>{var i={},r=n.filter(DI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(C=>C.dataKey),v=B$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=B$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},qDe=Ae([VDe,lIe,GDe],zDe),$De=(n,e,t,i,r)=>{var s,a,o=xE(n,e,t,i,r);if(o!=null){var l=an(n),u=R7(n),{maxBarSize:d}=o,h=lr(d)?u:d,g,v;return l==="horizontal"?(g=Cy(n,"xAxis",e,i),v=by(n,"xAxis",e,i)):(g=Cy(n,"yAxis",t,i),v=by(n,"yAxis",t,i)),(s=(a=DT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},xee=(n,e,t,i)=>{var r=an(n),s,a;return r==="horizontal"?(s=Cy(n,"xAxis",e,i),a=by(n,"xAxis",e,i)):(s=Cy(n,"yAxis",t,i),a=by(n,"yAxis",t,i)),DT(s,a)};function jDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=zo(n,t,0,!0),o,l=[];if(Ci(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((x,I)=>x+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((x,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},P=[...x,R];return v=P[P.length-1].position,P},l)}else{var C=zo(e,t,0,!0);t-2*C-(s-1)*a<=0&&(a=0);var b=(t-2*C-(s-1)*a)/s;b>1&&(b>>=0);var E=Ci(r)?Math.min(b,r):b;o=i.reduce((x,I,T)=>[...x,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:C+(b+a)*T+(b-E)/2,size:E}}],l)}return o}}var WDe=(n,e,t,i,r,s,a)=>{var o=lr(a)?e:a,l=jDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>Qx(Qx({},u),{},{position:Qx(Qx({},u.position),{},{offset:u.position.offset-r/2})}))),l},YDe=Ae([qDe,R7,AIe,D7,$De,xee,ODe],WDe),XDe=(n,e,t,i)=>Cy(n,"xAxis",e,i),JDe=(n,e,t,i)=>Cy(n,"yAxis",t,i),ZDe=(n,e,t,i)=>by(n,"xAxis",e,i),eNe=(n,e,t,i)=>by(n,"yAxis",t,i),tNe=Ae([YDe,xE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),nNe=(n,e)=>{var t=AO(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},iNe=Ae([KDe,xE],nNe),rNe=Ae([ur,Ek,XDe,JDe,ZDe,eNe,tNe,an,Zk,xee,iNe,xE,HDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:C,dataEndIndex:b}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,x;if(E!=null&&E.length>0?x=E:x=v==null?void 0:v.slice(C,b+1),x!=null)return MDe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:x,offset:n,cells:g,dataStartIndex:C})}}),sNe=n=>{var{chartData:e}=n,t=Bi(),i=Sa();return F.useEffect(()=>i?()=>{}:(t(N8(e)),()=>{t(N8(void 0))}),[e,t,i]),null},E$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_ee=Qs({name:"brush",initialState:E$,reducers:{setBrushSettings(n,e){return e.payload==null?E$:e.payload}}}),{setBrushSettings:jQe}=_ee.actions,aNe=_ee.reducer;function oNe(n,e,t){return(e=ANe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ANe(n){var e=lNe(n,"string");return typeof e=="symbol"?e:e+""}function lNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class PO{static create(e){return new PO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}oNe(PO,"EPS",1e-4);function uNe(n){return(n%180+180)%180}var cNe=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uNe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},dNe={dots:[],areas:[],lines:[]},Tee=Qs({name:"referenceElements",initialState:dNe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Go(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Go(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Go(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:WQe,removeDot:YQe,addArea:XQe,removeArea:JQe,addLine:ZQe,removeLine:eke}=Tee.actions,fNe=Tee.reducer,hNe=F.createContext(void 0),pNe=n=>{var{children:e}=n,[t]=F.useState("".concat(sb("recharts"),"-clip")),i=bee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return F.createElement(hNe.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function Iee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function gNe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return cNe(i,t)}function mNe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function A1(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function vNe(n,e){return Iee(n,e+1)}function yNe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var C=i==null?void 0:i[l];if(C===void 0)return{v:Iee(i,u)};var b=l,E,x=()=>(E===void 0&&(E=t(C,b)),E),I=C.coordinate,T=l===0||A1(n,I,x,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(x()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function S$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(t),!0).forEach(function(i){wNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wNe(n,e,t){return(e=bNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bNe(n){var e=CNe(n,"string");return typeof e=="symbol"?e:e+""}function CNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BNe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],C,b=()=>(C===void 0&&(C=t(v,g)),C);if(g===a-1){var E=n*(v.coordinate+n*b()/2-l);s[g]=v=zr(zr({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=zr(zr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=A1(n,v.tickCoord,b,o,l);x&&(l=v.tickCoord-n*(b()/2+r),s[g]=zr(zr({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function ENe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=zr(zr({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=A1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=zr(zr({},d),{},{isShow:!0}))}}for(var C=s?o-1:o,b=function(I){var T=a[I],R,P=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*P()/2-l);a[I]=T=zr(zr({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=zr(zr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var Q=A1(n,T.tickCoord,P,l,u);Q&&(l=T.tickCoord+n*(P()/2+r),a[I]=zr(zr({},T),{},{isShow:!0}))}},E=0;E<C;E++)b(E);return a}function SNe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(st(l)||dE.isSsr){var g;return(g=vNe(r,st(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],C=o==="top"||o==="bottom"?"width":"height",b=d&&C==="width"?qw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var P=typeof u=="function"?u(T.value,R):T.value;return C==="width"?gNe(qw(P,{fontSize:e,letterSpacing:t}),b,h):qw(P,{fontSize:e,letterSpacing:t})[C]},x=r.length>=2?ya(r[1].coordinate-r[0].coordinate):1,I=mNe(s,x,C);return l==="equidistantPreserveStart"?yNe(x,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=ENe(x,I,E,r,a,l==="preserveStartEnd"):v=BNe(x,I,E,r,a),v.filter(T=>T.isShow))}var xNe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},_Ne=["axisLine","width","height","className","hide","ticks","axisType"];function TNe(n,e){if(n==null)return{};var t,i,r=INe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function INe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Pp(){return Pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pp.apply(null,arguments)}function x$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Pi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(t),!0).forEach(function(i){FNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FNe(n,e,t){return(e=MNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MNe(n){var e=UNe(n,"string");return typeof e=="symbol"?e:e+""}function UNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var xp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ls.axis};function PNe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Pi(Pi(Pi({},l),nf(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Pi(Pi({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Pi(Pi({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return F.createElement("line",Pp({},u,{className:kn("recharts-cartesian-axis-line",hy(o,"className"))}))}function RNe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,C,b=o?-1:1,E=n.tickSize||a,x=st(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-b*E,C=h-b*l,v=x;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-b*E,v=u-b*l,C=x;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+b*E,v=u+b*l,C=x;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+b*E,C=h+b*l,v=x;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:C}}}function DNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function NNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function LNe(n){var{option:e,tickProps:t,value:i}=n,r,s=kn(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))r=F.cloneElement(e,Pi(Pi({},t),{},{className:s}));else if(typeof e=="function")r=e(Pi(Pi({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=kn(a,e==null?void 0:e.className)),r=F.createElement(FO,Pp({},t,{className:a}),i)}return r}var QNe=F.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:C,height:b,tickSize:E,tickMargin:x,fontSize:I,letterSpacing:T,getTicksConfig:R,events:P,axisType:D}=n,Q=SNe(Pi(Pi({},R),{},{ticks:t}),I,T),H=DNe(d,h),k=NNe(d,h),K=nf(R),V=ak(i),q={};typeof r=="object"&&(q=r);var J=Pi(Pi({},K),{},{fill:"none"},q),te=Q.map($=>Pi({entry:$},RNe($,g,v,C,b,d,E,h,x))),he=te.map($=>{var{entry:re,line:de}=$;return F.createElement(Uu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},r&&F.createElement("line",Pp({},J,de,{className:kn("recharts-cartesian-axis-tick-line",hy(r,"className"))})))}),G=te.map(($,re)=>{var{entry:de,tick:Ce}=$,z=Pi(Pi(Pi(Pi({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},V),Ce),{},{index:re,payload:de,visibleTicksCount:Q.length,tickFormatter:a,padding:l},u);return F.createElement(Uu,Pp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},fk(P,de,re)),i&&F.createElement(LNe,{option:i,tickProps:z,value:"".concat(typeof a=="function"?a(de.value,re):de.value).concat(o||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},G.length>0&&F.createElement(ff,{zIndex:Ls.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},G)),he.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},he))}),kNe=F.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=TNe(n,_Ne),[d,h]=F.useState(""),[g,v]=F.useState(""),C=F.useRef(null);F.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return xNe({ticks:C.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var b=F.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=x;var I=x[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,P=T.letterSpacing;(R!==d||P!==g)&&(h(R),v(P))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:F.createElement(ff,{zIndex:n.zIndex},F.createElement(Uu,{className:kn("recharts-cartesian-axis",s)},F.createElement(PNe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:nf(n)}),F.createElement(QNe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),F.createElement(iPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},F.createElement(fPe,{label:n.label,labelRef:n.labelRef}),n.children)))}),RO=F.forwardRef((n,e)=>{var t=go(n,xp);return F.createElement(kNe,Pp({},t,{ref:e}))});RO.displayName="CartesianAxis";var ONe=["domain","range"],HNe=["domain","range"];function _$(n,e){if(n==null)return{};var t,i,r=VNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function VNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function T$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Fee(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=_$(n,ONe),{domain:s,range:a}=e,o=_$(e,HNe);return!T$(t,s)||!T$(i,a)?!1:UO(r,o)}var KNe=["dangerouslySetInnerHTML","ticks"],GNe=["id"];function vQ(){return vQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vQ.apply(null,arguments)}function I$(n,e){if(n==null)return{};var t,i,r=zNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function qNe(n){var e=Bi(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(gRe(n)):t.current!==n&&e(mRe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(vRe(t.current)),t.current=null)},[e]),null}var $Ne=n=>{var{xAxisId:e,className:t}=n,i=nt(Ek),r=Sa(),s="xAxis",a=nt(E=>Ly(E,s,e,r)),o=nt(E=>SZ(E,s,e,r)),l=nt(E=>bZ(E,e)),u=nt(E=>aFe(E,e)),d=nt(E=>G7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=I$(n,KNe),{id:C}=d,b=I$(d,GNe);return F.createElement(RO,vQ({},v,b,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:kn("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},jNe={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:Ji.allowDuplicatedCategory,angle:Ji.angle,axisLine:xp.axisLine,height:Ji.height,hide:!1,includeHidden:Ji.includeHidden,interval:Ji.interval,minTickGap:Ji.minTickGap,mirror:Ji.mirror,orientation:Ji.orientation,padding:Ji.padding,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,tickLine:xp.tickLine,tickSize:xp.tickSize,type:Ji.type,xAxisId:0},WNe=n=>{var e=go(n,jNe);return F.createElement(F.Fragment,null,F.createElement(qNe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),F.createElement($Ne,e))},Mee=F.memo(WNe,Fee);Mee.displayName="XAxis";var YNe=["dangerouslySetInnerHTML","ticks"],XNe=["id"];function yQ(){return yQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yQ.apply(null,arguments)}function F$(n,e){if(n==null)return{};var t,i,r=JNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function JNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ZNe(n){var e=Bi(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(yRe(n)):t.current!==n&&e(wRe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(bRe(t.current)),t.current=null)},[e]),null}var eLe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=F.useRef(null),a=F.useRef(null),o=nt(Ek),l=Sa(),u=Bi(),d="yAxis",h=nt(P=>Ly(P,d,e,l)),g=nt(P=>CZ(P,e)),v=nt(P=>AFe(P,e)),C=nt(P=>SZ(P,d,e,l)),b=nt(P=>z7(P,e));if(F.useLayoutEffect(()=>{if(!(i!=="auto"||!g||MO(r)||F.isValidElement(r)||b==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(CRe({id:e,width:D}))}}},[C,g,u,r,e,i,b]),g==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:E,ticks:x}=n,I=F$(n,YNe),{id:T}=b,R=F$(b,XNe);return F.createElement(RO,yQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:kn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:C,axisType:d}))},tLe={allowDataOverflow:Zi.allowDataOverflow,allowDecimals:Zi.allowDecimals,allowDuplicatedCategory:Zi.allowDuplicatedCategory,angle:Zi.angle,axisLine:xp.axisLine,hide:!1,includeHidden:Zi.includeHidden,interval:Zi.interval,minTickGap:Zi.minTickGap,mirror:Zi.mirror,orientation:Zi.orientation,padding:Zi.padding,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:Zi.tickCount,tickLine:xp.tickLine,tickSize:xp.tickSize,type:Zi.type,width:Zi.width,yAxisId:0},nLe=n=>{var e=go(n,tLe);return F.createElement(F.Fragment,null,F.createElement(ZNe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),F.createElement(eLe,e))},Uee=F.memo(nLe,Fee);Uee.displayName="YAxis";var iLe=(n,e)=>e,DO=Ae([iLe,an,V7,ji,HZ,Xu,CMe,ur],IMe),NO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},Pee=ho("mouseClick"),Ree=lE();Ree.startListening({actionCreator:Pee,effect:(n,e)=>{var t=n.payload,i=DO(e.getState(),NO(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(CFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var wQ=ho("mouseMove"),Dee=lE(),kx=null;Dee.startListening({actionCreator:wQ,effect:(n,e)=>{var t=n.payload;kx!==null&&cancelAnimationFrame(kx);var i=NO(t);kx=requestAnimationFrame(()=>{var r=e.getState(),s=yO(r,r.tooltip.settings.shared);if(s==="axis"){var a=DO(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(PZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(UZ())}kx=null})}});var M$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Nee=Qs({name:"rootProps",initialState:M$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:M$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),rLe=Nee.reducer,{updateOptions:sLe}=Nee.actions,Lee=Qs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:tke}=Lee.actions,aLe=Lee.reducer,Qee=ho("keyDown"),kee=ho("focus"),LO=lE();LO.startListening({actionCreator:Qee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=wO(r,ky(t),yE(t),EE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Xu(t);if(s==="Enter"){var u=n1(t,"axis","hover",String(r.index));e.dispatch(dQ({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=dFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var C=n1(t,"axis","hover",String(v));e.dispatch(dQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:C}))}}}}}});LO.startListening({actionCreator:kee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=n1(t,"axis","hover",String(s));e.dispatch(dQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ka=ho("externalEvent"),Oee=lE(),bR=new Map;Oee.startListening({actionCreator:ka,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=bR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:oMe(o),activeDataKey:zZ(o),activeIndex:By(o),activeLabel:GZ(o),activeTooltipIndex:By(o),isTooltipActive:AMe(o)};t(l,i)}finally{bR.delete(r)}});bR.set(r,a)}}});var oLe=Ae([Qy],n=>n.tooltipItemPayloads),ALe=Ae([oLe,CE,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),Hee=ho("touchMove"),Vee=lE();Vee.startListening({actionCreator:Hee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=yO(i,i.tooltip.settings.shared);if(r==="axis"){var s=DO(i,NO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(PZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(rSe),d=(a=l.getAttribute(sSe))!==null&&a!==void 0?a:void 0,h=ALe(e.getState(),u,d);e.dispatch(MZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var lLe=H9({brush:aNe,cartesianAxis:BRe,chartData:oUe,errorBars:LRe,graphicalItems:lRe,layout:kEe,legend:exe,options:nUe,polarAxis:IPe,polarOptions:aLe,referenceElements:fNe,rootProps:rLe,tooltip:BFe,zIndex:KMe}),uLe=function(e){return uEe({reducer:lLe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Ree.middleware,Dee.middleware,LO.middleware,Oee.middleware,Vee.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(nJ({type:"raf"}))},devTools:dE.devToolsEnabled})};function cLe(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=Sa(),s=F.useRef(null);if(r)return t;s.current==null&&(s.current=uLe(e));var a=pk;return F.createElement(oDe,{context:a,store:s.current},t)}function dLe(n){var{layout:e,margin:t}=n,i=Bi(),r=Sa();return F.useEffect(()=>{r||(i(NEe(e)),i(DEe(t)))},[i,r,e,t]),null}var fLe=F.memo(dLe,UO);function hLe(n){var e=Bi();return F.useEffect(()=>{e(sLe(n))},[e,n]),null}function U$(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=vee("".concat(i).concat(e)),s=Bi();return F.useLayoutEffect(()=>(s(HMe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(VMe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),F.createElement("g",{tabIndex:-1,id:r})}function P$(n){var{children:e,isPanorama:t}=n,i=nt(MMe);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return F.createElement(F.Fragment,null,r.map(a=>F.createElement(U$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>F.createElement(U$,{key:a,zIndex:a,isPanorama:t})))}var pLe=["children"];function gLe(n,e){if(n==null)return{};var t,i,r=mLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function l1(){return l1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},l1.apply(null,arguments)}var vLe={width:"100%",height:"100%",display:"block"},yLe=F.forwardRef((n,e)=>{var t=NSe(),i=LSe(),r=IJ();if(!rf(t)||!rf(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),F.createElement(s9,l1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:vLe,ref:e}),s)}),wLe=n=>{var{children:e}=n,t=nt(vI);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return F.createElement(s9,{width:i,height:r,x:a,y:s},e)},R$=F.forwardRef((n,e)=>{var{children:t}=n,i=gLe(n,pLe),r=Sa();return r?F.createElement(wLe,null,F.createElement(P$,{isPanorama:!0},t)):F.createElement(yLe,l1({ref:e},i),F.createElement(P$,{isPanorama:!1},t))});function bLe(){var n=Bi(),[e,t]=F.useState(null),i=nt(iSe);return F.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Ci(s)&&s!==i&&n(QEe(s))}},[e,n,i]),t}function D$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(t),!0).forEach(function(i){BLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BLe(n,e,t){return(e=ELe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ELe(n){var e=SLe(n,"string");return typeof e=="symbol"?e:e+""}function SLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rp.apply(null,arguments)}var xLe=()=>(gUe(),null);function u1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var _Le=F.forwardRef((n,e)=>{var t,i,r=F.useRef(null),[s,a]=F.useState({containerWidth:u1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:u1((i=n.style)===null||i===void 0?void 0:i.height)}),o=F.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=C=>{var{width:b,height:E}=C[0].contentRect;o(b,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return F.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),F.createElement(F.Fragment,null,F.createElement(bI,{width:s.containerWidth,height:s.containerHeight}),F.createElement("div",Rp({ref:l},n)))}),TLe=F.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=F.useState({containerWidth:u1(t),containerHeight:u1(i)}),a=F.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=F.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return F.createElement(F.Fragment,null,F.createElement(bI,{width:r.containerWidth,height:r.containerHeight}),F.createElement("div",Rp({ref:o},n)))}),ILe=F.forwardRef((n,e)=>{var{width:t,height:i}=n;return F.createElement(F.Fragment,null,F.createElement(bI,{width:t,height:i}),F.createElement("div",Rp({ref:e},n)))}),FLe=F.forwardRef((n,e)=>{var{width:t,height:i}=n;return Pu(t)||Pu(i)?F.createElement(TLe,Rp({},n,{ref:e})):F.createElement(ILe,Rp({},n,{ref:e}))});function MLe(n){return n===!0?_Le:FLe}var ULe=F.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:C,onTouchStart:b,style:E,width:x,responsive:I,dispatchTouchEvents:T=!0}=n,R=F.useRef(null),P=Bi(),[D,Q]=F.useState(null),[H,k]=F.useState(null),K=bLe(),V=Sk(),q=(V==null?void 0:V.width)>0?V.width:x,J=(V==null?void 0:V.height)>0?V.height:r,te=F.useCallback(ie=>{K(ie),typeof e=="function"&&e(ie),Q(ie),k(ie),ie!=null&&(R.current=ie)},[K,e,Q,k]),he=F.useCallback(ie=>{P(Pee(ie)),P(ka({handler:s,reactEvent:ie}))},[P,s]),G=F.useCallback(ie=>{P(wQ(ie)),P(ka({handler:u,reactEvent:ie}))},[P,u]),$=F.useCallback(ie=>{P(UZ()),P(ka({handler:d,reactEvent:ie}))},[P,d]),re=F.useCallback(ie=>{P(wQ(ie)),P(ka({handler:h,reactEvent:ie}))},[P,h]),de=F.useCallback(()=>{P(kee())},[P]),Ce=F.useCallback(ie=>{P(Qee(ie.key))},[P]),z=F.useCallback(ie=>{P(ka({handler:a,reactEvent:ie}))},[P,a]),X=F.useCallback(ie=>{P(ka({handler:o,reactEvent:ie}))},[P,o]),oe=F.useCallback(ie=>{P(ka({handler:l,reactEvent:ie}))},[P,l]),me=F.useCallback(ie=>{P(ka({handler:g,reactEvent:ie}))},[P,g]),Se=F.useCallback(ie=>{P(ka({handler:b,reactEvent:ie}))},[P,b]),_e=F.useCallback(ie=>{T&&P(Hee(ie)),P(ka({handler:C,reactEvent:ie}))},[P,T,C]),Be=F.useCallback(ie=>{P(ka({handler:v,reactEvent:ie}))},[P,v]),Je=MLe(I);return F.createElement(JZ.Provider,{value:D},F.createElement(Kbe.Provider,{value:H},F.createElement(Je,{width:q??(E==null?void 0:E.width),height:J??(E==null?void 0:E.height),className:kn("recharts-wrapper",i),style:CLe({position:"relative",cursor:"default",width:q,height:J},E),onClick:he,onContextMenu:z,onDoubleClick:X,onFocus:de,onKeyDown:Ce,onMouseDown:oe,onMouseEnter:G,onMouseLeave:$,onMouseMove:re,onMouseUp:me,onTouchEnd:Be,onTouchMove:_e,onTouchStart:Se,ref:te},F.createElement(xLe,null),t)))}),PLe=["width","height","responsive","children","className","style","compact","title","desc"];function RLe(n,e){if(n==null)return{};var t,i,r=DLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function DLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var NLe=F.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=RLe(n,PLe),g=nf(h);return l?F.createElement(F.Fragment,null,F.createElement(bI,{width:t,height:i}),F.createElement(R$,{otherAttributes:g,title:u,desc:d},s)):F.createElement(ULe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},F.createElement(R$,{otherAttributes:g,title:u,desc:d,ref:e},F.createElement(pNe,null,s)))});function bQ(){return bQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bQ.apply(null,arguments)}var LLe={top:5,right:5,bottom:5,left:5},QLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:LLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kLe=F.forwardRef(function(e,t){var i,r=go(e.categoricalChartProps,QLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return F.createElement(cLe,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},F.createElement(sNe,{chartData:u.data}),F.createElement(fLe,{layout:r.layout,margin:r.margin}),F.createElement(hLe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),F.createElement(NLe,bQ({},r,{ref:t})))}),OLe=["axis","item"],HLe=F.forwardRef((n,e)=>F.createElement(kLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OLe,tooltipPayloadSearcher:eUe,categoricalChartProps:n,ref:e}));const VLe=()=>{const{stats:n,highlights:e}=lf(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return L.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[L.jsx(YW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),L.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),L.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[L.jsx(Ox,{icon:L.jsx(Gfe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),L.jsx(Ox,{icon:L.jsx(Ife,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),L.jsx(Ox,{icon:L.jsx(jW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),L.jsx(Ox,{icon:L.jsx(KK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),L.jsx("div",{className:"h-64 w-full",children:L.jsx(PSe,{width:"100%",height:"100%",children:L.jsxs(HLe,{data:t,children:[L.jsx(Mee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),L.jsx(Uee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),L.jsx(EUe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),L.jsx(See,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>L.jsx(IO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),L.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[L.jsx(KK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[L.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>L.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&L.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),L.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:L.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),L.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Ox=({icon:n,label:e,value:t})=>L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),L.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),L.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),KLe=()=>L.jsx(Sre,{children:L.jsx(wfe,{children:L.jsxs(nre,{children:[L.jsx(SR,{path:"/",element:L.jsx(Pbe,{})}),L.jsx(SR,{path:"/report",element:L.jsx(VLe,{})})]})})}),Kee=document.getElementById("root");if(!Kee)throw new Error("Could not find root element to mount to");const GLe=uie.createRoot(Kee);GLe.render(L.jsx(Nw.StrictMode,{children:L.jsx(KLe,{})}));
